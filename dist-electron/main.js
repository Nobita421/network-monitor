"use strict";const me=require("electron"),Fe=require("node:path"),ms=require("node:fs"),Ge=require("os"),Be=require("fs"),Li=require("path"),te=require("child_process"),gs=require("util"),hs=require("https"),xs=require("http"),ys=require("net");function Ss(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const e in t)if(e!=="default"){const i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,i.get?i:{enumerable:!0,get:()=>t[e]})}}return n.default=t,Object.freeze(n)}const Cs=Ss(ms);function _r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Or={};const ws="5.27.11",Ls={version:ws};var T={};const Ut=Ge,Ve=Be,Is=Li,Ii=te.spawn,_s=te.exec,Kt=te.execSync,Os=gs;let At=process.platform;const _i=At==="linux"||At==="android",Pr=At==="darwin",kn=At==="win32",vr=At==="freebsd",Mr=At==="openbsd",Ar=At==="netbsd";let Zn=0,Lt="",Ee="",$e=null,De=null;const Oi=process.env.WINDIR||"C:\\Windows";let ue,bt="",sn=[],Pi=!1,An="";const Ps="$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ",mi="--###START###--",$i="--ERROR--",En="--###ENDCMD###--",gi="--##ID##--",gn={windowsHide:!0,maxBuffer:1024*2e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})},Fn={maxBuffer:1024*2e4,encoding:"UTF-8",stdio:["pipe","pipe","ignore"]};function vs(t){let n=parseInt(t,10);return isNaN(n)&&(n=0),n}function Ms(t){let n=!1,e="",i="";for(const s of t)s>="0"&&s<="9"||n?(n=!0,e+=s):i+=s;return[i,e]}const Pn=new String,hi=new String().replace,xi=new String().toLowerCase,Er=new String().toString,Tr=new String().substr,Dr=new String().substring,Vr=new String().trim,br=new String().startsWith,Br=Math.min;function As(t){return t&&{}.toString.call(t)==="[object Function]"}function Es(t){let n=[],e={};for(let i=0;i<t.length;i++){let s=Object.keys(t[i]);s.sort(function(o,a){return o-a});let r="";for(let o=0;o<s.length;o++)r+=JSON.stringify(s[o]),r+=JSON.stringify(t[i][s[o]]);({}).hasOwnProperty.call(e,r)||(n.push(t[i]),e[r]=!0)}return n}function Ts(t,n){return t.sort(function(e,i){let s="",r="";return n.forEach(function(o){s=s+e[o],r=r+i[o]}),s<r?-1:s>r?1:0})}function Ds(){return Zn===0&&(Zn=Ut.cpus().length),Zn}function je(t,n,e,i,s){e=e||":",n=n.toLowerCase(),i=i||!1,s=s||!1;let r="";return t.some(o=>{let a=o.toLowerCase().replace(/\t/g,"");if(i&&(a=a.trim()),a.startsWith(n)&&(!s||a.match(n+e)||a.match(n+" "+e))){const l=i?o.trim().split(e):o.split(e);if(l.length>=2)return l.shift(),r=l.join(e).trim(),!0}}),r}function Vs(t,n){return n=n||16,t.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],n))})}function bs(t){let n="",e=0;return t.split("").forEach(i=>{i>="0"&&i<="9"?e===1&&e++:(e===0&&e++,e===1&&(n+=i))}),n}function Bs(t,n){n=n||"",t=t.toUpperCase();let e=0,i=0,s=bs(t),r=t.split(s);if(r.length>=2){r[2]&&(r[1]+=r[2]);let o=r[1]&&r[1].toLowerCase().indexOf("pm")>-1||r[1].toLowerCase().indexOf("p.m.")>-1||r[1].toLowerCase().indexOf("p. m.")>-1||r[1].toLowerCase().indexOf("n")>-1||r[1].toLowerCase().indexOf("ch")>-1||r[1].toLowerCase().indexOf("ös")>-1||n&&r[1].toLowerCase().indexOf(n)>-1;return e=parseInt(r[0],10),i=parseInt(r[1],10),e=o&&e<12?e+12:e,("0"+e).substr(-2)+":"+("0"+i).substr(-2)}}function Ns(t,n){const e={date:"",time:""};n=n||{};let i=(n.dateFormat||"").toLowerCase(),s=n.pmDesignator||"";const r=t.split(" ");if(r[0]){if(r[0].indexOf("/")>=0){const o=r[0].split("/");o.length===3&&(o[0].length===4?e.date=o[0]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[2]).substr(-2):o[2].length===2?(i.indexOf("/d/")>-1||i.indexOf("/dd/")>-1,e.date="20"+o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2)):(t.toLowerCase().indexOf("pm")>-1||t.toLowerCase().indexOf("p.m.")>-1||t.toLowerCase().indexOf("p. m.")>-1||t.toLowerCase().indexOf("am")>-1||t.toLowerCase().indexOf("a.m.")>-1||t.toLowerCase().indexOf("a. m.")>-1||i.indexOf("/d/")>-1||i.indexOf("/dd/")>-1)&&i.indexOf("dd/")!==0?e.date=o[2]+"-"+("0"+o[0]).substr(-2)+"-"+("0"+o[1]).substr(-2):e.date=o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2))}if(r[0].indexOf(".")>=0){const o=r[0].split(".");o.length===3&&(i.indexOf(".d.")>-1||i.indexOf(".dd.")>-1?e.date=o[2]+"-"+("0"+o[0]).substr(-2)+"-"+("0"+o[1]).substr(-2):e.date=o[2]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[0]).substr(-2))}if(r[0].indexOf("-")>=0){const o=r[0].split("-");o.length===3&&(e.date=o[0]+"-"+("0"+o[1]).substr(-2)+"-"+("0"+o[2]).substr(-2))}}if(r[1]){r.shift();let o=r.join(" ");e.time=Bs(o,s)}return e}function ks(t,n){let e=n>0,i=1,s=0,r=0,o=[];for(let l=0;l<t.length;l++)i<=n?(/\s/.test(t[l])&&!e&&(r=l-1,o.push({from:s,to:r+1,cap:t.substring(s,r+1)}),s=r+2,i++),e=t[l]===" "):(!/\s/.test(t[l])&&e&&(r=l-1,s<r&&o.push({from:s,to:r,cap:t.substring(s,r)}),s=r+1,i++),e=t[l]===" ");r=5e3,o.push({from:s,to:r,cap:t.substring(s,r)});let a=o.length;for(let l=0;l<a;l++)o[l].cap.replace(/\s/g,"").length===0&&l+1<a&&(o[l].to=o[l+1].to,o[l].cap=o[l].cap+o[l+1].cap,o.splice(l+1,1),a=a-1);return o}function Fs(t,n,e){for(let i=0;i<t.length;i++)if(t[i][n]===e)return i;return-1}function Gs(){if(An="powershell.exe",kn){const t=`${Oi}\\system32\\WindowsPowerShell\\v1.0\\powershell.exe`;Ve.existsSync(t)&&(An=t)}}function Nr(){if(Ut.type()==="Windows_NT"&&!Lt&&(Lt=Oi+"\\system32\\wbem\\wmic.exe",!Ve.existsSync(Lt)))try{const t=Kt("WHERE WMIC",gn).toString().split(`\r
`);t&&t.length?Lt=t[0]:Lt="wmic"}catch{Lt="wmic"}return Lt}function Ws(t){return new Promise(n=>{process.nextTick(()=>{try{kr(Nr()+" "+t).then(e=>{n(e,"")})}catch(e){n("",e)}})})}function Rs(){return kn?`"${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe"`:"vboxmanage"}function ei(t){let n="",e,i="";if(t.indexOf(mi)>=0){e=t.split(mi);const r=e[1].split(gi);n=r[0],r.length>1&&(t=r.slice(1).join(gi))}t.indexOf(En)>=0&&(e=t.split(En),i=e[0]);let s=-1;for(let r=0;r<sn.length;r++)sn[r].id===n&&(s=r,sn[r].callback(i));s>=0&&sn.splice(s,1)}function zs(){ue||(ue=Ii(An,["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:1024*2e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})}),ue&&ue.pid&&(Pi=!0,ue.stdout.on("data",function(t){bt=bt+t.toString("utf8"),t.indexOf(En)>=0&&(ei(bt),bt="")}),ue.stderr.on("data",function(){ei(bt+$i)}),ue.on("error",function(){ei(bt+$i)}),ue.on("close",function(){ue&&ue.kill()})))}function Us(){try{ue&&(ue.stdin.write("exit"+Ut.EOL),ue.stdin.end(),Pi=!1)}catch{ue&&ue.kill()}ue=null}function kr(t){if(Pi){const n=Math.random().toString(36).substring(2,12);return new Promise(e=>{process.nextTick(()=>{function i(s){e(s)}sn.push({id:n,cmd:t,callback:i,start:new Date});try{ue&&ue.pid&&ue.stdin.write(Ps+"echo "+mi+n+gi+"; "+Ut.EOL+t+Ut.EOL+"echo "+En+Ut.EOL)}catch{e("")}})})}else{let n="";return new Promise(e=>{process.nextTick(()=>{try{const i=Ii(An,["-NoProfile","-NoLogo","-InputFormat","Text","-ExecutionPolicy","Unrestricted","-Command",t],{stdio:"pipe",windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})});i&&!i.pid&&i.on("error",function(){e(n)}),i&&i.pid?(i.stdout.on("data",function(s){n=n+s.toString("utf8")}),i.stderr.on("data",function(){i.kill(),e(n)}),i.on("close",function(){i.kill(),e(n)}),i.on("error",function(){i.kill(),e(n)})):e(n)}catch{e(n)}})})}}function Hs(t,n,e){let i="";return e=e||{},new Promise(s=>{process.nextTick(()=>{try{const r=Ii(t,n,e);r&&!r.pid&&r.on("error",function(){s(i)}),r&&r.pid?(r.stdout.on("data",function(o){i+=o.toString()}),r.on("close",function(){r.kill(),s(i)}),r.on("error",function(){r.kill(),s(i)})):s(i)}catch{s(i)}})})}function $s(){if(kn){if(!Ee)try{const e=Kt("chcp",gn).toString().split(`\r
`)[0].split(":");Ee=e.length>1?e[1].replace(".","").trim():""}catch{Ee="437"}return Ee}if(_i||Pr||vr||Mr||Ar){if(!Ee)try{const e=Kt("echo $LANG",Fn).toString().split(`\r
`)[0].split(".");Ee=e.length>1?e[1].trim():"",Ee||(Ee="UTF-8")}catch{Ee="UTF-8"}return Ee}}function Xs(){if($e!==null)return $e;if($e=!1,kn)try{const t=Kt("WHERE smartctl 2>nul",gn).toString().split(`\r
`);t&&t.length?$e=t[0].indexOf(":\\")>=0:$e=!1}catch{$e=!1}if(_i||Pr||vr||Mr||Ar)try{$e=Kt("which smartctl 2>/dev/null",Fn).toString().split(`\r
`).length>0}catch{Os.noop()}return $e}function Ks(t){const n=["BCM2708","BCM2709","BCM2710","BCM2711","BCM2712","BCM2835","BCM2836","BCM2837","BCM2837B0"];if(De!==null)t=De;else if(t===void 0)try{t=Ve.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),De=t}catch{return!1}const e=je(t,"hardware"),i=je(t,"model");return e&&n.indexOf(e)>-1||i&&i.indexOf("Raspberry Pi")>-1}function qs(){let t=[];try{t=Ve.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split(`
`)}catch{return!1}const n=je(t,"id","=");return n&&n.indexOf("raspbian")>-1}function js(t,n,e){e||(e=n,n=gn);let i="chcp 65001 > nul && cmd /C "+t+" && chcp "+Ee+" > nul";_s(i,n,function(s,r){e(s,r)})}function Ys(){const t=Ve.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),n=Ve.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),e=Ve.existsSync("/Library/Developer/Xcode/");return t||e||n}function Js(){const t=process.hrtime();return!Array.isArray(t)||t.length!==2?0:+t[0]*1e9+ +t[1]}function Qs(t,n){n=n||"";const e=[];return t.forEach(i=>{i.startsWith(n)&&e.indexOf(i)===-1&&e.push(i)}),e.length}function Zs(t,n){n=n||"";const e=[];return t.forEach(i=>{i.startsWith(n)&&e.push(i)}),e.length}function eo(t,n){typeof n>"u"&&(n=!1);const e=t||"";let i="";const s=Br(e.length,2e3);for(let r=0;r<=s;r++)e[r]===void 0||e[r]===">"||e[r]==="<"||e[r]==="*"||e[r]==="?"||e[r]==="["||e[r]==="]"||e[r]==="|"||e[r]==="˚"||e[r]==="$"||e[r]===";"||e[r]==="&"||e[r]==="]"||e[r]==="#"||e[r]==="\\"||e[r]==="	"||e[r]===`
`||e[r]==="\r"||e[r]==="'"||e[r]==="`"||e[r]==='"'||e[r].length>1||n&&e[r]==="("||n&&e[r]===")"||n&&e[r]==="@"||n&&e[r]===" "||n&&e[r]=="{"||n&&e[r]==";"||n&&e[r]=="}"||(i=i+e[r]);return i}function to(){const t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let n=!0,e="";try{e.__proto__.replace=hi,e.__proto__.toLowerCase=xi,e.__proto__.toString=Er,e.__proto__.substr=Tr,e.__proto__.substring=Dr,e.__proto__.trim=Vr,e.__proto__.startsWith=br}catch{Object.setPrototypeOf(e,Pn)}n=n||t.length!==62;const i=Date.now();if(typeof i=="number"&&i>16e11){const s=i%100+15;for(let c=0;c<s;c++){const u=Math.random()*61.99999999+1,f=parseInt(Math.floor(u).toString(),10),p=parseInt(u.toString().split(".")[0],10),d=Math.random()*61.99999999+1,m=parseInt(Math.floor(d).toString(),10),g=parseInt(d.toString().split(".")[0],10);n=n&&u!==d,n=n&&f===p&&m===g,e+=t[f-1]}n=n&&e.length===s;let r=Math.random()*s*.9999999999,o=e.substr(0,r)+" "+e.substr(r,2e3);try{o.__proto__.replace=hi}catch{Object.setPrototypeOf(o,Pn)}let a=o.replace(/ /g,"");n=n&&e===a,r=Math.random()*s*.9999999999,o=e.substr(0,r)+"{"+e.substr(r,2e3),a=o.replace(/{/g,""),n=n&&e===a,r=Math.random()*s*.9999999999,o=e.substr(0,r)+"*"+e.substr(r,2e3),a=o.replace(/\*/g,""),n=n&&e===a,r=Math.random()*s*.9999999999,o=e.substr(0,r)+"$"+e.substr(r,2e3),a=o.replace(/\$/g,""),n=n&&e===a;const l=e.toLowerCase();n=n&&l.length===s&&l[s-1]&&!l[s];for(let c=0;c<s;c++){const u=e[c];try{u.__proto__.toLowerCase=xi}catch{Object.setPrototypeOf(e,Pn)}const f=l?l[c]:"",p=u.toLowerCase();n=n&&p[0]===f&&p[0]&&!p[1]}}return!n}function no(t){return("00000000"+parseInt(t,16).toString(2)).substr(-8)}function io(t){const n=Ve.lstatSync,e=Ve.readdirSync,i=Is.join;function s(c){return n(c).isDirectory()}function r(c){return n(c).isFile()}function o(c){return e(c).map(function(u){return i(c,u)}).filter(s)}function a(c){return e(c).map(function(u){return i(c,u)}).filter(r)}function l(c){try{return o(c).map(function(p){return l(p)}).reduce(function(p,d){return p.concat(d)},[]).concat(a(c))}catch{return[]}}return Ve.existsSync(t)?l(t):[]}function Fr(t){De===null?De=t:t===void 0&&(t=De);const n={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB	Embest",processor:"BCM2835"}},e=["BCM2835","BCM2836","BCM2837","BCM2711","BCM2712"],i=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"],s={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only",10:"CM3+",11:"4B",12:"Zero 2 W",13:"400",14:"CM4",15:"CM4S",16:"Internal use only",17:"5",18:"CM5",19:"500/500+","1a":"CM5 Lite"},r=je(t,"revision",":",!0),o=je(t,"model:",":",!0),a=je(t,"serial",":",!0);let l={};if({}.hasOwnProperty.call(n,r))l={model:o,serial:a,revisionCode:r,memory:n[r].memory,manufacturer:n[r].manufacturer,processor:n[r].processor,type:n[r].type,revision:n[r].revision};else{const c=("00000000"+je(t,"revision",":",!0).toLowerCase()).substr(-8),u=parseInt(no(c.substr(2,1)).substr(5,3),2)||0,f=i[parseInt(c.substr(3,1),10)],p=e[parseInt(c.substr(4,1),10)],d=c.substr(5,2);l={model:o,serial:a,revisionCode:r,memory:256*Math.pow(2,u),manufacturer:f,processor:p,type:{}.hasOwnProperty.call(s,d)?s[d]:"",revision:"1."+c.substr(7,1)}}return l}function ro(t){if(De===null&&t!==void 0)De=t;else if(t===void 0&&De!==null)t=De;else try{t=Ve.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),De=t}catch{return!1}const n=Fr(t);return n.type==="4B"||n.type==="CM4"||n.type==="CM4S"||n.type==="400"?"VideoCore VI":n.type==="5"||n.type==="500"?"VideoCore VII":"VideoCore IV"}function so(t){const n=t.map(function(s){return new Promise(function(r){let o=new Array(2);s.then(function(a){o[0]=a}).catch(function(a){o[1]=a}).then(function(){r(o)})})}),e=[],i=[];return Promise.all(n).then(function(s){return s.forEach(function(r){r[1]?(e.push(r[1]),i.push(null)):(e.push(null),i.push(r[0]))}),{errors:e,results:i}})}function oo(t){return function(){const n=Array.prototype.slice.call(arguments);return new Promise(function(e,i){n.push(function(s,r){s?i(s):e(r)}),t.apply(null,n)})}}function ao(t){return function(){const n=Array.prototype.slice.call(arguments);return new Promise(function(e){n.push(function(i,s){e(s)}),t.apply(null,n)})}}function lo(){let t="";if(_i)try{t=Kt("uname -v",Fn).toString()}catch{t=""}return t}function co(t){const n=["array","dict","key","string","integer","date","real","data","boolean","arrayEmpty"];let i=t.indexOf("<plist version"),s=t.length;for(;t[i]!==">"&&i<s;)i++;let r=0,o=!1,a=!1,l=!1,c=[{tagStart:"",tagEnd:"",tagContent:"",key:"",data:null}],u="",f=t[i];for(;i<s;)u=f,i+1<s&&(f=t[i+1]),u==="<"?(a=!1,f==="/"?l=!0:c[r].tagStart?(c[r].tagContent="",c[r].data||(c[r].data=c[r].tagStart==="array"?[]:{}),r++,c.push({tagStart:"",tagEnd:"",tagContent:"",key:null,data:null}),o=!0,a=!1):o||(o=!0)):u===">"?(c[r].tagStart==="true/"&&(o=!1,l=!0,c[r].tagStart="",c[r].tagEnd="/boolean",c[r].data=!0),c[r].tagStart==="false/"&&(o=!1,l=!0,c[r].tagStart="",c[r].tagEnd="/boolean",c[r].data=!1),c[r].tagStart==="array/"&&(o=!1,l=!0,c[r].tagStart="",c[r].tagEnd="/arrayEmpty",c[r].data=[]),a&&(a=!1),o&&(o=!1,a=!0,c[r].tagStart==="array"&&(c[r].data=[]),c[r].tagStart==="dict"&&(c[r].data={})),l&&(l=!1,c[r].tagEnd&&n.indexOf(c[r].tagEnd.substr(1))>=0&&(c[r].tagEnd==="/dict"||c[r].tagEnd==="/array"?(r>1&&c[r-2].tagStart==="array"&&c[r-2].data.push(c[r-1].data),r>1&&c[r-2].tagStart==="dict"&&(c[r-2].data[c[r-1].key]=c[r-1].data),r--,c.pop(),c[r].tagContent="",c[r].tagStart="",c[r].tagEnd=""):(c[r].tagEnd==="/key"&&c[r].tagContent?c[r].key=c[r].tagContent:(c[r].tagEnd==="/real"&&c[r].tagContent&&(c[r].data=parseFloat(c[r].tagContent)||0),c[r].tagEnd==="/integer"&&c[r].tagContent&&(c[r].data=parseInt(c[r].tagContent)||0),c[r].tagEnd==="/string"&&c[r].tagContent&&(c[r].data=c[r].tagContent||""),c[r].tagEnd==="/boolean"&&(c[r].data=c[r].tagContent||!1),c[r].tagEnd==="/arrayEmpty"&&(c[r].data=c[r].tagContent||[]),r>0&&c[r-1].tagStart==="array"&&c[r-1].data.push(c[r].data),r>0&&c[r-1].tagStart==="dict"&&(c[r-1].data[c[r].key]=c[r].data)),c[r].tagContent="",c[r].tagStart="",c[r].tagEnd="")),c[r].tagEnd="",o=!1,a=!1)):(o&&(c[r].tagStart+=u),l&&(c[r].tagEnd+=u),a&&(c[r].tagContent+=u)),i++;return c[0].data}function Xi(t){return typeof t=="string"&&!isNaN(t)&&!isNaN(parseFloat(t))}function uo(t){const n=t.split(`
`);for(let i=0;i<n.length;i++){if(n[i].indexOf(" = ")>=0){const s=n[i].split(" = ");if(s[0]=s[0].trim(),s[0].startsWith('"')||(s[0]='"'+s[0]+'"'),s[1]=s[1].trim(),s[1].indexOf('"')===-1&&s[1].endsWith(";")){const r=s[1].substring(0,s[1].length-1);Xi(r)||(s[1]=`"${r}";`)}if(s[1].indexOf('"')>=0&&s[1].endsWith(";")){const r=s[1].substring(0,s[1].length-1).replace(/"/g,"");Xi(r)&&(s[1]=`${r};`)}n[i]=s.join(" : ")}n[i]=n[i].replace(/\(/g,"[").replace(/\)/g,"]").replace(/;/g,",").trim(),n[i].startsWith("}")&&n[i-1]&&n[i-1].endsWith(",")&&(n[i-1]=n[i-1].substring(0,n[i-1].length-1))}t=n.join("");let e={};try{e=JSON.parse(t)}catch{}return e}function po(t,n){let e=0;const i=t.split("."),s=n.split(".");return i[0]<s[0]?e=1:i[0]>s[0]?e=-1:i[0]===s[0]&&i.length>=2&&s.length>=2&&(i[1]<s[1]?e=1:i[1]>s[1]?e=-1:i[1]===s[1]&&(i.length>=3&&s.length>=3?i[2]<s[2]?e=1:i[2]>s[2]&&(e=-1):s.length>=3&&(e=1))),e}function fo(t){const e=[{key:"Mac15,12",name:"MacBook Air",size:"13-inch",processor:"M3",year:"2024",additional:""},{key:"Mac14,15",name:"MacBook Air",size:"15-inch",processor:"M2",year:"2024",additional:""},{key:"Mac14,2",name:"MacBook Air",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookAir10,1",name:"MacBook Air",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookAir9,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2020",additional:""},{key:"MacBookAir8,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookAir8,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2018",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2017",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir7,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir5,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir5,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir4,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir4,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir3,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir3,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir2,1",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"Mac16,1",name:"MacBook Pro",size:"14-inch",processor:"M4",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"14-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,8",name:"MacBook Pro",size:"14-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac16,5",name:"MacBook Pro",size:"16-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"16-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac15,3",name:"MacBook Pro",size:"14-inch",processor:"M3",year:"Nov 2023",additional:""},{key:"Mac15,6",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,8",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,10",name:"MacBook Pro",size:"14-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac15,7",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,9",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,11",name:"MacBook Pro",size:"16-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac14,5",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,9",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,6",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,10",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,7",name:"MacBook Pro",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookPro18,3",name:"MacBook Pro",size:"14-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,4",name:"MacBook Pro",size:"14-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro18,1",name:"MacBook Pro",size:"16-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,2",name:"MacBook Pro",size:"16-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro17,1",name:"MacBook Pro",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookPro16,3",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro16,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro16,1",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro16,4",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,4",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2018",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2018",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro14,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2017",additional:""},{key:"MacBookPro13,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro13,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro13,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2016",additional:""},{key:"MacBookPro11,4",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro11,5",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro12,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookPro11,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro10,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro10,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2012",additional:""},{key:"MacBookPro9,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro9,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro8,3",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro6,1",name:"MacBook Pro",size:"17-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro6,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro7,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro5,2",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2009",additional:""},{key:"MacBookPro5,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,5",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2008",additional:""},{key:"MacBookPro4,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2008",additional:""},{key:"MacBook10,1",name:"MacBook",size:"12-inch",processor:"",year:"2017",additional:""},{key:"MacBook9,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2016",additional:""},{key:"MacBook8,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBook7,1",name:"MacBook",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBook6,1",name:"MacBook",size:"13-inch",processor:"",year:"Late 2009",additional:""},{key:"MacBook5,2",name:"MacBook",size:"13-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,13",name:"Mac Studio",size:"",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,14",name:"Mac Studio",size:"",processor:"M2 Ultra",year:"2023",additional:""},{key:"Mac15,14",name:"Mac Studio",size:"",processor:"M3 Ultra",year:"2025",additional:""},{key:"Mac16,9",name:"Mac Studio",size:"",processor:"M4 Max",year:"2025",additional:""},{key:"Mac13,1",name:"Mac Studio",size:"",processor:"M1 Max",year:"2022",additional:""},{key:"Mac13,2",name:"Mac Studio",size:"",processor:"M1 Ultra",year:"2022",additional:""},{key:"Mac16,11",name:"Mac mini",size:"",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,10",name:"Mac mini",size:"",processor:"M4",year:"2024",additional:""},{key:"Mac14,3",name:"Mac mini",size:"",processor:"M2",year:"2023",additional:""},{key:"Mac14,12",name:"Mac mini",size:"",processor:"M2 Pro",year:"2023",additional:""},{key:"Macmini9,1",name:"Mac mini",size:"",processor:"M1",year:"2020",additional:""},{key:"Macmini8,1",name:"Mac mini",size:"",processor:"",year:"Late 2018",additional:""},{key:"Macmini7,1",name:"Mac mini",size:"",processor:"",year:"Late 2014",additional:""},{key:"Macmini6,1",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini6,2",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini5,1",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini5,2",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini4,1",name:"Mac mini",size:"",processor:"",year:"Mid 2010",additional:""},{key:"Macmini3,1",name:"Mac mini",size:"",processor:"",year:"Early 2009",additional:""},{key:"Mac16,3",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Four ports"},{key:"Mac16,2",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Two ports"},{key:"Mac15,5",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Four ports"},{key:"Mac15,4",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Two ports"},{key:"iMac21,1",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac21,2",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac20,1",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac20,2",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac19,1",name:"iMac",size:"27-inch",processor:"",year:"2019",additional:"Retina 5K"},{key:"iMac19,2",name:"iMac",size:"21.5-inch",processor:"",year:"2019",additional:"Retina 4K"},{key:"iMacPro1,1",name:"iMac Pro",size:"",processor:"",year:"2017",additional:""},{key:"iMac18,3",name:"iMac",size:"27-inch",processor:"",year:"2017",additional:"Retina 5K"},{key:"iMac18,2",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:"Retina 4K"},{key:"iMac18,1",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:""},{key:"iMac17,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2015",additional:"Retina 5K"},{key:"iMac16,2",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:"Retina 4K"},{key:"iMac16,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:""},{key:"iMac15,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2014",additional:"Retina 5K"},{key:"iMac14,4",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2014",additional:""},{key:"iMac14,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac14,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac13,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac13,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac12,2",name:"iMac",size:"27-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac12,1",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac11,3",name:"iMac",size:"27-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac11,2",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac10,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2009",additional:""},{key:"iMac9,1",name:"iMac",size:"20-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:"Rack"},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:""},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:"Rack"},{key:"MacPro6,1",name:"Mac Pro",size:"",processor:"",year:"Late 2013",additional:""},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2012",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2012",additional:"Server"},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2010",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2010",additional:"Server"},{key:"MacPro4,1",name:"Mac Pro",size:"",processor:"",year:"Early 2009",additional:""}].filter(s=>s.key===t);if(e.length===0)return{key:t,model:"Apple",version:"Unknown"};const i=[];return e[0].size&&i.push(e[0].size),e[0].processor&&i.push(e[0].processor),e[0].year&&i.push(e[0].year),e[0].additional&&i.push(e[0].additional),{key:t,model:e[0].name,version:e[0].name+" ("+i.join(", ")+")"}}function mo(t,n=5e3){const e=t.startsWith("https:")||t.indexOf(":443/")>0||t.indexOf(":8443/")>0?hs:xs,i=Date.now();return new Promise(s=>{const r=e.get(t,function(o){o.on("data",()=>{}),o.on("end",()=>{s({url:t,statusCode:o.statusCode,message:o.statusMessage,time:Date.now()-i})})}).on("error",function(o){s({url:t,statusCode:404,message:o.message,time:Date.now()-i})}).setTimeout(n,()=>{r.destroy(),s({url:t,statusCode:408,message:"Request Timeout",time:Date.now()-i})})})}function go(t){return t.replace(/To Be Filled By O.E.M./g,"")}function ho(){}T.toInt=vs;T.splitByNumber=Ms;T.execOptsWin=gn;T.execOptsLinux=Fn;T.getCodepage=$s;T.execWin=js;T.isFunction=As;T.unique=Es;T.sortByKey=Ts;T.cores=Ds;T.getValue=je;T.decodeEscapeSequence=Vs;T.parseDateTime=Ns;T.parseHead=ks;T.findObjectByKey=Fs;T.getWmic=Nr;T.wmic=Ws;T.darwinXcodeExists=Ys;T.getVboxmanage=Rs;T.powerShell=kr;T.powerShellStart=zs;T.powerShellRelease=Us;T.execSafe=Hs;T.nanoSeconds=Js;T.countUniqueLines=Qs;T.countLines=Zs;T.noop=ho;T.isRaspberry=Ks;T.isRaspbian=qs;T.sanitizeShellString=eo;T.isPrototypePolluted=to;T.decodePiCpuinfo=Fr;T.getRpiGpu=ro;T.promiseAll=so;T.promisify=oo;T.promisifySave=ao;T.smartMonToolsInstalled=Xs;T.linuxVersion=lo;T.plistParser=co;T.plistReader=uo;T.stringObj=Pn;T.stringReplace=hi;T.stringToLower=xi;T.stringToString=Er;T.stringSubstr=Tr;T.stringSubstring=Dr;T.stringTrim=Vr;T.stringStartWith=br;T.mathMin=Br;T.WINDIR=Oi;T.getFilesInPath=io;T.semverCompare=po;T.getAppleModel=fo;T.checkWebsite=mo;T.cleanString=go;T.getPowershell=Gs;var hn={},Et={};const Ae=Ge,we=Be,N=T,F=te.exec,an=te.execSync;let be=process.platform;const jt=be==="linux"||be==="android",Le=be==="darwin",Ie=be==="win32",vi=be==="freebsd",Mi=be==="openbsd",Ai=be==="netbsd",xo=be==="sunos";function yo(){let t=new Date().toString().split(" "),n="";try{n=Intl.DateTimeFormat().resolvedOptions().timeZone}catch{n=t.length>=7?t.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}const e={current:Date.now(),uptime:Ae.uptime(),timezone:t.length>=7?t[5]:"",timezoneName:n};if(Le||jt)try{const s=an("date +%Z && date +%z && ls -l /etc/localtime 2>/dev/null",N.execOptsLinux).toString().split(Ae.EOL);s.length>3&&!s[0]&&s.shift();let r=s[0]||"";return(r.startsWith("+")||r.startsWith("-"))&&(r="GMT"),{current:Date.now(),uptime:Ae.uptime(),timezone:s[1]?r+s[1]:r,timezoneName:s[2]&&s[2].indexOf("/zoneinfo/")>0&&s[2].split("/zoneinfo/")[1]||""}}catch{N.noop()}return e}Et.time=yo;function Zt(t){t=t||"",t=t.toLowerCase();let n=be;return Ie?n="windows":t.indexOf("mac os")!==-1||t.indexOf("macos")!==-1?n="apple":t.indexOf("arch")!==-1?n="arch":t.indexOf("cachy")!==-1?n="cachy":t.indexOf("centos")!==-1?n="centos":t.indexOf("coreos")!==-1?n="coreos":t.indexOf("debian")!==-1?n="debian":t.indexOf("deepin")!==-1?n="deepin":t.indexOf("elementary")!==-1?n="elementary":t.indexOf("endeavour")!==-1?n="endeavour":t.indexOf("fedora")!==-1?n="fedora":t.indexOf("gentoo")!==-1?n="gentoo":t.indexOf("mageia")!==-1?n="mageia":t.indexOf("mandriva")!==-1?n="mandriva":t.indexOf("manjaro")!==-1?n="manjaro":t.indexOf("mint")!==-1?n="mint":t.indexOf("mx")!==-1?n="mx":t.indexOf("openbsd")!==-1?n="openbsd":t.indexOf("freebsd")!==-1?n="freebsd":t.indexOf("opensuse")!==-1?n="opensuse":t.indexOf("pclinuxos")!==-1?n="pclinuxos":t.indexOf("puppy")!==-1?n="puppy":t.indexOf("popos")!==-1?n="popos":t.indexOf("raspbian")!==-1?n="raspbian":t.indexOf("reactos")!==-1?n="reactos":t.indexOf("redhat")!==-1?n="redhat":t.indexOf("slackware")!==-1?n="slackware":t.indexOf("sugar")!==-1?n="sugar":t.indexOf("steam")!==-1?n="steam":t.indexOf("suse")!==-1?n="suse":t.indexOf("mate")!==-1?n="ubuntu-mate":t.indexOf("lubuntu")!==-1?n="lubuntu":t.indexOf("xubuntu")!==-1?n="xubuntu":t.indexOf("ubuntu")!==-1?n="ubuntu":t.indexOf("solaris")!==-1?n="solaris":t.indexOf("tails")!==-1?n="tails":t.indexOf("feren")!==-1?n="ferenos":t.indexOf("robolinux")!==-1?n="robolinux":jt&&t&&(n=t.toLowerCase().trim().replace(/\s+/g,"-")),n}function So(){let t=Ae.hostname;if(jt||Le)try{t=an("hostname -f 2>/dev/null",N.execOptsLinux).toString().split(Ae.EOL)[0]}catch{N.noop()}if(vi||Mi||Ai)try{t=an("hostname 2>/dev/null").toString().split(Ae.EOL)[0]}catch{N.noop()}if(Ie)try{t=an("echo %COMPUTERNAME%.%USERDNSDOMAIN%",N.execOptsWin).toString().replace(".%USERDNSDOMAIN%","").split(Ae.EOL)[0]}catch{N.noop()}return t}function Co(t){return new Promise(n=>{process.nextTick(()=>{let e={platform:be==="win32"?"Windows":be,distro:"unknown",release:"unknown",codename:"",kernel:Ae.release(),arch:Ae.arch(),hostname:Ae.hostname(),fqdn:So(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(jt&&F("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",function(i,s){let r={};s.toString().split(`
`).forEach(function(u){u.indexOf("=")!==-1&&(r[u.split("=")[0].trim().toUpperCase()]=u.split("=")[1].trim())}),e.distro=(r.DISTRIB_ID||r.NAME||"unknown").replace(/"/g,""),e.logofile=Zt(e.distro);let a=(r.VERSION||"").replace(/"/g,""),l=(r.DISTRIB_CODENAME||r.VERSION_CODENAME||"").replace(/"/g,"");const c=(r.PRETTY_NAME||"").replace(/"/g,"");c.indexOf(e.distro+" ")===0&&(a=c.replace(e.distro+" ","").trim()),a.indexOf("(")>=0&&(l=a.split("(")[1].replace(/[()]/g,"").trim(),a=a.split("(")[0].trim()),e.release=(a||r.DISTRIB_RELEASE||r.VERSION_ID||"unknown").replace(/"/g,""),e.codename=l,e.codepage=N.getCodepage(),e.build=(r.BUILD_ID||"").replace(/"/g,"").trim(),wo().then(u=>{e.uefi=u,Gr().then(f=>{e.serial=f.os,t&&t(e),n(e)})})}),(vi||Mi||Ai)&&F("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod kern.geom.confxml",function(i,s){let r=s.toString().split(`
`);const o=N.getValue(r,"kern.ostype"),a=Zt(o),l=N.getValue(r,"kern.osrelease").split("-")[0],c=N.getValue(r,"kern.uuid"),u=N.getValue(r,"machdep.bootmethod"),f=s.toString().indexOf("<type>efi</type>")>=0,p=u?u.toLowerCase().indexOf("uefi")>=0:f||null;e.distro=o||e.distro,e.logofile=a||e.logofile,e.release=l||e.release,e.serial=c||e.serial,e.codename="",e.codepage=N.getCodepage(),e.uefi=p||null,t&&t(e),n(e)}),Le&&F("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",function(i,s){let r=s.toString().split(`
`);e.serial=N.getValue(r,"kern.uuid"),e.distro=N.getValue(r,"ProductName"),e.release=(N.getValue(r,"ProductVersion",":",!0,!0)+" "+N.getValue(r,"ProductVersionExtra",":",!0,!0)).trim(),e.build=N.getValue(r,"BuildVersion"),e.logofile=Zt(e.distro),e.codename="macOS",e.codename=e.release.indexOf("10.4")>-1?"OS X Tiger":e.codename,e.codename=e.release.indexOf("10.5")>-1?"OS X Leopard":e.codename,e.codename=e.release.indexOf("10.6")>-1?"OS X Snow Leopard":e.codename,e.codename=e.release.indexOf("10.7")>-1?"OS X Lion":e.codename,e.codename=e.release.indexOf("10.8")>-1?"OS X Mountain Lion":e.codename,e.codename=e.release.indexOf("10.9")>-1?"OS X Mavericks":e.codename,e.codename=e.release.indexOf("10.10")>-1?"OS X Yosemite":e.codename,e.codename=e.release.indexOf("10.11")>-1?"OS X El Capitan":e.codename,e.codename=e.release.indexOf("10.12")>-1?"Sierra":e.codename,e.codename=e.release.indexOf("10.13")>-1?"High Sierra":e.codename,e.codename=e.release.indexOf("10.14")>-1?"Mojave":e.codename,e.codename=e.release.indexOf("10.15")>-1?"Catalina":e.codename,e.codename=e.release.startsWith("11.")?"Big Sur":e.codename,e.codename=e.release.startsWith("12.")?"Monterey":e.codename,e.codename=e.release.startsWith("13.")?"Ventura":e.codename,e.codename=e.release.startsWith("14.")?"Sonoma":e.codename,e.codename=e.release.startsWith("15.")?"Sequoia":e.codename,e.codename=e.release.startsWith("16.")?"Tahoe":e.codename,e.codename=e.release.startsWith("26.")?"Tahoe":e.codename,e.uefi=!0,e.codepage=N.getCodepage(),t&&t(e),n(e)}),xo&&(e.release=e.kernel,F("uname -o",function(i,s){let r=s.toString().split(`
`);e.distro=r[0],e.logofile=Zt(e.distro),t&&t(e),n(e)})),Ie){e.logofile=Zt(),e.release=e.kernel;try{const i=[];i.push(N.powerShell("Get-CimInstance Win32_OperatingSystem | select Caption,SerialNumber,BuildNumber,ServicePackMajorVersion,ServicePackMinorVersion | fl")),i.push(N.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),i.push(N.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession")),N.promiseAll(i).then(s=>{let r=s.results[0]?s.results[0].toString().split(`\r
`):[""];e.distro=N.getValue(r,"Caption",":").trim(),e.serial=N.getValue(r,"SerialNumber",":").trim(),e.build=N.getValue(r,"BuildNumber",":").trim(),e.servicepack=N.getValue(r,"ServicePackMajorVersion",":").trim()+"."+N.getValue(r,"ServicePackMinorVersion",":").trim(),e.codepage=N.getCodepage();const o=s.results[1]?s.results[1].toString().toLowerCase():"";e.hypervisor=o.indexOf("true")!==-1;const a=s.results[2]?s.results[2].toString():"";e.remoteSession=a.toString().toLowerCase().indexOf("true")>=0,Lo().then(l=>{e.uefi=l,t&&t(e),n(e)})})}catch{t&&t(e),n(e)}}})})}Et.osInfo=Co;function wo(){return new Promise(t=>{process.nextTick(()=>{we.stat("/sys/firmware/efi",function(n){if(n)F('dmesg | grep -E "EFI v"',function(e,i){if(!e){const s=i.toString().split(`
`);return t(s.length>0)}return t(!1)});else return t(!0)})})})}function Lo(){return new Promise(t=>{process.nextTick(()=>{try{F('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',N.execOptsWin,function(n,e){if(n)F("echo %firmware_type%",N.execOptsWin,function(i,s){if(i)return t(!1);{const r=s.toString()||"";return t(r.toLowerCase().indexOf("efi")>=0)}});else{const i=e.toString().split(`
\r`)[0];return t(i.toLowerCase().indexOf("efi")>=0)}})}catch{return t(!1)}})})}function Io(t,n){let e={kernel:Ae.release(),apache:"",bash:"",bun:"",deno:"",docker:"",dotnet:"",fish:"",gcc:"",git:"",grunt:"",gulp:"",homebrew:"",java:"",mongodb:"",mysql:"",nginx:"",node:"",npm:"",openssl:"",perl:"",php:"",pip3:"",pip:"",pm2:"",postfix:"",postgresql:"",powershell:"",python3:"",python:"",redis:"",systemOpenssl:"",systemOpensslLib:"",tsc:"",v8:process.versions.v8,virtualbox:"",yarn:"",zsh:""};function i(s){if(s==="*")return{versions:e,counter:34};if(!Array.isArray(s)){s=s.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|"),s=s.split("|");const r={versions:{},counter:0};return s.forEach(o=>{if(o)for(let a in e)({}).hasOwnProperty.call(e,a)&&a.toLowerCase()===o.toLowerCase()&&!{}.hasOwnProperty.call(r.versions,a)&&(r.versions[a]=e[a],a==="openssl"&&(r.versions.systemOpenssl="",r.versions.systemOpensslLib=""),r.versions[a]||r.counter++)}),r}}return new Promise(s=>{process.nextTick(()=>{if(N.isFunction(t)&&!n)n=t,t="*";else if(t=t||"*",typeof t!="string")return n&&n({}),s({});const r=i(t);let o=r.counter,a=function(){return function(){--o===0&&(n&&n(r.versions),s(r.versions))}}(),l="";try{if({}.hasOwnProperty.call(r.versions,"openssl")&&(r.versions.openssl=process.versions.openssl,F("openssl version",function(c,u){if(!c){let p=u.toString().split(`
`)[0].trim().split(" ");r.versions.systemOpenssl=p.length>0?p[1]:p[0],r.versions.systemOpensslLib=p.length>0?p[0]:"openssl"}a()})),{}.hasOwnProperty.call(r.versions,"npm")&&F("npm -v",function(c,u){c||(r.versions.npm=u.toString().split(`
`)[0]),a()}),{}.hasOwnProperty.call(r.versions,"pm2")&&(l="pm2",Ie&&(l+=".cmd"),F(`${l} -v`,function(c,u){if(!c){let f=u.toString().split(`
`)[0].trim();f.startsWith("[PM2]")||(r.versions.pm2=f)}a()})),{}.hasOwnProperty.call(r.versions,"yarn")&&F("yarn --version",function(c,u){c||(r.versions.yarn=u.toString().split(`
`)[0]),a()}),{}.hasOwnProperty.call(r.versions,"gulp")&&(l="gulp",Ie&&(l+=".cmd"),F(`${l} --version`,function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.gulp=(f.toLowerCase().split("version")[1]||"").trim()}a()})),{}.hasOwnProperty.call(r.versions,"homebrew")&&(l="brew",F(`${l} --version`,function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.homebrew=(f.toLowerCase().split(" ")[1]||"").trim()}a()})),{}.hasOwnProperty.call(r.versions,"tsc")&&(l="tsc",Ie&&(l+=".cmd"),F(`${l} --version`,function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.tsc=(f.toLowerCase().split("version")[1]||"").trim()}a()})),{}.hasOwnProperty.call(r.versions,"grunt")&&(l="grunt",Ie&&(l+=".cmd"),F(`${l} --version`,function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.grunt=(f.toLowerCase().split("cli v")[1]||"").trim()}a()})),{}.hasOwnProperty.call(r.versions,"git"))if(Le){const c=we.existsSync("/usr/local/Cellar/git")||we.existsSync("/opt/homebrew/bin/git");N.darwinXcodeExists()||c?F("git --version",function(u,f){if(!u){let p=f.toString().split(`
`)[0]||"";p=(p.toLowerCase().split("version")[1]||"").trim(),r.versions.git=(p.split(" ")[0]||"").trim()}a()}):a()}else F("git --version",function(c,u){if(!c){let f=u.toString().split(`
`)[0]||"";f=(f.toLowerCase().split("version")[1]||"").trim(),r.versions.git=(f.split(" ")[0]||"").trim()}a()});if({}.hasOwnProperty.call(r.versions,"apache")&&F("apachectl -v 2>&1",function(c,u){if(!c){const f=(u.toString().split(`
`)[0]||"").split(":");r.versions.apache=f.length>1?f[1].replace("Apache","").replace("/","").split("(")[0].trim():""}a()}),{}.hasOwnProperty.call(r.versions,"nginx")&&F("nginx -v 2>&1",function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.nginx=(f.toLowerCase().split("/")[1]||"").trim()}a()}),{}.hasOwnProperty.call(r.versions,"mysql")&&F("mysql -V",function(c,u){if(!c){let f=u.toString().split(`
`)[0]||"";if(f=f.toLowerCase(),f.indexOf(",")>-1){f=(f.split(",")[0]||"").trim();const p=f.split(" ");r.versions.mysql=(p[p.length-1]||"").trim()}else f.indexOf(" ver ")>-1&&(f=f.split(" ver ")[1],r.versions.mysql=f.split(" ")[0])}a()}),{}.hasOwnProperty.call(r.versions,"php")&&F("php -v",function(c,u){if(!c){let p=(u.toString().split(`
`)[0]||"").split("(");p[0].indexOf("-")&&(p=p[0].split("-")),r.versions.php=p[0].replace(/[^0-9.]/g,"")}a()}),{}.hasOwnProperty.call(r.versions,"redis")&&F("redis-server --version",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split(" ");r.versions.redis=N.getValue(p,"v","=",!0)}a()}),{}.hasOwnProperty.call(r.versions,"docker")&&F("docker --version",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split(" ");r.versions.docker=p.length>2&&p[2].endsWith(",")?p[2].slice(0,-1):""}a()}),{}.hasOwnProperty.call(r.versions,"postfix")&&F("postconf -d | grep mail_version",function(c,u){if(!c){const f=u.toString().split(`
`)||[];r.versions.postfix=N.getValue(f,"mail_version","=",!0)}a()}),{}.hasOwnProperty.call(r.versions,"mongodb")&&F("mongod --version",function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.mongodb=(f.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}a()}),{}.hasOwnProperty.call(r.versions,"postgresql")&&(jt?F("locate bin/postgres",function(c,u){if(c)F("psql -V",function(f,p){if(!f){const d=p.toString().split(`
`)[0].split(" ")||[];r.versions.postgresql=d.length?d[d.length-1]:"",r.versions.postgresql=r.versions.postgresql.split("-")[0]}a()});else{const f=u.toString().split(`
`).sort();f.length?F(f[f.length-1]+" -V",function(p,d){if(!p){const m=d.toString().split(`
`)[0].split(" ")||[];r.versions.postgresql=m.length?m[m.length-1]:""}a()}):a()}}):Ie?N.powerShell("Get-CimInstance Win32_Service | select caption | fl").then(c=>{c.split(/\n\s*\n/).forEach(f=>{if(f.trim()!==""){let p=f.trim().split(`\r
`),d=N.getValue(p,"caption",":",!0).toLowerCase();if(d.indexOf("postgresql")>-1){const m=d.split(" server ");m.length>1&&(r.versions.postgresql=m[1])}}}),a()}):F("postgres -V",function(c,u){if(c)F("pg_config --version",function(f,p){if(!f){const d=p.toString().split(`
`)[0].split(" ")||[];r.versions.postgresql=d.length?d[d.length-1]:""}});else{const f=u.toString().split(`
`)[0].split(" ")||[];r.versions.postgresql=f.length?f[f.length-1]:""}a()})),{}.hasOwnProperty.call(r.versions,"perl")&&F("perl -v",function(c,u){if(!c){const f=u.toString().split(`
`)||"";for(;f.length>0&&f[0].trim()==="";)f.shift();f.length>0&&(r.versions.perl=f[0].split("(").pop().split(")")[0].replace("v",""))}a()}),{}.hasOwnProperty.call(r.versions,"python"))if(Le)try{const u=an("sw_vers").toString().split(`
`),f=N.getValue(u,"ProductVersion",":"),p=we.existsSync("/usr/local/Cellar/python"),d=we.existsSync("/opt/homebrew/bin/python");N.darwinXcodeExists()&&N.semverCompare("12.0.1",f)<0||p||d?F(p?"/usr/local/Cellar/python -V 2>&1":d?"/opt/homebrew/bin/python -V 2>&1":"python -V 2>&1",function(g,y){if(!g){const h=y.toString().split(`
`)[0]||"";r.versions.python=h.toLowerCase().replace("python","").trim()}a()}):a()}catch{a()}else F("python -V 2>&1",function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.python=f.toLowerCase().replace("python","").trim()}a()});if({}.hasOwnProperty.call(r.versions,"python3"))if(Le){const c=we.existsSync("/usr/local/Cellar/python3")||we.existsSync("/opt/homebrew/bin/python3");N.darwinXcodeExists()||c?F("python3 -V 2>&1",function(u,f){if(!u){const p=f.toString().split(`
`)[0]||"";r.versions.python3=p.toLowerCase().replace("python","").trim()}a()}):a()}else F("python3 -V 2>&1",function(c,u){if(!c){const f=u.toString().split(`
`)[0]||"";r.versions.python3=f.toLowerCase().replace("python","").trim()}a()});if({}.hasOwnProperty.call(r.versions,"pip"))if(Le){const c=we.existsSync("/usr/local/Cellar/pip")||we.existsSync("/opt/homebrew/bin/pip");N.darwinXcodeExists()||c?F("pip -V 2>&1",function(u,f){if(!u){const d=(f.toString().split(`
`)[0]||"").split(" ");r.versions.pip=d.length>=2?d[1]:""}a()}):a()}else F("pip -V 2>&1",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split(" ");r.versions.pip=p.length>=2?p[1]:""}a()});if({}.hasOwnProperty.call(r.versions,"pip3"))if(Le){const c=we.existsSync("/usr/local/Cellar/pip3")||we.existsSync("/opt/homebrew/bin/pip3");N.darwinXcodeExists()||c?F("pip3 -V 2>&1",function(u,f){if(!u){const d=(f.toString().split(`
`)[0]||"").split(" ");r.versions.pip3=d.length>=2?d[1]:""}a()}):a()}else F("pip3 -V 2>&1",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split(" ");r.versions.pip3=p.length>=2?p[1]:""}a()});({}).hasOwnProperty.call(r.versions,"java")&&(Le?F("/usr/libexec/java_home -V 2>&1",function(c,u){!c&&u.toString().toLowerCase().indexOf("no java runtime")===-1?F("java -version 2>&1",function(f,p){if(!f){const m=(p.toString().split(`
`)[0]||"").split('"');r.versions.java=m.length===3?m[1].trim():""}a()}):a()}):F("java -version 2>&1",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split('"');r.versions.java=p.length===3?p[1].trim():""}a()})),{}.hasOwnProperty.call(r.versions,"gcc")&&(Le&&N.darwinXcodeExists()||!Le?F("gcc -dumpversion",function(c,u){c||(r.versions.gcc=u.toString().split(`
`)[0].trim()||""),r.versions.gcc.indexOf(".")>-1?a():F("gcc --version",function(f,p){if(!f){const d=p.toString().split(`
`)[0].trim();if(d.indexOf("gcc")>-1&&d.indexOf(")")>-1){const m=d.split(")");r.versions.gcc=m[1].trim()||r.versions.gcc}}a()})}):a()),{}.hasOwnProperty.call(r.versions,"virtualbox")&&F(N.getVboxmanage()+" -v 2>&1",function(c,u){if(!c){const p=(u.toString().split(`
`)[0]||"").split("r");r.versions.virtualbox=p[0]}a()}),{}.hasOwnProperty.call(r.versions,"bash")&&F("bash --version",function(c,u){if(!c){const p=u.toString().split(`
`)[0].split(" version ");p.length>1&&(r.versions.bash=p[1].split(" ")[0].split("(")[0])}a()}),{}.hasOwnProperty.call(r.versions,"zsh")&&F("zsh --version",function(c,u){if(!c){const p=u.toString().split(`
`)[0].split("zsh ");p.length>1&&(r.versions.zsh=p[1].split(" ")[0])}a()}),{}.hasOwnProperty.call(r.versions,"fish")&&F("fish --version",function(c,u){if(!c){const p=u.toString().split(`
`)[0].split(" version ");p.length>1&&(r.versions.fish=p[1].split(" ")[0])}a()}),{}.hasOwnProperty.call(r.versions,"bun")&&F("bun -v",function(c,u){if(!c){const f=u.toString().split(`
`)[0].trim();r.versions.bun=f}a()}),{}.hasOwnProperty.call(r.versions,"deno")&&F("deno -v",function(c,u){if(!c){const p=u.toString().split(`
`)[0].trim().split(" ");p.length>1&&(r.versions.deno=p[1])}a()}),{}.hasOwnProperty.call(r.versions,"node")&&F("node -v",function(c,u){if(!c){let f=u.toString().split(`
`)[0].trim();f.startsWith("v")&&(f=f.slice(1)),r.versions.node=f}a()}),{}.hasOwnProperty.call(r.versions,"powershell")&&(Ie?N.powerShell("$PSVersionTable").then(c=>{const u=c.toString().toLowerCase().split(`
`).map(f=>f.replace(/ +/g," ").replace(/ +/g,":"));r.versions.powershell=N.getValue(u,"psversion"),a()}):a()),{}.hasOwnProperty.call(r.versions,"dotnet")&&(Ie?N.powerShell('gci "HKLM:\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match "^(?!S)\\p{L}"} | select PSChildName, Version, Release').then(c=>{const u=c.toString().split(`\r
`);let f="";u.forEach(p=>{p=p.replace(/ +/g," ");const d=p.split(" ");f=f||(d[0].toLowerCase().startsWith("client")&&d.length>2||d[0].toLowerCase().startsWith("full")&&d.length>2?d[1].trim():"")}),r.versions.dotnet=f.trim(),a()}):a())}catch{n&&n(r.versions),s(r.versions)}})})}Et.versions=Io;function _o(t){return new Promise(n=>{process.nextTick(()=>{if(Ie)try{const e="CMD";N.powerShell(`Get-CimInstance -className win32_process | where-object {$_.ProcessId -eq ${process.ppid} } | select Name`).then(i=>{let s="CMD";i&&i.toString().toLowerCase().indexOf("powershell")>=0&&(s="PowerShell"),t&&t(s),n(s)})}catch{t&&t(result),n(result)}else{let e="";F("echo $SHELL",function(i,s){i||(e=s.toString().split(`
`)[0]),t&&t(e),n(e)})}})})}Et.shell=_o;function Oo(){let t=[];try{const n=Ae.networkInterfaces();for(let e in n)({}).hasOwnProperty.call(n,e)&&n[e].forEach(function(i){if(i&&i.mac&&i.mac!=="00:00:00:00:00:00"){const s=i.mac.toLowerCase();t.indexOf(s)===-1&&t.push(s)}});t=t.sort(function(e,i){return e<i?-1:e>i?1:0})}catch{t.push("00:00:00:00:00:00")}return t}function Gr(t){return new Promise(n=>{process.nextTick(()=>{let e={os:"",hardware:"",macs:Oo()},i;if(Le&&F("system_profiler SPHardwareDataType -json",function(s,r){if(!s)try{const o=JSON.parse(r.toString());if(o.SPHardwareDataType&&o.SPHardwareDataType.length>0){const a=o.SPHardwareDataType[0];e.os=a.platform_UUID.toLowerCase(),e.hardware=a.serial_number}}catch{N.noop()}t&&t(e),n(e)}),jt&&F(`echo -n "os: "; cat /var/lib/dbus/machine-id 2> /dev/null ||
cat /etc/machine-id 2> /dev/null; echo;
echo -n "hardware: "; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;`,function(r,o){const a=o.toString().split(`
`);if(e.os=N.getValue(a,"os").toLowerCase(),e.hardware=N.getValue(a,"hardware").toLowerCase(),!e.hardware){const l=we.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),c=N.getValue(l,"serial");e.hardware=c||""}t&&t(e),n(e)}),(vi||Mi||Ai)&&F("sysctl -i kern.hostid kern.hostuuid",function(s,r){const o=r.toString().split(`
`);e.hardware=N.getValue(o,"kern.hostid",":").toLowerCase(),e.os=N.getValue(o,"kern.hostuuid",":").toLowerCase(),e.os.indexOf("unknown")>=0&&(e.os=""),e.hardware.indexOf("unknown")>=0&&(e.hardware=""),t&&t(e),n(e)}),Ie){let s="%windir%\\System32";process.arch==="ia32"&&Object.prototype.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")&&(s="%windir%\\sysnative\\cmd.exe /c %windir%\\System32"),N.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select UUID | fl").then(r=>{let o=r.split(`\r
`);e.hardware=N.getValue(o,"uuid",":").toLowerCase(),F(`${s}\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid`,N.execOptsWin,function(a,l){i=l.toString().split(`
\r`)[0].split("REG_SZ"),e.os=i.length>1?i[1].replace(/\r+|\n+|\s+/ig,"").toLowerCase():"",t&&t(e),n(e)})})}})})}Et.uuid=Gr;const ti=Be,Pt=Ge,L=T,{uuid:qc}=Et,qt=te.exec,Ot=te.execSync,yn=L.promisify(te.exec);let Qe=process.platform;const Gn=Qe==="linux"||Qe==="android",Wn=Qe==="darwin",Rn=Qe==="win32",Ht=Qe==="freebsd",$t=Qe==="openbsd",Xt=Qe==="netbsd",zn=Qe==="sunos";function Po(t){return new Promise(n=>{process.nextTick(()=>{let e={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-",virtual:!1};if((Gn||Ht||$t||Xt)&&qt("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",function(i,s){let r=s.toString().split(`
`);e.manufacturer=K(L.getValue(r,"manufacturer")),e.model=K(L.getValue(r,"product name")),e.version=K(L.getValue(r,"version")),e.serial=K(L.getValue(r,"serial number")),e.uuid=K(L.getValue(r,"uuid")).toLowerCase(),e.sku=K(L.getValue(r,"sku number"));const o=`echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;
            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;
            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;
            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;
            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;`;try{r=Ot(o,L.execOptsLinux).toString().split(`
`),e.manufacturer=K(e.manufacturer===""?L.getValue(r,"sys_vendor"):e.manufacturer),e.model=K(e.model===""?L.getValue(r,"product_name"):e.model),e.version=K(e.version===""?L.getValue(r,"product_version"):e.version),e.serial=K(e.serial===""?L.getValue(r,"product_serial"):e.serial),e.uuid=K(e.uuid===""?L.getValue(r,"product_uuid").toLowerCase():e.uuid)}catch{L.noop()}if(e.serial||(e.serial="-"),e.manufacturer||(e.manufacturer=""),e.model||(e.model="Computer"),e.version||(e.version=""),e.sku||(e.sku="-"),e.model.toLowerCase()==="virtualbox"||e.model.toLowerCase()==="kvm"||e.model.toLowerCase()==="virtual machine"||e.model.toLowerCase()==="bochs"||e.model.toLowerCase().startsWith("vmware")||e.model.toLowerCase().startsWith("droplet"))switch(e.virtual=!0,e.model.toLowerCase()){case"virtualbox":e.virtualHost="VirtualBox";break;case"vmware":e.virtualHost="VMware";break;case"kvm":e.virtualHost="KVM";break;case"bochs":e.virtualHost="bochs";break}if(e.manufacturer.toLowerCase().startsWith("vmware")||e.manufacturer.toLowerCase()==="xen")switch(e.virtual=!0,e.manufacturer.toLowerCase()){case"vmware":e.virtualHost="VMware";break;case"xen":e.virtualHost="Xen";break}if(!e.virtual)try{const a=Ot("ls -1 /dev/disk/by-id/ 2>/dev/null; pciconf -lv  2>/dev/null",L.execOptsLinux).toString();(a.indexOf("_QEMU_")>=0||a.indexOf("QEMU ")>=0)&&(e.virtual=!0,e.virtualHost="QEMU"),a.indexOf("_VBOX_")>=0&&(e.virtual=!0,e.virtualHost="VirtualBox")}catch{L.noop()}if(Ht||$t||Xt)try{const a=Ot("sysctl -i kern.hostuuid kern.hostid hw.model",L.execOptsLinux).toString().split(`
`);e.uuid||(e.uuid=L.getValue(a,"kern.hostuuid",":").toLowerCase()),(!e.serial||e.serial==="-")&&(e.serial=L.getValue(a,"kern.hostid",":").toLowerCase()),(!e.model||e.model==="Computer")&&(e.model=L.getValue(a,"hw.model",":").trim())}catch{L.noop()}if(!e.virtual&&(Pt.release().toLowerCase().indexOf("microsoft")>=0||Pt.release().toLowerCase().endsWith("wsl2"))){const a=parseFloat(Pt.release().toLowerCase());e.virtual=!0,e.manufacturer="Microsoft",e.model="WSL",e.version=a<4.19?"1":"2"}if((Ht||$t||Xt)&&!e.virtualHost)try{const l=Ot("dmidecode -t 4",L.execOptsLinux).toString().split(`
`);switch(L.getValue(l,"manufacturer",":",!0).toLowerCase()){case"virtualbox":e.virtualHost="VirtualBox";break;case"vmware":e.virtualHost="VMware";break;case"kvm":e.virtualHost="KVM";break;case"bochs":e.virtualHost="bochs";break}}catch{L.noop()}(ti.existsSync("/.dockerenv")||ti.existsSync("/.dockerinit"))&&(e.model="Docker Container");try{const a=Ot('dmesg 2>/dev/null | grep -iE "virtual|hypervisor" | grep -iE "vmware|qemu|kvm|xen" | grep -viE "Nested Virtualization|/virtual/"');a.toString().split(`
`).length>0&&(e.model==="Computer"&&(e.model="Virtual machine"),e.virtual=!0,a.toString().toLowerCase().indexOf("vmware")>=0&&!e.virtualHost&&(e.virtualHost="VMware"),a.toString().toLowerCase().indexOf("qemu")>=0&&!e.virtualHost&&(e.virtualHost="QEMU"),a.toString().toLowerCase().indexOf("xen")>=0&&!e.virtualHost&&(e.virtualHost="Xen"),a.toString().toLowerCase().indexOf("kvm")>=0&&!e.virtualHost&&(e.virtualHost="KVM"))}catch{L.noop()}e.manufacturer===""&&e.model==="Computer"&&e.version===""?ti.readFile("/proc/cpuinfo",function(a,l){if(!a){let c=l.toString().split(`
`);if(e.model=L.getValue(c,"hardware",":",!0).toUpperCase(),e.version=L.getValue(c,"revision",":",!0).toLowerCase(),e.serial=L.getValue(c,"serial",":",!0),L.getValue(c,"model:",":",!0),L.isRaspberry(c)){const u=L.decodePiCpuinfo(c);e.model=u.model,e.version=u.revisionCode,e.manufacturer="Raspberry Pi Foundation",e.raspberry={manufacturer:u.manufacturer,processor:u.processor,type:u.type,revision:u.revision}}}t&&t(e),n(e)}):(t&&t(e),n(e))}),Wn&&qt("ioreg -c IOPlatformExpertDevice -d 2",function(i,s){if(!i){let r=s.toString().replace(/[<>"]/g,"").split(`
`);const o=L.getAppleModel(L.getValue(r,"model","=",!0));e.manufacturer=L.getValue(r,"manufacturer","=",!0),e.model=o.key,e.type=Wr(o.version),e.version=o.version,e.serial=L.getValue(r,"ioplatformserialnumber","=",!0),e.uuid=L.getValue(r,"ioplatformuuid","=",!0).toLowerCase(),e.sku=L.getValue(r,"board-id","=",!0)||L.getValue(r,"target-sub-type","=",!0)}t&&t(e),n(e)}),zn&&(t&&t(e),n(e)),Rn)try{L.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select Name,Vendor,Version,IdentifyingNumber,UUID | fl").then((i,s)=>{if(s)t&&t(e),n(e);else{let r=i.split(`\r
`);e.manufacturer=L.getValue(r,"vendor",":"),e.model=L.getValue(r,"name",":"),e.version=L.getValue(r,"version",":"),e.serial=L.getValue(r,"identifyingnumber",":"),e.uuid=L.getValue(r,"uuid",":").toLowerCase();const o=e.model.toLowerCase();(o==="virtualbox"||o==="kvm"||o==="virtual machine"||o==="bochs"||o.startsWith("vmware")||o.startsWith("qemu")||o.startsWith("parallels"))&&(e.virtual=!0,o.startsWith("virtualbox")&&(e.virtualHost="VirtualBox"),o.startsWith("vmware")&&(e.virtualHost="VMware"),o.startsWith("kvm")&&(e.virtualHost="KVM"),o.startsWith("bochs")&&(e.virtualHost="bochs"),o.startsWith("qemu")&&(e.virtualHost="KVM"),o.startsWith("parallels")&&(e.virtualHost="Parallels"));const a=e.manufacturer.toLowerCase();(a.startsWith("vmware")||a.startsWith("qemu")||a==="xen"||a.startsWith("parallels"))&&(e.virtual=!0,a.startsWith("vmware")&&(e.virtualHost="VMware"),a.startsWith("xen")&&(e.virtualHost="Xen"),a.startsWith("qemu")&&(e.virtualHost="KVM"),a.startsWith("parallels")&&(e.virtualHost="Parallels")),L.powerShell('Get-CimInstance MS_Systeminformation -Namespace "root/wmi" | select systemsku | fl ').then((l,c)=>{if(!c){let u=l.split(`\r
`);e.sku=L.getValue(u,"systemsku",":")}e.virtual?(t&&t(e),n(e)):L.powerShell("Get-CimInstance Win32_bios | select Version, SerialNumber, SMBIOSBIOSVersion").then((u,f)=>{if(f)t&&t(e),n(e);else{let p=u.toString();(p.indexOf("VRTUAL")>=0||p.indexOf("A M I ")>=0||p.indexOf("VirtualBox")>=0||p.indexOf("VMWare")>=0||p.indexOf("Xen")>=0||p.indexOf("Parallels")>=0)&&(e.virtual=!0,p.indexOf("VirtualBox")>=0&&!e.virtualHost&&(e.virtualHost="VirtualBox"),p.indexOf("VMware")>=0&&!e.virtualHost&&(e.virtualHost="VMware"),p.indexOf("Xen")>=0&&!e.virtualHost&&(e.virtualHost="Xen"),p.indexOf("VRTUAL")>=0&&!e.virtualHost&&(e.virtualHost="Hyper-V"),p.indexOf("A M I")>=0&&!e.virtualHost&&(e.virtualHost="Virtual PC"),p.indexOf("Parallels")>=0&&!e.virtualHost&&(e.virtualHost="Parallels")),t&&t(e),n(e)}})})}})}catch{t&&t(e),n(e)}})})}hn.system=Po;function K(t){const n=t.toLowerCase();return n.indexOf("o.e.m.")===-1&&n.indexOf("default string")===-1&&n!=="default"&&t||""}function vo(t){return new Promise(n=>{process.nextTick(()=>{let e={vendor:"",version:"",releaseDate:"",revision:""},i="";if((Gn||Ht||$t||Xt)&&(process.arch==="arm"?i="cat /proc/cpuinfo | grep Serial":i="export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL",qt(i,function(s,r){let o=r.toString().split(`
`);e.vendor=L.getValue(o,"Vendor"),e.version=L.getValue(o,"Version");let a=L.getValue(o,"Release Date");e.releaseDate=L.parseDateTime(a).date,e.revision=L.getValue(o,"BIOS Revision"),e.serial=L.getValue(o,"SerialNumber");let l=L.getValue(o,"Currently Installed Language").split("|")[0];if(l&&(e.language=l),o.length&&r.toString().indexOf("Characteristics:")>=0){const u=[];o.forEach(f=>{if(f.indexOf(" is supported")>=0){const p=f.split(" is supported")[0].trim();u.push(p)}}),e.features=u}const c=`echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;
            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;
            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;`;try{o=Ot(c,L.execOptsLinux).toString().split(`
`),e.vendor=e.vendor?e.vendor:L.getValue(o,"bios_vendor"),e.version=e.version?e.version:L.getValue(o,"bios_version"),a=L.getValue(o,"bios_date"),e.releaseDate=e.releaseDate?e.releaseDate:L.parseDateTime(a).date}catch{L.noop()}t&&t(e),n(e)})),Wn&&(e.vendor="Apple Inc.",qt("system_profiler SPHardwareDataType -json",function(s,r){try{const o=JSON.parse(r.toString());if(o&&o.SPHardwareDataType&&o.SPHardwareDataType.length){let a=o.SPHardwareDataType[0].boot_rom_version;a=a?a.split("(")[0].trim():null,e.version=a}}catch{L.noop()}t&&t(e),n(e)})),zn&&(e.vendor="Sun Microsystems",t&&t(e),n(e)),Rn)try{L.powerShell('Get-CimInstance Win32_bios | select Description,Version,Manufacturer,@{n="ReleaseDate";e={$_.ReleaseDate.ToString("yyyy-MM-dd")}},BuildNumber,SerialNumber,SMBIOSBIOSVersion | fl').then((s,r)=>{if(!r){let o=s.toString().split(`\r
`);const a=L.getValue(o,"description",":"),l=L.getValue(o,"SMBIOSBIOSVersion",":");a.indexOf(" Version ")!==-1?(e.vendor=a.split(" Version ")[0].trim(),e.version=a.split(" Version ")[1].trim()):a.indexOf(" Ver: ")!==-1?(e.vendor=L.getValue(o,"manufacturer",":"),e.version=a.split(" Ver: ")[1].trim()):(e.vendor=L.getValue(o,"manufacturer",":"),e.version=l||L.getValue(o,"version",":")),e.releaseDate=L.getValue(o,"releasedate",":"),e.revision=L.getValue(o,"buildnumber",":"),e.serial=K(L.getValue(o,"serialnumber",":"))}t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})}hn.bios=vo;function Mo(t){return new Promise(n=>{process.nextTick(()=>{let e={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-",memMax:null,memSlots:null},i="";if(Gn||Ht||$t||Xt){process.arch==="arm"?i="cat /proc/cpuinfo | grep Serial":i="export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL";const s=[];s.push(yn(i)),s.push(yn("export LC_ALL=C; dmidecode -t memory 2>/dev/null")),L.promiseAll(s).then(r=>{let o=r.results[0]?r.results[0].toString().split(`
`):[""];e.manufacturer=K(L.getValue(o,"Manufacturer")),e.model=K(L.getValue(o,"Product Name")),e.version=K(L.getValue(o,"Version")),e.serial=K(L.getValue(o,"Serial Number")),e.assetTag=K(L.getValue(o,"Asset Tag"));const a=`echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;
            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;
            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;
            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;
            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;`;try{o=Ot(a,L.execOptsLinux).toString().split(`
`),e.manufacturer=K(e.manufacturer?e.manufacturer:L.getValue(o,"board_vendor")),e.model=K(e.model?e.model:L.getValue(o,"board_name")),e.version=K(e.version?e.version:L.getValue(o,"board_version")),e.serial=K(e.serial?e.serial:L.getValue(o,"board_serial")),e.assetTag=K(e.assetTag?e.assetTag:L.getValue(o,"board_asset_tag"))}catch{L.noop()}if(o=r.results[1]?r.results[1].toString().split(`
`):[""],e.memMax=L.toInt(L.getValue(o,"Maximum Capacity"))*1024*1024*1024||null,e.memSlots=L.toInt(L.getValue(o,"Number Of Devices"))||null,L.isRaspberry()){const l=L.decodePiCpuinfo();e.manufacturer=l.manufacturer,e.model="Raspberry Pi",e.serial=l.serial,e.version=l.type+" - "+l.revision,e.memMax=Pt.totalmem(),e.memSlots=0}t&&t(e),n(e)})}if(Wn){const s=[];s.push(yn("ioreg -c IOPlatformExpertDevice -d 2")),s.push(yn("system_profiler SPMemoryDataType")),L.promiseAll(s).then(r=>{let o=r.results[0]?r.results[0].toString().replace(/[<>"]/g,"").split(`
`):[""];e.manufacturer=L.getValue(o,"manufacturer","=",!0),e.model=L.getValue(o,"model","=",!0),e.version=L.getValue(o,"version","=",!0),e.serial=L.getValue(o,"ioplatformserialnumber","=",!0),e.assetTag=L.getValue(o,"board-id","=",!0);let a=r.results[1]?r.results[1].toString().split("        BANK "):[""];a.length===1&&(a=r.results[1]?r.results[1].toString().split("        DIMM"):[""]),a.shift(),e.memSlots=a.length,Pt.arch()==="arm64"&&(e.memSlots=0,e.memMax=Pt.totalmem()),t&&t(e),n(e)})}if(zn&&(t&&t(e),n(e)),Rn)try{const s=[],r=parseInt(Pt.release())>=10,o=r?"MaxCapacityEx":"MaxCapacity";s.push(L.powerShell("Get-CimInstance Win32_baseboard | select Model,Manufacturer,Product,Version,SerialNumber,PartNumber,SKU | fl")),s.push(L.powerShell(`Get-CimInstance Win32_physicalmemoryarray | select ${o}, MemoryDevices | fl`)),L.promiseAll(s).then(a=>{let l=a.results[0]?a.results[0].toString().split(`\r
`):[""];e.manufacturer=K(L.getValue(l,"manufacturer",":")),e.model=K(L.getValue(l,"model",":")),e.model||(e.model=K(L.getValue(l,"product",":"))),e.version=K(L.getValue(l,"version",":")),e.serial=K(L.getValue(l,"serialnumber",":")),e.assetTag=K(L.getValue(l,"partnumber",":")),e.assetTag||(e.assetTag=K(L.getValue(l,"sku",":"))),l=a.results[1]?a.results[1].toString().split(`\r
`):[""],e.memMax=L.toInt(L.getValue(l,o,":"))*(r?1024:1)||null,e.memSlots=L.toInt(L.getValue(l,"MemoryDevices",":"))||null,t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})}hn.baseboard=Mo;function Wr(t){return t=t.toLowerCase(),t.indexOf("macbookair")>=0||t.indexOf("macbook air")>=0||t.indexOf("macbookpro")>=0||t.indexOf("macbook pro")>=0||t.indexOf("macbook")>=0?"Notebook":t.indexOf("macmini")>=0||t.indexOf("mac mini")>=0||t.indexOf("imac")>=0||t.indexOf("macstudio")>=0||t.indexOf("mac studio")>=0?"Desktop":t.indexOf("macpro")>=0||t.indexOf("mac pro")>=0?"Tower":"Other"}function Ao(t){const n=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Convertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise(e=>{process.nextTick(()=>{let i={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if((Gn||Ht||$t||Xt)&&qt(`echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;
            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;
            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;
            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;
            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;`,function(r,o){let a=o.toString().split(`
`);i.manufacturer=K(L.getValue(a,"chassis_vendor"));const l=parseInt(L.getValue(a,"chassis_type").replace(/\D/g,""));i.type=K(l&&!isNaN(l)&&l<n.length?n[l-1]:""),i.version=K(L.getValue(a,"chassis_version")),i.serial=K(L.getValue(a,"chassis_serial")),i.assetTag=K(L.getValue(a,"chassis_asset_tag")),t&&t(i),e(i)}),Wn&&qt("ioreg -c IOPlatformExpertDevice -d 2",function(s,r){if(!s){let o=r.toString().replace(/[<>"]/g,"").split(`
`);const a=L.getAppleModel(L.getValue(o,"model","=",!0));i.manufacturer=L.getValue(o,"manufacturer","=",!0),i.model=a.key,i.type=Wr(a.model),i.version=a.version,i.serial=L.getValue(o,"ioplatformserialnumber","=",!0),i.assetTag=L.getValue(o,"board-id","=",!0)||L.getValue(o,"target-type","=",!0),i.sku=L.getValue(o,"target-sub-type","=",!0)}t&&t(i),e(i)}),zn&&(t&&t(i),e(i)),Rn)try{L.powerShell("Get-CimInstance Win32_SystemEnclosure | select Model,Manufacturer,ChassisTypes,Version,SerialNumber,PartNumber,SKU,SMBIOSAssetTag | fl").then((s,r)=>{if(!r){let o=s.toString().split(`\r
`);i.manufacturer=K(L.getValue(o,"manufacturer",":")),i.model=K(L.getValue(o,"model",":"));const a=parseInt(L.getValue(o,"ChassisTypes",":").replace(/\D/g,""));i.type=a&&!isNaN(a)&&a<n.length?n[a-1]:"",i.version=K(L.getValue(o,"version",":")),i.serial=K(L.getValue(o,"serialnumber",":")),i.assetTag=K(L.getValue(o,"partnumber",":")),i.assetTag||(i.assetTag=K(L.getValue(o,"SMBIOSAssetTag",":"))),i.sku=K(L.getValue(o,"sku",":"))}t&&t(i),e(i)})}catch{t&&t(i),e(i)}})})}hn.chassis=Ao;var ht={};const Te=Ge,ge=te.exec,Un=te.execSync,Tn=Be,P=T;let Ze=process.platform;const Yt=Ze==="linux"||Ze==="android",Hn=Ze==="darwin",$n=Ze==="win32",Xn=Ze==="freebsd",Kn=Ze==="openbsd",qn=Ze==="netbsd",jn=Ze==="sunos";let zt=0,Y={user:0,nice:0,system:0,idle:0,irq:0,steal:0,guest:0,load:0,tick:0,ms:0,currentLoad:0,currentLoadUser:0,currentLoadSystem:0,currentLoadNice:0,currentLoadIdle:0,currentLoadIrq:0,currentLoadSteal:0,currentLoadGuest:0,rawCurrentLoad:0,rawCurrentLoadUser:0,rawCurrentLoadSystem:0,rawCurrentLoadNice:0,rawCurrentLoadIdle:0,rawCurrentLoadIrq:0,rawCurrentLoadSteal:0,rawCurrentLoadGuest:0},I=[],ni=0;const ii={8346:"1.8",8347:"1.9",8350:"2.0",8354:"2.2","8356|SE":"2.4",8356:"2.3",8360:"2.5",2372:"2.1",2373:"2.1",2374:"2.2",2376:"2.3",2377:"2.3",2378:"2.4",2379:"2.4",2380:"2.5",2381:"2.5",2382:"2.6",2384:"2.7",2386:"2.8",2387:"2.8",2389:"2.9",2393:"3.1",8374:"2.2",8376:"2.3",8378:"2.4",8379:"2.4",8380:"2.5",8381:"2.5",8382:"2.6",8384:"2.7",8386:"2.8",8387:"2.8",8389:"2.9",8393:"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1",2427:"2.2",2431:"2.4",2435:"2.6","2439SE":"2.8","8425HE":"2.1",8431:"2.4",8435:"2.6","8439SE":"2.8",4122:"2.2",4130:"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4",4180:"2.6",4184:"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2",6128:"2.0",6134:"2.3",6136:"2.4",6140:"2.6","6164HE":"1.7","6166HE":"1.8",6168:"1.9",6172:"2.1",6174:"2.2",6176:"2.3","6176SE":"2.3","6180SE":"2.5",3250:"2.5",3260:"2.7",3280:"2.4",4226:"2.7",4228:"2.8",4230:"2.9",4234:"3.1",4238:"3.3",4240:"3.4",4256:"1.6",4274:"2.5",4276:"2.6",4280:"2.8",4284:"3.0",6204:"3.3",6212:"2.6",6220:"3.0",6234:"2.4",6238:"2.6","6262HE":"1.6",6272:"2.1",6274:"2.2",6276:"2.3",6278:"2.4","6282SE":"2.6","6284SE":"2.7",6308:"3.5",6320:"2.8",6328:"3.2","6338P":"2.3",6344:"2.6",6348:"2.8",6366:"1.8","6370P":"2.0",6376:"2.3",6378:"2.4",6380:"2.5",6386:"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3",1200:"3.1","Pro 1200":"3.1","1300X":"3.5","Pro 1300":"3.5",1400:"3.2","1500X":"3.5","Pro 1500":"3.5",1600:"3.2","1600X":"3.6","Pro 1600":"3.2",1700:"3.0","Pro 1700":"3.0","1700X":"3.4","Pro 1700X":"3.4","1800X":"3.6","1900X":"3.8",1920:"3.2","1920X":"3.5","1950X":"3.4","200GE":"3.2","Pro 200GE":"3.2","220GE":"3.4","240GE":"3.5","3000G":"3.5","300GE":"3.4","3050GE":"3.4","2200G":"3.5","Pro 2200G":"3.5","2200GE":"3.2","Pro 2200GE":"3.2","2400G":"3.6","Pro 2400G":"3.6","2400GE":"3.2","Pro 2400GE":"3.2","Pro 200U":"2.3","300U":"2.4","2200U":"2.5","3200U":"2.6","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2600H":"3.2","2700U":"2.0","Pro 2700U":"2.2","2800H":"3.3",7351:"2.4","7351P":"2.4",7401:"2.0","7401P":"2.0","7551P":"2.0",7551:"2.0",7251:"2.1",7261:"2.5",7281:"2.1",7301:"2.2",7371:"3.1",7451:"2.3",7501:"2.0",7571:"2.2",7601:"2.2",V1500B:"2.2",V1780B:"3.35",V1202B:"2.3",V1404I:"2.0",V1605B:"2.0",V1756B:"3.25",V1807B:"3.35",3101:"2.1",3151:"2.7",3201:"1.5",3251:"2.5",3255:"2.5",3301:"2.0",3351:"1.9",3401:"1.85",3451:"2.15","1200|AF":"3.1","2300X":"3.5","2500X":"3.6",2600:"3.4","2600E":"3.1","1600|AF":"3.2","2600X":"3.6",2700:"3.2","2700E":"2.8","Pro 2700":"3.2","2700X":"3.7","Pro 2700X":"3.6","2920X":"3.5","2950X":"3.5","2970WX":"3.0","2990WX":"3.0","Pro 300GE":"3.4","Pro 3125GE":"3.4","3150G":"3.5","Pro 3150G":"3.5","3150GE":"3.3","Pro 3150GE":"3.3","3200G":"3.6","Pro 3200G":"3.6","3200GE":"3.3","Pro 3200GE":"3.3","3350G":"3.6","Pro 3350G":"3.6","3350GE":"3.3","Pro 3350GE":"3.3","3400G":"3.7","Pro 3400G":"3.7","3400GE":"3.3","Pro 3400GE":"3.3","3300U":"2.1","PRO 3300U":"2.1","3450U":"2.1","3500U":"2.1","PRO 3500U":"2.1","3500C":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","PRO 3700U":"2.3","3700C":"2.3","3750H":"2.3","3780U":"2.3",3100:"3.6","3300X":"3.8",3500:"3.6","3500X":"3.6",3600:"3.6","Pro 3600":"3.6","3600X":"3.8","3600XT":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9","3800XT":"3.9",3900:"3.1","Pro 3900":"3.1","3900X":"3.8","3900XT":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","3990X":"2.9","3945WX":"4.0","3955WX":"3.9","3975WX":"3.5","3995WX":"2.7","4300GE":"3.5","Pro 4300GE":"3.5","4300G":"3.8","Pro 4300G":"3.8","4600GE":"3.3","Pro 4650GE":"3.3","4600G":"3.7","Pro 4650G":"3.7","4700GE":"3.1","Pro 4750GE":"3.1","4700G":"3.6","Pro 4750G":"3.6","4300U":"2.7","4450U":"2.5","Pro 4450U":"2.5","4500U":"2.3","4600U":"2.1","PRO 4650U":"2.1","4680U":"2.1","4600HS":"3.0","4600H":"3.0","4700U":"2.0","PRO 4750U":"1.7","4800U":"1.8","4800HS":"2.9","4800H":"2.9","4900HS":"3.0","4900H":"3.3","5300U":"2.6","5500U":"2.1","5700U":"1.8","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0",7252:"3.1",7262:"3.2",7272:"2.9",7282:"2.8",7302:"3.0",7352:"2.3",7402:"2.8",7452:"2.35",7502:"2.5",7532:"2.4",7542:"2.9",7552:"2.2",7642:"2.3",7662:"2.0",7702:"2.0",7742:"2.25","7H12":"2.6","7F32":"3.7","7F52":"3.5","7F72":"3.2","7773X":"2.2",7763:"2.45",7713:"2.0","7713P":"2.0",7663:"2.0",7643:"2.3","7573X":"2.8","75F3":"2.95",7543:"2.8","7543P":"2.8",7513:"2.6","7473X":"2.8",7453:"2.75","74F3":"3.2",7443:"2.85","7443P":"2.85",7413:"2.65","7373X":"3.05","73F3":"3.5",7343:"3.2",7313:"3.0","7313P":"3.0","72F3":"3.7","5600X":"3.7","5800X":"3.8","5900X":"3.7","5950X":"3.4","5945WX":"4.1","5955WX":"4.0","5965WX":"3.8","5975WX":"3.6","5995WX":"2.7","7960X":"4.2","7970X":"4.0","7980X":"3.2","7965WX":"4.2","7975WX":"4.0","7985WX":"3.2","7995WX":"2.5",9754:"2.25","9754S":"2.25",9734:"2.2","9684X":"2.55","9384X":"3.1","9184X":"3.55","9654P":"2.4",9654:"2.4",9634:"2.25","9554P":"3.1",9554:"3.1",9534:"2.45","9474F":"3.6","9454P":"2.75",9454:"2.75","9374F":"3.85","9354P":"3.25",9354:"3.25",9334:"2.7","9274F":"4.05",9254:"2.9",9224:"2.5","9174F":"4.1",9124:"3.0"},Ki={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528",61:"LGA4189",62:"LGA1200",63:"LGA4677",64:"LGA1700",65:"BGA1744",66:"BGA1781",67:"BGA1211",68:"BGA2422",69:"LGA1211",70:"LGA2422",71:"LGA5773",72:"BGA5773",73:"AM5",74:"SP5",75:"SP6",76:"BGA883",77:"BGA1190",78:"BGA4129",79:"LGA4710",80:"LGA7529",81:"BGA1964",82:"BGA1792",83:"BGA2049",84:"BGA2551",85:"LGA1851",86:"BGA2114",87:"BGA2833"},qi={LGA1150:"i7-5775C i3-4340 i3-4170 G3250 i3-4160T i3-4160 E3-1231 G3258 G3240 i7-4790S i7-4790K i7-4790 i5-4690K i5-4690 i5-4590T i5-4590S i5-4590 i5-4460 i3-4360 i3-4150 G1820 G3420 G3220 i7-4771 i5-4440 i3-4330 i3-4130T i3-4130 E3-1230 i7-4770S i7-4770K i7-4770 i5-4670K i5-4670 i5-4570T i5-4570S i5-4570 i5-4430",LGA1151:"i9-9900KS E-2288G E-2224 G5420 i9-9900T i9-9900 i7-9700T i7-9700F i7-9700E i7-9700 i5-9600 i5-9500T i5-9500F i5-9500 i5-9400T i3-9350K i3-9300 i3-9100T i3-9100F i3-9100 G4930 i9-9900KF i7-9700KF i5-9600KF i5-9400F i5-9400 i3-9350KF i9-9900K i7-9700K i5-9600K G5500 G5400 i7-8700T i7-8086K i5-8600 i5-8500T i5-8500 i5-8400T i3-8300 i3-8100T G4900 i7-8700K i7-8700 i5-8600K i5-8400 i3-8350K i3-8100 E3-1270 G4600 G4560 i7-7700T i7-7700K i7-7700 i5-7600K i5-7600 i5-7500T i5-7500 i5-7400 i3-7350K i3-7300 i3-7100T i3-7100 G3930 G3900 G4400 i7-6700T i7-6700K i7-6700 i5-6600K i5-6600 i5-6500T i5-6500 i5-6400T i5-6400 i3-6300 i3-6100T i3-6100 E3-1270 E3-1270 T4500 T4400",1155:"G440 G460 G465 G470 G530T G540T G550T G1610T G1620T G530 G540 G1610 G550 G1620 G555 G1630 i3-2100T i3-2120T i3-3220T i3-3240T i3-3250T i3-2100 i3-2105 i3-2102 i3-3210 i3-3220 i3-2125 i3-2120 i3-3225 i3-2130 i3-3245 i3-3240 i3-3250 i5-3570T i5-2500T i5-2400S i5-2405S i5-2390T i5-3330S i5-2500S i5-3335S i5-2300 i5-3450S i5-3340S i5-3470S i5-3475S i5-3470T i5-2310 i5-3550S i5-2320 i5-3330 i5-3350P i5-3450 i5-2400 i5-3340 i5-3570S i5-2380P i5-2450P i5-3470 i5-2500K i5-3550 i5-2500 i5-3570 i5-3570K i5-2550K i7-3770T i7-2600S i7-3770S i7-2600K i7-2600 i7-3770 i7-3770K i7-2700K G620T G630T G640T G2020T G645T G2100T G2030T G622 G860T G620 G632 G2120T G630 G640 G2010 G840 G2020 G850 G645 G2030 G860 G2120 G870 G2130 G2140 E3-1220L E3-1220L E3-1260L E3-1265L E3-1220 E3-1225 E3-1220 E3-1235 E3-1225 E3-1230 E3-1230 E3-1240 E3-1245 E3-1270 E3-1275 E3-1240 E3-1245 E3-1270 E3-1280 E3-1275 E3-1290 E3-1280 E3-1290"};function Eo(t){let n="";for(const e in qi)qi[e].split(" ").forEach(s=>{t.indexOf(s)>=0&&(n=e)});return n}function vn(t){let n=t;return t=t.toLowerCase(),t.indexOf("intel")>=0&&(n="Intel"),t.indexOf("amd")>=0&&(n="AMD"),t.indexOf("qemu")>=0&&(n="QEMU"),t.indexOf("hygon")>=0&&(n="Hygon"),t.indexOf("centaur")>=0&&(n="WinChip/Via"),t.indexOf("vmware")>=0&&(n="VMware"),t.indexOf("Xen")>=0&&(n="Xen Hypervisor"),t.indexOf("tcg")>=0&&(n="QEMU"),t.indexOf("apple")>=0&&(n="Apple"),t.indexOf("sifive")>=0&&(n="SiFive"),t.indexOf("thead")>=0&&(n="T-Head"),t.indexOf("andestech")>=0&&(n="Andes Technology"),n}function Sn(t){t.brand=t.brand.replace(/\(R\)+/g,"®").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/\(TM\)+/g,"™").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/\(C\)+/g,"©").replace(/\s+/g," ").trim(),t.brand=t.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),t.manufacturer=vn(t.brand);let n=t.brand.split(" ");return n.shift(),t.brand=n.join(" "),t}function ri(t){let n="0";for(let e in ii)if({}.hasOwnProperty.call(ii,e)){let i=e.split("|"),s=0;i.forEach(r=>{t.indexOf(r)>-1&&s++}),s===i.length&&(n=ii[e])}return parseFloat(n)}function To(){return new Promise(t=>{process.nextTick(()=>{const n="unknown";let e={manufacturer:n,brand:n,vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:0,speedMin:0,speedMax:0,governor:"",cores:P.cores(),physicalCores:P.cores(),performanceCores:P.cores(),efficiencyCores:0,processors:1,socket:"",flags:"",virtualization:!1,cache:{}};Rr().then(i=>{if(e.flags=i,e.virtualization=i.indexOf("vmx")>-1||i.indexOf("svm")>-1,Hn&&ge("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily",function(s,r){let o=r.toString().split(`
`);const l=P.getValue(o,"machdep.cpu.brand_string").split("@");e.brand=l[0].trim();const c=l[1]?l[1].trim():"0";e.speed=parseFloat(c.replace(/GHz+/g,""));let u=P.getValue(o,"hw.tbfrequency")/1e9;u=u<.1?u*100:u,e.speed=e.speed===0?u:e.speed,zt=e.speed,e=Sn(e),e.speedMin=P.getValue(o,"hw.cpufrequency_min")?P.getValue(o,"hw.cpufrequency_min")/1e9:e.speed,e.speedMax=P.getValue(o,"hw.cpufrequency_max")?P.getValue(o,"hw.cpufrequency_max")/1e9:e.speed,e.vendor=P.getValue(o,"machdep.cpu.vendor")||"Apple",e.family=P.getValue(o,"machdep.cpu.family")||P.getValue(o,"hw.cpufamily"),e.model=P.getValue(o,"machdep.cpu.model"),e.stepping=P.getValue(o,"machdep.cpu.stepping")||P.getValue(o,"hw.cpusubfamily"),e.virtualization=!0;const f=P.getValue(o,"hw.packages"),p=P.getValue(o,"hw.physicalcpu_max"),d=P.getValue(o,"hw.ncpu");if(Te.arch()==="arm64"){e.socket="SOC";try{const m=Un("ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type").toString().split(`
`),g=m.filter(h=>h.indexOf('"E"')>=0).length,y=m.filter(h=>h.indexOf('"P"')>=0).length;e.efficiencyCores=g,e.performanceCores=y}catch{P.noop()}}f&&(e.processors=parseInt(f)||1),p&&d&&(e.cores=parseInt(d)||P.cores(),e.physicalCores=parseInt(p)||P.cores()),zr().then(m=>{e.cache=m,t(e)})}),Yt){let s="",r=[];Te.cpus()[0]&&Te.cpus()[0].model&&(s=Te.cpus()[0].model),ge('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',function(o,a){o||(r=a.toString().split(`
`)),s=P.getValue(r,"model name")||s,s=P.getValue(r,"bios model name")||s,s=P.cleanString(s);const l=s.split("@");if(e.brand=l[0].trim(),e.brand.indexOf("Unknown")>=0&&(e.brand=e.brand.split("Unknown")[0].trim()),e.speed=l[1]?parseFloat(l[1].trim()):0,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=ri(e.brand)),e.speed===0){const g=yi();g.avg!==0&&(e.speed=g.avg)}zt=e.speed,e.speedMin=Math.round(parseFloat(P.getValue(r,"cpu min mhz").replace(/,/g,"."))/10)/100,e.speedMax=Math.round(parseFloat(P.getValue(r,"cpu max mhz").replace(/,/g,"."))/10)/100,e=Sn(e),e.vendor=vn(P.getValue(r,"vendor id")),e.family=P.getValue(r,"cpu family"),e.model=P.getValue(r,"model:"),e.stepping=P.getValue(r,"stepping"),e.revision=P.getValue(r,"cpu revision"),e.cache.l1d=P.getValue(r,"l1d cache"),e.cache.l1d&&(e.cache.l1d=parseInt(e.cache.l1d)*(e.cache.l1d.indexOf("M")!==-1?1024*1024:e.cache.l1d.indexOf("K")!==-1?1024:1)),e.cache.l1i=P.getValue(r,"l1i cache"),e.cache.l1i&&(e.cache.l1i=parseInt(e.cache.l1i)*(e.cache.l1i.indexOf("M")!==-1?1024*1024:e.cache.l1i.indexOf("K")!==-1?1024:1)),e.cache.l2=P.getValue(r,"l2 cache"),e.cache.l2&&(e.cache.l2=parseInt(e.cache.l2)*(e.cache.l2.indexOf("M")!==-1?1024*1024:e.cache.l2.indexOf("K")!==-1?1024:1)),e.cache.l3=P.getValue(r,"l3 cache"),e.cache.l3&&(e.cache.l3=parseInt(e.cache.l3)*(e.cache.l3.indexOf("M")!==-1?1024*1024:e.cache.l3.indexOf("K")!==-1?1024:1));const c=P.getValue(r,"thread(s) per core")||"1",u=P.getValue(r,"socket(s)")||"1",f=parseInt(c,10),p=parseInt(u,10)||1,d=parseInt(P.getValue(r,"core(s) per socket"),10);if(e.physicalCores=d?d*p:e.cores/f,e.performanceCores=f>1?e.cores-e.physicalCores:e.cores,e.efficiencyCores=f>1?e.cores-f*e.performanceCores:0,e.processors=p,e.governor=P.getValue(r,"governor")||"",e.vendor==="ARM"&&P.isRaspberry()){const g=P.decodePiCpuinfo();e.family=e.manufacturer,e.manufacturer=g.manufacturer,e.brand=g.processor,e.revision=g.revisionCode,e.socket="SOC"}if(P.getValue(r,"architecture")==="riscv64"){const g=Tn.readFileSync("/proc/cpuinfo").toString().split(`
`),y=P.getValue(g,"uarch")||"";if(y.indexOf(",")>-1){const h=y.split(",");e.manufacturer=vn(h[0]),e.brand=h[1]}}let m=[];ge('export LC_ALL=C; dmidecode –t 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',function(g,y){m=y.toString().split(`
`),m&&m.length&&(e.socket=P.getValue(m,"Upgrade").replace("Socket","").trim()||e.socket),t(e)})})}if(Xn||Kn||qn){let s="",r=[];Te.cpus()[0]&&Te.cpus()[0].model&&(s=Te.cpus()[0].model),ge("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",function(o,a){let l=[];if(!o){const d=a.toString().split("# dmidecode"),m=d.length>1?d[1]:"";l=d.length>2?d[2].split("Cache Information"):[],r=m.split(`
`)}if(e.brand=s.split("@")[0].trim(),e.speed=s.split("@")[1]?parseFloat(s.split("@")[1].trim()):0,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=ri(e.brand)),e.speed===0){const d=yi();d.avg!==0&&(e.speed=d.avg)}zt=e.speed,e.speedMin=e.speed,e.speedMax=Math.round(parseFloat(P.getValue(r,"max speed").replace(/Mhz/g,""))/10)/100,e=Sn(e),e.vendor=vn(P.getValue(r,"manufacturer"));let c=P.getValue(r,"signature");c=c.split(",");for(let d=0;d<c.length;d++)c[d]=c[d].trim();e.family=P.getValue(c,"Family"," ",!0),e.model=P.getValue(c,"Model"," ",!0),e.stepping=P.getValue(c,"Stepping"," ",!0),e.revision="";const u=parseFloat(P.getValue(r,"voltage"));e.voltage=isNaN(u)?"":u.toFixed(2);for(let d=0;d<l.length;d++){r=l[d].split(`
`);let m=P.getValue(r,"Socket Designation").toLowerCase().replace(" ","-").split("-");m=m.length?m[0]:"";const g=P.getValue(r,"Installed Size").split(" ");let y=parseInt(g[0],10);const h=g.length>1?g[1]:"kb";y=y*(h==="kb"?1024:h==="mb"?1024*1024:h==="gb"?1024*1024*1024:1),m&&(m==="l1"?(e.cache[m+"d"]=y/2,e.cache[m+"i"]=y/2):e.cache[m]=y)}e.socket=P.getValue(r,"Upgrade").replace("Socket","").trim();const f=P.getValue(r,"thread count").trim(),p=P.getValue(r,"core count").trim();p&&f&&(e.cores=parseInt(f,10),e.physicalCores=parseInt(p,10)),t(e)})}if(jn&&t(e),$n)try{const s=[];s.push(P.powerShell("Get-CimInstance Win32_processor | select Name, Revision, L2CacheSize, L3CacheSize, Manufacturer, MaxClockSpeed, Description, UpgradeMethod, Caption, NumberOfLogicalProcessors, NumberOfCores | fl")),s.push(P.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),s.push(P.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),Promise.all(s).then(r=>{let o=r[0].split(`\r
`),a=P.getValue(o,"name",":")||"";a.indexOf("@")>=0?(e.brand=a.split("@")[0].trim(),e.speed=a.split("@")[1]?parseFloat(a.split("@")[1].trim()):0,zt=e.speed):(e.brand=a.trim(),e.speed=0),e=Sn(e),e.revision=P.getValue(o,"revision",":"),e.vendor=P.getValue(o,"manufacturer",":"),e.speedMax=Math.round(parseFloat(P.getValue(o,"maxclockspeed",":").replace(/,/g,"."))/10)/100,e.speed===0&&(e.brand.indexOf("AMD")>-1||e.brand.toLowerCase().indexOf("ryzen")>-1)&&(e.speed=ri(e.brand)),e.speed===0&&(e.speed=e.speedMax),e.speedMin=e.speed;let l=P.getValue(o,"description",":").split(" ");for(let g=0;g<l.length;g++)l[g].toLowerCase().startsWith("family")&&g+1<l.length&&l[g+1]&&(e.family=l[g+1]),l[g].toLowerCase().startsWith("model")&&g+1<l.length&&l[g+1]&&(e.model=l[g+1]),l[g].toLowerCase().startsWith("stepping")&&g+1<l.length&&l[g+1]&&(e.stepping=l[g+1]);const c=P.getValue(o,"UpgradeMethod",":");Ki[c]&&(e.socket=Ki[c]);const u=Eo(a);u&&(e.socket=u);const f=P.countLines(o,"Caption"),p=P.getValue(o,"NumberOfLogicalProcessors",":"),d=P.getValue(o,"NumberOfCores",":");f&&(e.processors=parseInt(f)||1),d&&p&&(e.cores=parseInt(p)||P.cores(),e.physicalCores=parseInt(d)||P.cores()),f>1&&(e.cores=e.cores*f,e.physicalCores=e.physicalCores*f),e.cache=Ur(r[0],r[1]);const m=r[2]?r[2].toString().toLowerCase():"";e.virtualization=m.indexOf("true")!==-1,t(e)})}catch{t(e)}})})})}function Do(t){return new Promise(n=>{process.nextTick(()=>{To().then(e=>{t&&t(e),n(e)})})})}ht.cpu=Do;function yi(){let t=Te.cpus(),n=999999999,e=0,i=0,s=[],r=[];if(t&&t.length&&t[0].hasOwnProperty("speed"))for(let o in t)r.push(t[o].speed>100?(t[o].speed+1)/1e3:t[o].speed/10);else if(Yt)try{const o=Un('cat /proc/cpuinfo | grep "cpu MHz" | cut -d " " -f 3',P.execOptsLinux).toString().split(`
`).filter(a=>a.length>0);for(let a in o)r.push(Math.floor(parseInt(o[a],10)/10)/100)}catch{P.noop()}if(r&&r.length)try{for(let o in r)i=i+r[o],r[o]>e&&(e=r[o]),r[o]<n&&(n=r[o]),s.push(parseFloat(r[o].toFixed(2)));return i=i/r.length,{min:parseFloat(n.toFixed(2)),max:parseFloat(e.toFixed(2)),avg:parseFloat(i.toFixed(2)),cores:s}}catch{return{min:0,max:0,avg:0,cores:s}}else return{min:0,max:0,avg:0,cores:s}}function Vo(t){return new Promise(n=>{process.nextTick(()=>{let e=yi();if(e.avg===0&&zt!==0){const i=parseFloat(zt);e={min:i,max:i,avg:i,cores:[]}}t&&t(e),n(e)})})}ht.cpuCurrentSpeed=Vo;function bo(t){return new Promise(n=>{process.nextTick(()=>{let e={main:null,cores:[],max:null,socket:[],chipset:null};if(Yt){try{const r=Un('cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo "-----"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;',P.execOptsLinux).toString().split(`-----
`);if(r.length===2){const o=r[0].split(`
`),a=r[1].split(`
`);for(let l=0;l<o.length;l++){const c=o[l].trim();c.startsWith("acpi")&&a[l]&&e.socket.push(Math.round(parseInt(a[l],10)/100)/10),c.startsWith("pch")&&a[l]&&(e.chipset=Math.round(parseInt(a[l],10)/100)/10)}}}catch{P.noop()}const i='for mon in /sys/class/hwmon/hwmon*; do for label in "$mon"/temp*_label; do if [ -f $label ]; then value=${label%_*}_input; echo $(cat "$label")___$(cat "$value"); fi; done; done;';try{ge(i,function(s,r){r=r.toString();const o=r.toLowerCase().indexOf("tdie");o!==-1&&(r=r.substring(o));let a=r.split(`
`),l=0;if(a.forEach(c=>{const u=c.split("___"),f=u[0],p=u.length>1&&u[1]?u[1]:"0";p&&f&&f.toLowerCase()==="tctl"&&(l=e.main=Math.round(parseInt(p,10)/100)/10),p&&(f===void 0||f&&f.toLowerCase().startsWith("core"))?e.cores.push(Math.round(parseInt(p,10)/100)/10):p&&f&&e.main===null&&(f.toLowerCase().indexOf("package")>=0||f.toLowerCase().indexOf("physical")>=0||f.toLowerCase()==="tccd1")&&(e.main=Math.round(parseInt(p,10)/100)/10)}),l&&e.main===null&&(e.main=l),e.cores.length>0){e.main===null&&(e.main=Math.round(e.cores.reduce((u,f)=>u+f,0)/e.cores.length));let c=Math.max.apply(Math,e.cores);e.max=c>e.main?c:e.main}if(e.main!==null){e.max===null&&(e.max=e.main),t&&t(e),n(e);return}ge("sensors",function(c,u){if(!c){let f=u.toString().split(`
`),p=null,d=!0,m="";if(f.forEach(function(g){g.trim()===""?d=!0:d&&(g.trim().toLowerCase().startsWith("acpi")&&(m="acpi"),g.trim().toLowerCase().startsWith("pch")&&(m="pch"),g.trim().toLowerCase().startsWith("core")&&(m="core"),d=!1);let y=/[+-]([^°]*)/g,h=g.match(y),x=g.split(":")[0].toUpperCase();m==="acpi"?x.indexOf("TEMP")!==-1&&e.socket.push(parseFloat(h)):m==="pch"&&x.indexOf("TEMP")!==-1&&!e.chipset&&(e.chipset=parseFloat(h)),(x.indexOf("PHYSICAL")!==-1||x.indexOf("PACKAGE")!==-1)&&(e.main=parseFloat(h)),x.indexOf("CORE ")!==-1&&e.cores.push(parseFloat(h)),x.indexOf("TDIE")!==-1&&p===null&&(p=parseFloat(h))}),e.cores.length>0){e.main=Math.round(e.cores.reduce((y,h)=>y+h,0)/e.cores.length);let g=Math.max.apply(Math,e.cores);e.max=g>e.main?g:e.main}else e.main===null&&p!==null&&(e.main=p,e.max=p);if(e.main!==null||e.max!==null){t&&t(e),n(e);return}}Tn.stat("/sys/class/thermal/thermal_zone0/temp",function(f){f===null?Tn.readFile("/sys/class/thermal/thermal_zone0/temp",function(p,d){if(!p){let m=d.toString().split(`
`);m.length>0&&(e.main=parseFloat(m[0])/1e3,e.max=e.main)}t&&t(e),n(e)}):ge("/opt/vc/bin/vcgencmd measure_temp",function(p,d){if(!p){let m=d.toString().split(`
`);m.length>0&&m[0].indexOf("=")&&(e.main=parseFloat(m[0].split("=")[1]),e.max=e.main)}t&&t(e),n(e)})})})})}catch{t&&t(e),n(e)}}if((Xn||Kn||qn)&&ge("sysctl dev.cpu | grep temp",function(i,s){if(!i){let r=s.toString().split(`
`),o=0;r.forEach(function(a){const l=a.split(":");if(l.length>1){const c=parseFloat(l[1].replace(",","."));c>e.max&&(e.max=c),o=o+c,e.cores.push(c)}}),e.cores.length&&(e.main=Math.round(o/e.cores.length*100)/100)}t&&t(e),n(e)}),Hn){let i=null;try{i=require("osx-temperature-sensor")}catch{i=null}if(i&&(e=i.cpuTemperature(),e.main&&(e.main=Math.round(e.main*100)/100),e.max&&(e.max=Math.round(e.max*100)/100),e.cores&&e.cores.length))for(let s=0;s<e.cores.length;s++)e.cores[s]=Math.round(e.cores[s]*100)/100;t&&t(e),n(e)}if(jn&&(t&&t(e),n(e)),$n)try{P.powerShell('Get-CimInstance MSAcpi_ThermalZoneTemperature -Namespace "root/wmi" | Select CurrentTemperature').then((i,s)=>{if(!s){let r=0;i.split(`\r
`).filter(a=>a.trim()!=="").filter((a,l)=>l>0).forEach(function(a){let l=(parseInt(a,10)-2732)/10;isNaN(l)||(r=r+l,l>e.max&&(e.max=l),e.cores.push(l))}),e.cores.length&&(e.main=r/e.cores.length)}t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})}ht.cpuTemperature=bo;function Rr(t){return new Promise(n=>{process.nextTick(()=>{let e="";if($n)try{ge('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',P.execOptsWin,function(i,s){if(!i){let r=s.split("0x").pop().trim(),o=parseInt(r,16).toString(2),a="0".repeat(32-o.length)+o,l=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"];for(let c=0;c<l.length;c++)a[c]==="1"&&l[c]!==""&&(e+=" "+l[c]);e=e.trim().toLowerCase()}t&&t(e),n(e)})}catch{t&&t(e),n(e)}if(Yt)try{ge("export LC_ALL=C; lscpu; unset LC_ALL",function(i,s){i||s.toString().split(`
`).forEach(function(o){o.split(":")[0].toUpperCase().indexOf("FLAGS")!==-1&&(e=o.split(":")[1].trim().toLowerCase())}),e?(t&&t(e),n(e)):Tn.readFile("/proc/cpuinfo",function(r,o){if(!r){let a=o.toString().split(`
`);e=P.getValue(a,"features",":",!0).toLowerCase()}t&&t(e),n(e)})})}catch{t&&t(e),n(e)}(Xn||Kn||qn)&&ge("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",function(i,s){let r=[];if(!i){let o=s.toString().split("	Flags:");(o.length>1?o[1].split("	Version:")[0].split(`
`):[]).forEach(function(l){let c=(l.indexOf("(")?l.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");c&&r.push(c)})}e=r.join(" ").trim().toLowerCase(),t&&t(e),n(e)}),Hn&&ge("sysctl machdep.cpu.features",function(i,s){if(!i){let r=s.toString().split(`
`);r.length>0&&r[0].indexOf("machdep.cpu.features:")!==-1&&(e=r[0].split(":")[1].trim().toLowerCase())}t&&t(e),n(e)}),jn&&(t&&t(e),n(e))})})}ht.cpuFlags=Rr;function zr(t){return new Promise(n=>{process.nextTick(()=>{let e={l1d:null,l1i:null,l2:null,l3:null};if(Yt)try{ge("export LC_ALL=C; lscpu; unset LC_ALL",function(i,s){i||s.toString().split(`
`).forEach(function(o){let a=o.split(":");a[0].toUpperCase().indexOf("L1D CACHE")!==-1&&(e.l1d=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L1I CACHE")!==-1&&(e.l1i=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L2 CACHE")!==-1&&(e.l2=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1)),a[0].toUpperCase().indexOf("L3 CACHE")!==-1&&(e.l3=parseInt(a[1].trim())*(a[1].indexOf("M")!==-1?1024*1024:a[1].indexOf("K")!==-1?1024:1))}),t&&t(e),n(e)})}catch{t&&t(e),n(e)}if((Xn||Kn||qn)&&ge("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",function(i,s){let r=[];i||(r=s.toString().split("Cache Information"),r.shift());for(let o=0;o<r.length;o++){const a=r[o].split(`
`);let l=P.getValue(a,"Socket Designation").toLowerCase().replace(" ","-").split("-");l=l.length?l[0]:"";const c=P.getValue(a,"Installed Size").split(" ");let u=parseInt(c[0],10);const f=c.length>1?c[1]:"kb";u=u*(f==="kb"?1024:f==="mb"?1024*1024:f==="gb"?1024*1024*1024:1),l&&(l==="l1"?(e.cache[l+"d"]=u/2,e.cache[l+"i"]=u/2):e.cache[l]=u)}t&&t(e),n(e)}),Hn&&ge("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",function(i,s){i||s.toString().split(`
`).forEach(function(o){let a=o.split(":");a[0].toLowerCase().indexOf("hw.l1icachesize")!==-1&&(e.l1d=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l1dcachesize")!==-1&&(e.l1i=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l2cachesize")!==-1&&(e.l2=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1)),a[0].toLowerCase().indexOf("hw.l3cachesize")!==-1&&(e.l3=parseInt(a[1].trim())*(a[1].indexOf("K")!==-1?1024:1))}),t&&t(e),n(e)}),jn&&(t&&t(e),n(e)),$n)try{const i=[];i.push(P.powerShell("Get-CimInstance Win32_processor | select L2CacheSize, L3CacheSize | fl")),i.push(P.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),Promise.all(i).then(s=>{e=Ur(s[0],s[1]),t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})}function Ur(t,n){let e={l1d:null,l1i:null,l2:null,l3:null},i=t.split(`\r
`);e.l1d=0,e.l1i=0,e.l2=P.getValue(i,"l2cachesize",":"),e.l3=P.getValue(i,"l3cachesize",":"),e.l2?e.l2=parseInt(e.l2,10)*1024:e.l2=0,e.l3?e.l3=parseInt(e.l3,10)*1024:e.l3=0;const s=n.split(/\n\s*\n/);let r=0,o=0,a=0;return s.forEach(function(l){const c=l.split(`\r
`),u=P.getValue(c,"CacheType"),f=P.getValue(c,"Level"),p=P.getValue(c,"InstalledSize");f==="3"&&u==="3"&&(e.l1i=e.l1i+parseInt(p,10)*1024),f==="3"&&u==="4"&&(e.l1d=e.l1d+parseInt(p,10)*1024),f==="3"&&u==="5"&&(r=parseInt(p,10)/2,o=parseInt(p,10)/2),f==="4"&&u==="5"&&(a=a+parseInt(p,10)*1024)}),!e.l1i&&!e.l1d&&(e.l1i=r,e.l1d=o),a&&(e.l2=a),e}ht.cpuCache=zr;function Bo(){return new Promise(t=>{process.nextTick(()=>{let n=Te.loadavg().map(function(r){return r/P.cores()}),e=parseFloat(Math.max.apply(Math,n).toFixed(2)),i={};if(Date.now()-Y.ms>=200){Y.ms=Date.now();const r=Te.cpus().map(function(h){return h.times.steal=0,h.times.guest=0,h});let o=0,a=0,l=0,c=0,u=0,f=0,p=0,d=[];if(ni=r&&r.length?r.length:0,Yt)try{const h=Un("cat /proc/stat 2>/dev/null | grep cpu",P.execOptsLinux).toString().split(`
`);if(h.length>1&&(h.shift(),h.length===r.length))for(let x=0;x<h.length;x++){let S=h[x].split(" ");if(S.length>=10){const C=parseFloat(S[8])||0,w=parseFloat(S[9])||0;r[x].times.steal=C,r[x].times.guest=w}}}catch{P.noop()}for(let h=0;h<ni;h++){const x=r[h].times;o+=x.user,a+=x.sys,l+=x.nice,u+=x.idle,c+=x.irq,f+=x.steal||0,p+=x.guest||0;let S=I&&I[h]&&I[h].totalTick?I[h].totalTick:0,C=I&&I[h]&&I[h].totalLoad?I[h].totalLoad:0,w=I&&I[h]&&I[h].user?I[h].user:0,B=I&&I[h]&&I[h].sys?I[h].sys:0,E=I&&I[h]&&I[h].nice?I[h].nice:0,X=I&&I[h]&&I[h].idle?I[h].idle:0,O=I&&I[h]&&I[h].irq?I[h].irq:0,U=I&&I[h]&&I[h].steal?I[h].steal:0,k=I&&I[h]&&I[h].guest?I[h].guest:0;I[h]=x,I[h].totalTick=I[h].user+I[h].sys+I[h].nice+I[h].irq+I[h].steal+I[h].guest+I[h].idle,I[h].totalLoad=I[h].user+I[h].sys+I[h].nice+I[h].irq+I[h].steal+I[h].guest,I[h].currentTick=I[h].totalTick-S,I[h].load=I[h].totalLoad-C,I[h].loadUser=I[h].user-w,I[h].loadSystem=I[h].sys-B,I[h].loadNice=I[h].nice-E,I[h].loadIdle=I[h].idle-X,I[h].loadIrq=I[h].irq-O,I[h].loadSteal=I[h].steal-U,I[h].loadGuest=I[h].guest-k,d[h]={},d[h].load=I[h].load/I[h].currentTick*100,d[h].loadUser=I[h].loadUser/I[h].currentTick*100,d[h].loadSystem=I[h].loadSystem/I[h].currentTick*100,d[h].loadNice=I[h].loadNice/I[h].currentTick*100,d[h].loadIdle=I[h].loadIdle/I[h].currentTick*100,d[h].loadIrq=I[h].loadIrq/I[h].currentTick*100,d[h].loadSteal=I[h].loadSteal/I[h].currentTick*100,d[h].loadGuest=I[h].loadGuest/I[h].currentTick*100,d[h].rawLoad=I[h].load,d[h].rawLoadUser=I[h].loadUser,d[h].rawLoadSystem=I[h].loadSystem,d[h].rawLoadNice=I[h].loadNice,d[h].rawLoadIdle=I[h].loadIdle,d[h].rawLoadIrq=I[h].loadIrq,d[h].rawLoadSteal=I[h].loadSteal,d[h].rawLoadGuest=I[h].loadGuest}let m=o+a+l+c+f+p+u,g=o+a+l+c+f+p,y=m-Y.tick;i={avgLoad:e,currentLoad:(g-Y.load)/y*100,currentLoadUser:(o-Y.user)/y*100,currentLoadSystem:(a-Y.system)/y*100,currentLoadNice:(l-Y.nice)/y*100,currentLoadIdle:(u-Y.idle)/y*100,currentLoadIrq:(c-Y.irq)/y*100,currentLoadSteal:(f-Y.steal)/y*100,currentLoadGuest:(p-Y.guest)/y*100,rawCurrentLoad:g-Y.load,rawCurrentLoadUser:o-Y.user,rawCurrentLoadSystem:a-Y.system,rawCurrentLoadNice:l-Y.nice,rawCurrentLoadIdle:u-Y.idle,rawCurrentLoadIrq:c-Y.irq,rawCurrentLoadSteal:f-Y.steal,rawCurrentLoadGuest:p-Y.guest,cpus:d},Y={user:o,nice:l,system:a,idle:u,irq:c,steal:f,guest:p,tick:m,load:g,ms:Y.ms,currentLoad:i.currentLoad,currentLoadUser:i.currentLoadUser,currentLoadSystem:i.currentLoadSystem,currentLoadNice:i.currentLoadNice,currentLoadIdle:i.currentLoadIdle,currentLoadIrq:i.currentLoadIrq,currentLoadSteal:i.currentLoadSteal,currentLoadGuest:i.currentLoadGuest,rawCurrentLoad:i.rawCurrentLoad,rawCurrentLoadUser:i.rawCurrentLoadUser,rawCurrentLoadSystem:i.rawCurrentLoadSystem,rawCurrentLoadNice:i.rawCurrentLoadNice,rawCurrentLoadIdle:i.rawCurrentLoadIdle,rawCurrentLoadIrq:i.rawCurrentLoadIrq,rawCurrentLoadSteal:i.rawCurrentLoadSteal,rawCurrentLoadGuest:i.rawCurrentLoadGuest}}else{let r=[];for(let o=0;o<ni;o++)r[o]={},r[o].load=I[o].load/I[o].currentTick*100,r[o].loadUser=I[o].loadUser/I[o].currentTick*100,r[o].loadSystem=I[o].loadSystem/I[o].currentTick*100,r[o].loadNice=I[o].loadNice/I[o].currentTick*100,r[o].loadIdle=I[o].loadIdle/I[o].currentTick*100,r[o].loadIrq=I[o].loadIrq/I[o].currentTick*100,r[o].rawLoad=I[o].load,r[o].rawLoadUser=I[o].loadUser,r[o].rawLoadSystem=I[o].loadSystem,r[o].rawLoadNice=I[o].loadNice,r[o].rawLoadIdle=I[o].loadIdle,r[o].rawLoadIrq=I[o].loadIrq,r[o].rawLoadSteal=I[o].loadSteal,r[o].rawLoadGuest=I[o].loadGuest;i={avgLoad:e,currentLoad:Y.currentLoad,currentLoadUser:Y.currentLoadUser,currentLoadSystem:Y.currentLoadSystem,currentLoadNice:Y.currentLoadNice,currentLoadIdle:Y.currentLoadIdle,currentLoadIrq:Y.currentLoadIrq,currentLoadSteal:Y.currentLoadSteal,currentLoadGuest:Y.currentLoadGuest,rawCurrentLoad:Y.rawCurrentLoad,rawCurrentLoadUser:Y.rawCurrentLoadUser,rawCurrentLoadSystem:Y.rawCurrentLoadSystem,rawCurrentLoadNice:Y.rawCurrentLoadNice,rawCurrentLoadIdle:Y.rawCurrentLoadIdle,rawCurrentLoadIrq:Y.rawCurrentLoadIrq,rawCurrentLoadSteal:Y.rawCurrentLoadSteal,rawCurrentLoadGuest:Y.rawCurrentLoadGuest,cpus:r}}t(i)})})}function No(t){return new Promise(n=>{process.nextTick(()=>{Bo().then(e=>{t&&t(e),n(e)})})})}ht.currentLoad=No;function ko(){return new Promise(t=>{process.nextTick(()=>{const n=Te.cpus();let e=0,i=0,s=0,r=0,o=0,a=0;if(n&&n.length){for(let c=0,u=n.length;c<u;c++){const f=n[c].times;e+=f.user,i+=f.sys,s+=f.nice,r+=f.irq,o+=f.idle}let l=o+r+s+i+e;a=(l-o)/l*100}t(a)})})}function Fo(t){return new Promise(n=>{process.nextTick(()=>{ko().then(e=>{t&&t(e),n(e)})})})}ht.fullLoad=Fo;var Ei={};const Ne=Ge,ln=te.exec,Mn=te.execSync,A=T,Go=Be;let et=process.platform;const Hr=et==="linux"||et==="android",$r=et==="darwin",Xr=et==="win32",Kr=et==="freebsd",qr=et==="openbsd",jr=et==="netbsd",Yr=et==="sunos",ji={"00CE":"Samsung Electronics Inc","014F":"Transcend Information Inc.","017A":"Apacer Technology Inc.","0198":"HyperX","029E":"Corsair","02FE":"Elpida","04CB":"A-DATA","04CD":"G.Skill International Enterprise","059B":"Crucial",1315:"Crucial","2C00":"Micron Technology Inc.",5105:"Qimonda AG i. In.","802C":"Micron Technology Inc.","80AD":"Hynix Semiconductor Inc.","80CE":"Samsung Electronics Inc.",8551:"Qimonda AG i. In.","859B":"Crucial",AD00:"Hynix Semiconductor Inc.",CE00:"Samsung Electronics Inc.",SAMSUNG:"Samsung Electronics Inc.",HYNIX:"Hynix Semiconductor Inc.","G-SKILL":"G-Skill International Enterprise","G.SKILL":"G-Skill International Enterprise",TRANSCEND:"Transcend Information",APACER:"Apacer Technology Inc",MICRON:"Micron Technology Inc.",QIMONDA:"Qimonda AG i. In."};function Wo(t){return new Promise(n=>{process.nextTick(()=>{let e={total:Ne.totalmem(),free:Ne.freemem(),used:Ne.totalmem()-Ne.freemem(),active:Ne.totalmem()-Ne.freemem(),available:Ne.freemem(),buffers:0,cached:0,slab:0,buffcache:0,reclaimable:0,swaptotal:0,swapused:0,swapfree:0,writeback:null,dirty:null};if(Hr)try{Go.readFile("/proc/meminfo",function(i,s){if(!i){const r=s.toString().split(`
`);e.total=parseInt(A.getValue(r,"memtotal"),10),e.total=e.total?e.total*1024:Ne.totalmem(),e.free=parseInt(A.getValue(r,"memfree"),10),e.free=e.free?e.free*1024:Ne.freemem(),e.used=e.total-e.free,e.buffers=parseInt(A.getValue(r,"buffers"),10),e.buffers=e.buffers?e.buffers*1024:0,e.cached=parseInt(A.getValue(r,"cached"),10),e.cached=e.cached?e.cached*1024:0,e.slab=parseInt(A.getValue(r,"slab"),10),e.slab=e.slab?e.slab*1024:0,e.buffcache=e.buffers+e.cached+e.slab;let o=parseInt(A.getValue(r,"memavailable"),10);e.available=o?o*1024:e.free+e.buffcache,e.active=e.total-e.available,e.swaptotal=parseInt(A.getValue(r,"swaptotal"),10),e.swaptotal=e.swaptotal?e.swaptotal*1024:0,e.swapfree=parseInt(A.getValue(r,"swapfree"),10),e.swapfree=e.swapfree?e.swapfree*1024:0,e.swapused=e.swaptotal-e.swapfree,e.writeback=parseInt(A.getValue(r,"writeback"),10),e.writeback=e.writeback?e.writeback*1024:0,e.dirty=parseInt(A.getValue(r,"dirty"),10),e.dirty=e.dirty?e.dirty*1024:0,e.reclaimable=parseInt(A.getValue(r,"sreclaimable"),10),e.reclaimable=e.reclaimable?e.reclaimable*1024:0}t&&t(e),n(e)})}catch{t&&t(e),n(e)}if(Kr||qr||jr)try{ln("/sbin/sysctl hw.realmem hw.physmem vm.stats.vm.v_page_count vm.stats.vm.v_wire_count vm.stats.vm.v_active_count vm.stats.vm.v_inactive_count vm.stats.vm.v_cache_count vm.stats.vm.v_free_count vm.stats.vm.v_page_size",function(i,s){if(!i){let r=s.toString().split(`
`);const o=parseInt(A.getValue(r,"vm.stats.vm.v_page_size"),10),a=parseInt(A.getValue(r,"vm.stats.vm.v_inactive_count"),10)*o,l=parseInt(A.getValue(r,"vm.stats.vm.v_cache_count"),10)*o;e.total=parseInt(A.getValue(r,"hw.realmem"),10),isNaN(e.total)&&(e.total=parseInt(A.getValue(r,"hw.physmem"),10)),e.free=parseInt(A.getValue(r,"vm.stats.vm.v_free_count"),10)*o,e.buffcache=a+l,e.available=e.buffcache+e.free,e.active=e.total-e.free-e.buffcache,e.swaptotal=0,e.swapfree=0,e.swapused=0}t&&t(e),n(e)})}catch{t&&t(e),n(e)}if(Yr&&(t&&t(e),n(e)),$r){let i=4096;try{i=A.toInt(Mn("sysctl -n vm.pagesize").toString())||i}catch{A.noop()}try{ln('vm_stat 2>/dev/null | egrep "Pages active|Pages inactive"',function(s,r){if(!s){let o=r.toString().split(`
`);e.active=(parseInt(A.getValue(o,"Pages active"),10)||0)*i,e.reclaimable=(parseInt(A.getValue(o,"Pages inactive"),10)||0)*i,e.buffcache=e.used-e.active,e.available=e.free+e.buffcache}ln("sysctl -n vm.swapusage 2>/dev/null",function(o,a){if(!o){let l=a.toString().split(`
`);l.length>0&&l[0].replace(/,/g,".").replace(/M/g,"").trim().split("  ").forEach(f=>{f.toLowerCase().indexOf("total")!==-1&&(e.swaptotal=parseFloat(f.split("=")[1].trim())*1024*1024),f.toLowerCase().indexOf("used")!==-1&&(e.swapused=parseFloat(f.split("=")[1].trim())*1024*1024),f.toLowerCase().indexOf("free")!==-1&&(e.swapfree=parseFloat(f.split("=")[1].trim())*1024*1024)})}t&&t(e),n(e)})})}catch{t&&t(e),n(e)}}if(Xr){let i=0,s=0;try{A.powerShell("Get-CimInstance Win32_PageFileUsage | Select AllocatedBaseSize, CurrentUsage").then((r,o)=>{o||r.split(`\r
`).filter(l=>l.trim()!=="").filter((l,c)=>c>0).forEach(function(l){l!==""&&(l=l.trim().split(/\s\s+/),i=i+(parseInt(l[0],10)||0),s=s+(parseInt(l[1],10)||0))}),e.swaptotal=i*1024*1024,e.swapused=s*1024*1024,e.swapfree=e.swaptotal-e.swapused,t&&t(e),n(e)})}catch{t&&t(e),n(e)}}})})}Ei.mem=Wo;function Ro(t){function n(e){const i=e.replace("0x","").toUpperCase();return i.length>=4&&{}.hasOwnProperty.call(ji,i)?ji[i]:e}return new Promise(e=>{process.nextTick(()=>{let i=[];if((Hr||Kr||qr||jr)&&ln('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',function(s,r){if(!s){let o=r.toString().split("Memory Device");o.shift(),o.forEach(function(a){let l=a.split(`
`);const c=A.getValue(l,"Size"),u=c.indexOf("GB")>=0?parseInt(c,10)*1024*1024*1024:parseInt(c,10)*1024*1024;let f=A.getValue(l,"Bank Locator");if(f.toLowerCase().indexOf("bad")>=0&&(f=""),parseInt(A.getValue(l,"Size"),10)>0){const p=A.toInt(A.getValue(l,"Total Width")),d=A.toInt(A.getValue(l,"Data Width"));i.push({size:u,bank:f,type:A.getValue(l,"Type:"),ecc:d&&p?p>d:!1,clockSpeed:A.getValue(l,"Configured Clock Speed:")?parseInt(A.getValue(l,"Configured Clock Speed:"),10):A.getValue(l,"Speed:")?parseInt(A.getValue(l,"Speed:"),10):null,formFactor:A.getValue(l,"Form Factor:"),manufacturer:n(A.getValue(l,"Manufacturer:")),partNum:A.getValue(l,"Part Number:"),serialNum:A.getValue(l,"Serial Number:"),voltageConfigured:parseFloat(A.getValue(l,"Configured Voltage:"))||null,voltageMin:parseFloat(A.getValue(l,"Minimum Voltage:"))||null,voltageMax:parseFloat(A.getValue(l,"Maximum Voltage:"))||null})}else i.push({size:0,bank:f,type:"Empty",ecc:null,clockSpeed:0,formFactor:A.getValue(l,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!i.length){i.push({size:Ne.totalmem(),bank:"",type:"",ecc:null,clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null});try{let o=Mn("cat /proc/cpuinfo 2>/dev/null",A.execOptsLinux),a=o.toString().split(`
`),l=A.getValue(a,"revision",":",!0).toLowerCase();if(A.isRaspberry(a)){const c={0:400,1:450,2:450,3:3200,4:4267};i[0].type="LPDDR2",i[0].type=l&&l[2]&&l[2]==="3"?"LPDDR4":i[0].type,i[0].type=l&&l[2]&&l[2]==="4"?"LPDDR4X":i[0].type,i[0].ecc=!1,i[0].clockSpeed=l&&l[2]&&c[l[2]]||400,i[0].clockSpeed=l&&l[4]&&l[4]==="d"?500:i[0].clockSpeed,i[0].formFactor="SoC",o=Mn("vcgencmd get_config sdram_freq 2>/dev/null",A.execOptsLinux),a=o.toString().split(`
`);let u=parseInt(A.getValue(a,"sdram_freq","=",!0),10)||0;u&&(i[0].clockSpeed=u),o=Mn("vcgencmd measure_volts sdram_p 2>/dev/null",A.execOptsLinux),a=o.toString().split(`
`);let f=parseFloat(A.getValue(a,"volt","=",!0))||0;f&&(i[0].voltageConfigured=f,i[0].voltageMin=f,i[0].voltageMax=f)}}catch{A.noop()}}t&&t(i),e(i)}),$r&&ln("system_profiler SPMemoryDataType",function(s,r){if(!s){const o=r.toString().split(`
`),a=A.getValue(o,"ecc",":",!0).toLowerCase();let l=r.toString().split("        BANK "),c=!0;l.length===1&&(l=r.toString().split("        DIMM"),c=!1),l.shift(),l.forEach(function(u){let f=u.split(`
`);const p=(c?"BANK ":"DIMM")+f[0].trim().split("/")[0],d=parseInt(A.getValue(f,"          Size"));d?i.push({size:d*1024*1024*1024,bank:p,type:A.getValue(f,"          Type:"),ecc:a?a==="enabled":null,clockSpeed:parseInt(A.getValue(f,"          Speed:"),10),formFactor:"",manufacturer:n(A.getValue(f,"          Manufacturer:")),partNum:A.getValue(f,"          Part Number:"),serialNum:A.getValue(f,"          Serial Number:"),voltageConfigured:null,voltageMin:null,voltageMax:null}):i.push({size:0,bank:p,type:"Empty",ecc:null,clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!i.length){const o=r.toString().split(`
`),a=parseInt(A.getValue(o,"      Memory:")),l=A.getValue(o,"      Type:"),c=A.getValue(o,"      Manufacturer:");a&&l&&i.push({size:a*1024*1024*1024,bank:"0",type:l,ecc:!1,clockSpeed:null,formFactor:"SOC",manufacturer:n(c),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}t&&t(i),e(i)}),Yr&&(t&&t(i),e(i)),Xr){const s="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4|Logical non-volatile device|HBM|HBM2|DDR5|LPDDR5".split("|"),r="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{A.powerShell("Get-CimInstance Win32_PhysicalMemory | select DataWidth,TotalWidth,Capacity,BankLabel,MemoryType,SMBIOSMemoryType,ConfiguredClockSpeed,Speed,FormFactor,Manufacturer,PartNumber,SerialNumber,ConfiguredVoltage,MinVoltage,MaxVoltage,Tag | fl").then((o,a)=>{if(!a){let l=o.toString().split(/\n\s*\n/);l.shift(),l.forEach(function(c){let u=c.split(`\r
`);const f=A.toInt(A.getValue(u,"DataWidth",":")),p=A.toInt(A.getValue(u,"TotalWidth",":")),d=parseInt(A.getValue(u,"Capacity",":"),10)||0,m=A.getValue(u,"Tag",":"),g=A.splitByNumber(m);d&&i.push({size:d,bank:A.getValue(u,"BankLabel",":")+(g[1]?"/"+g[1]:""),type:s[parseInt(A.getValue(u,"MemoryType",":"),10)||parseInt(A.getValue(u,"SMBIOSMemoryType",":"),10)],ecc:f&&p?p>f:!1,clockSpeed:parseInt(A.getValue(u,"ConfiguredClockSpeed",":"),10)||parseInt(A.getValue(u,"Speed",":"),10)||0,formFactor:r[parseInt(A.getValue(u,"FormFactor",":"),10)||0],manufacturer:n(A.getValue(u,"Manufacturer",":")),partNum:A.getValue(u,"PartNumber",":"),serialNum:A.getValue(u,"SerialNumber",":"),voltageConfigured:(parseInt(A.getValue(u,"ConfiguredVoltage",":"),10)||0)/1e3,voltageMin:(parseInt(A.getValue(u,"MinVoltage",":"),10)||0)/1e3,voltageMax:(parseInt(A.getValue(u,"MaxVoltage",":"),10)||0)/1e3})})}t&&t(i),e(i)})}catch{t&&t(i),e(i)}}})})}Ei.memLayout=Ro;const Yi=te.exec,Bt=Be,$=T;let tt=process.platform;const zo=tt==="linux"||tt==="android",Uo=tt==="darwin",Ho=tt==="win32",$o=tt==="freebsd",Xo=tt==="openbsd",Ko=tt==="netbsd",qo=tt==="sunos";function jo(t,n,e){const i={};let s=$.getValue(t,"BatteryStatus",":").trim();if(s>=0){const r=s?parseInt(s):0;i.status=r,i.hasBattery=!0,i.maxCapacity=e||parseInt($.getValue(t,"DesignCapacity",":")||0),i.designedCapacity=parseInt($.getValue(t,"DesignCapacity",":")||n),i.voltage=parseInt($.getValue(t,"DesignVoltage",":")||0)/1e3,i.capacityUnit="mWh",i.percent=parseInt($.getValue(t,"EstimatedChargeRemaining",":")||0),i.currentCapacity=parseInt(i.maxCapacity*i.percent/100),i.isCharging=r>=6&&r<=9||r===11||r!==3&&r!==1&&i.percent<100,i.acConnected=i.isCharging||r===2,i.model=$.getValue(t,"DeviceID",":")}else i.status=-1;return i}var Yo=function(t){return new Promise(n=>{process.nextTick(()=>{let e={hasBattery:!1,cycleCount:0,isCharging:!1,designedCapacity:0,maxCapacity:0,currentCapacity:0,voltage:0,capacityUnit:"",percent:0,timeRemaining:null,acConnected:!0,type:"",model:"",manufacturer:"",serial:""};if(zo){let i="";Bt.existsSync("/sys/class/power_supply/BAT1/uevent")?i="/sys/class/power_supply/BAT1/":Bt.existsSync("/sys/class/power_supply/BAT0/uevent")&&(i="/sys/class/power_supply/BAT0/");let s=!1,r="";Bt.existsSync("/sys/class/power_supply/AC/online")?r="/sys/class/power_supply/AC/online":Bt.existsSync("/sys/class/power_supply/AC0/online")&&(r="/sys/class/power_supply/AC0/online"),r&&(s=Bt.readFileSync(r).toString().trim()==="1"),i?Bt.readFile(i+"uevent",function(o,a){if(o)t&&t(e),n(e);else{let l=a.toString().split(`
`);e.isCharging=$.getValue(l,"POWER_SUPPLY_STATUS","=").toLowerCase()==="charging",e.acConnected=s||e.isCharging,e.voltage=parseInt("0"+$.getValue(l,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,e.capacityUnit=e.voltage?"mWh":"mAh",e.cycleCount=parseInt("0"+$.getValue(l,"POWER_SUPPLY_CYCLE_COUNT","="),10),e.maxCapacity=Math.round(parseInt("0"+$.getValue(l,"POWER_SUPPLY_CHARGE_FULL","=",!0,!0),10)/1e3*(e.voltage||1));const c=parseInt("0"+$.getValue(l,"POWER_SUPPLY_VOLTAGE_MIN_DESIGN","="),10)/1e6;e.designedCapacity=Math.round(parseInt("0"+$.getValue(l,"POWER_SUPPLY_CHARGE_FULL_DESIGN","=",!0,!0),10)/1e3*(c||e.voltage||1)),e.currentCapacity=Math.round(parseInt("0"+$.getValue(l,"POWER_SUPPLY_CHARGE_NOW","="),10)/1e3*(e.voltage||1)),e.maxCapacity||(e.maxCapacity=parseInt("0"+$.getValue(l,"POWER_SUPPLY_ENERGY_FULL","=",!0,!0),10)/1e3,e.designedCapacity=parseInt("0"+$.getValue(l,"POWER_SUPPLY_ENERGY_FULL_DESIGN","=",!0,!0),10)/1e3|e.maxCapacity,e.currentCapacity=parseInt("0"+$.getValue(l,"POWER_SUPPLY_ENERGY_NOW","="),10)/1e3);const u=$.getValue(l,"POWER_SUPPLY_CAPACITY","="),f=parseInt("0"+$.getValue(l,"POWER_SUPPLY_ENERGY_NOW","="),10),p=parseInt("0"+$.getValue(l,"POWER_SUPPLY_POWER_NOW","="),10),d=parseInt("0"+$.getValue(l,"POWER_SUPPLY_CURRENT_NOW","="),10),m=parseInt("0"+$.getValue(l,"POWER_SUPPLY_CHARGE_NOW","="),10);e.percent=parseInt("0"+u,10),e.maxCapacity&&e.currentCapacity&&(e.hasBattery=!0,u||(e.percent=100*e.currentCapacity/e.maxCapacity)),e.isCharging&&(e.hasBattery=!0),f&&p?e.timeRemaining=Math.floor(f/p*60):d&&m?e.timeRemaining=Math.floor(m/d*60):d&&e.currentCapacity&&(e.timeRemaining=Math.floor(e.currentCapacity/d*60)),e.type=$.getValue(l,"POWER_SUPPLY_TECHNOLOGY","="),e.model=$.getValue(l,"POWER_SUPPLY_MODEL_NAME","="),e.manufacturer=$.getValue(l,"POWER_SUPPLY_MANUFACTURER","="),e.serial=$.getValue(l,"POWER_SUPPLY_SERIAL_NUMBER","="),t&&t(e),n(e)}}):(t&&t(e),n(e))}if(($o||Xo||Ko)&&Yi("sysctl -i hw.acpi.battery hw.acpi.acline",function(i,s){let r=s.toString().split(`
`);const o=parseInt("0"+$.getValue(r,"hw.acpi.battery.units"),10),a=parseInt("0"+$.getValue(r,"hw.acpi.battery.life"),10);e.hasBattery=o>0,e.cycleCount=null,e.isCharging=$.getValue(r,"hw.acpi.acline")!=="1",e.acConnected=e.isCharging,e.maxCapacity=null,e.currentCapacity=null,e.capacityUnit="unknown",e.percent=o?a:null,t&&t(e),n(e)}),Uo&&Yi('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|DeviceName|BatterySerialNumber|Serial|TimeRemaining|Voltage"; pmset -g batt | grep %',function(i,s){if(s){let r=s.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split(`
`);e.cycleCount=parseInt("0"+$.getValue(r,"cyclecount","="),10),e.voltage=parseInt("0"+$.getValue(r,"voltage","="),10)/1e3,e.capacityUnit=e.voltage?"mWh":"mAh",e.maxCapacity=Math.round(parseInt("0"+$.getValue(r,"applerawmaxcapacity","="),10)*(e.voltage||1)),e.currentCapacity=Math.round(parseInt("0"+$.getValue(r,"applerawcurrentcapacity","="),10)*(e.voltage||1)),e.designedCapacity=Math.round(parseInt("0"+$.getValue(r,"DesignCapacity","="),10)*(e.voltage||1)),e.manufacturer="Apple",e.serial=$.getValue(r,"BatterySerialNumber","=")||$.getValue(r,"Serial","="),e.model=$.getValue(r,"DeviceName","=");let o=null,l=$.getValue(r,"internal","Battery").split(";");if(l&&l[0]){let c=l[0].split("	");c&&c[1]&&(o=parseFloat(c[1].trim().replace(/%/g,"")))}l&&l[1]?(e.isCharging=l[1].trim()==="charging",e.acConnected=l[1].trim()!=="discharging"):(e.isCharging=$.getValue(r,"ischarging","=").toLowerCase()==="yes",e.acConnected=e.isCharging),e.maxCapacity&&e.currentCapacity&&(e.hasBattery=!0,e.type="Li-ion",e.percent=o!==null?o:Math.round(100*e.currentCapacity/e.maxCapacity),e.isCharging||(e.timeRemaining=parseInt("0"+$.getValue(r,"TimeRemaining","="),10)))}t&&t(e),n(e)}),qo&&(t&&t(e),n(e)),Ho)try{const i=[];i.push($.powerShell("Get-CimInstance Win32_Battery | select BatteryStatus, DesignCapacity, DesignVoltage, EstimatedChargeRemaining, DeviceID | fl")),i.push($.powerShell("(Get-WmiObject -Class BatteryStaticData -Namespace ROOT/WMI).DesignedCapacity")),i.push($.powerShell("(Get-CimInstance -Class BatteryFullChargedCapacity -Namespace ROOT/WMI).FullChargedCapacity")),$.promiseAll(i).then(s=>{if(s){let r=s.results[0].split(/\n\s*\n/),o=[];const a=u=>/\S/.test(u);for(let u=0;u<r.length;u++)a(r[u])&&(!o.length||!a(r[u-1]))&&o.push([]),a(r[u])&&o[o.length-1].push(r[u]);let l=s.results[1].split(`\r
`).filter(u=>u),c=s.results[2].split(`\r
`).filter(u=>u);if(o.length){let u=!1,f=[];for(let p=0;p<o.length;p++){let d=o[p][0].split(`\r
`);const m=l&&l.length>=p+1&&l[p]?$.toInt(l[p]):0,g=c&&c.length>=p+1&&c[p]?$.toInt(c[p]):0,y=jo(d,m,g);!u&&y.status>0&&y.status!==10?(e.hasBattery=y.hasBattery,e.maxCapacity=y.maxCapacity,e.designedCapacity=y.designedCapacity,e.voltage=y.voltage,e.capacityUnit=y.capacityUnit,e.percent=y.percent,e.currentCapacity=y.currentCapacity,e.isCharging=y.isCharging,e.acConnected=y.acConnected,e.model=y.model,u=!0):y.status!==-1&&f.push({hasBattery:y.hasBattery,maxCapacity:y.maxCapacity,designedCapacity:y.designedCapacity,voltage:y.voltage,capacityUnit:y.capacityUnit,percent:y.percent,currentCapacity:y.currentCapacity,isCharging:y.isCharging,timeRemaining:null,acConnected:y.acConnected,model:y.model,type:"",manufacturer:"",serial:""})}!u&&f.length&&(e=f[0],f.shift()),f.length&&(e.additionalBatteries=f)}}t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})},Jr={};const Cn=Be,Nt=te.exec,si=te.execSync,D=T;let nt=process.platform,en="";const wn=nt==="linux"||nt==="android",Jo=nt==="darwin",Ji=nt==="win32",Qo=nt==="freebsd",Zo=nt==="openbsd",ea=nt==="netbsd",ta=nt==="sunos";let tn=0,nn=0,Ln=0,In=0;const Qi={"-2":"UNINITIALIZED","-1":"OTHER",0:"HD15",1:"SVIDEO",2:"Composite video",3:"Component video",4:"DVI",5:"HDMI",6:"LVDS",8:"D_JPN",9:"SDI",10:"DP",11:"DP embedded",12:"UDI",13:"UDI embedded",14:"SDTVDONGLE",15:"MIRACAST","2147483648":"INTERNAL"};function Zi(t){const n=[{pattern:"^LG.+",manufacturer:"LG"},{pattern:"^BENQ.+",manufacturer:"BenQ"},{pattern:"^ASUS.+",manufacturer:"Asus"},{pattern:"^DELL.+",manufacturer:"Dell"},{pattern:"^SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^VIEWSON.+",manufacturer:"ViewSonic"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^ACER.+",manufacturer:"Acer"},{pattern:"^AOC.+",manufacturer:"AOC Monitors"},{pattern:"^HP.+",manufacturer:"HP"},{pattern:"^EIZO.?",manufacturer:"Eizo"},{pattern:"^PHILIPS.?",manufacturer:"Philips"},{pattern:"^IIYAMA.?",manufacturer:"Iiyama"},{pattern:"^SHARP.?",manufacturer:"Sharp"},{pattern:"^NEC.?",manufacturer:"NEC"},{pattern:"^LENOVO.?",manufacturer:"Lenovo"},{pattern:"COMPAQ.?",manufacturer:"Compaq"},{pattern:"APPLE.?",manufacturer:"Apple"},{pattern:"INTEL.?",manufacturer:"Intel"},{pattern:"AMD.?",manufacturer:"AMD"},{pattern:"NVIDIA.?",manufacturer:"NVDIA"}];let e="";return t&&(t=t.toUpperCase(),n.forEach(i=>{RegExp(i.pattern).test(t)&&(e=i.manufacturer)})),e}function na(t){return{610:"Apple","1e6d":"LG","10ac":"DELL","4dd9":"Sony","38a3":"NEC"}[t]||""}function ia(t){let n="";return t=(t||"").toLowerCase(),t.indexOf("apple")>=0?n="0x05ac":t.indexOf("nvidia")>=0?n="0x10de":t.indexOf("intel")>=0?n="0x8086":(t.indexOf("ati")>=0||t.indexOf("amd")>=0)&&(n="0x1002"),n}function ra(t){return{spdisplays_mtlgpufamilymac1:"mac1",spdisplays_mtlgpufamilymac2:"mac2",spdisplays_mtlgpufamilyapple1:"apple1",spdisplays_mtlgpufamilyapple2:"apple2",spdisplays_mtlgpufamilyapple3:"apple3",spdisplays_mtlgpufamilyapple4:"apple4",spdisplays_mtlgpufamilyapple5:"apple5",spdisplays_mtlgpufamilyapple6:"apple6",spdisplays_mtlgpufamilyapple7:"apple7",spdisplays_metalfeaturesetfamily11:"family1_v1",spdisplays_metalfeaturesetfamily12:"family1_v2",spdisplays_metalfeaturesetfamily13:"family1_v3",spdisplays_metalfeaturesetfamily14:"family1_v4",spdisplays_metalfeaturesetfamily21:"family2_v1"}[t]||""}function sa(t){function n(p){const d={controllers:[],displays:[]};try{return p.forEach(function(m){const g=(m.sppci_bus||"").indexOf("builtin")>-1?"Built-In":(m.sppci_bus||"").indexOf("pcie")>-1?"PCIe":"",y=(parseInt(m.spdisplays_vram||"",10)||0)*((m.spdisplays_vram||"").indexOf("GB")>-1?1024:1),h=(parseInt(m.spdisplays_vram_shared||"",10)||0)*((m.spdisplays_vram_shared||"").indexOf("GB")>-1?1024:1);let x=ra(m.spdisplays_metal||m.spdisplays_metalfamily||"");d.controllers.push({vendor:Zi(m.spdisplays_vendor||"")||m.spdisplays_vendor||"",model:m.sppci_model||"",bus:g,vramDynamic:g==="Built-In",vram:y||h||null,deviceId:m["spdisplays_device-id"]||"",vendorId:m["spdisplays_vendor-id"]||ia((m.spdisplays_vendor||"")+(m.sppci_model||"")),external:m.sppci_device_type==="spdisplays_egpu",cores:m.sppci_cores||null,metalVersion:x}),m.spdisplays_ndrvs&&m.spdisplays_ndrvs.length&&m.spdisplays_ndrvs.forEach(function(S){const C=S.spdisplays_connection_type||"",w=(S._spdisplays_resolution||"").split("@"),B=w[0].split("x"),E=(S._spdisplays_pixels||"").split("x"),X=S.spdisplays_depth||"",O=S["_spdisplays_display-serial-number"]||S["_spdisplays_display-serial-number2"]||null;d.displays.push({vendor:na(S["_spdisplays_display-vendor-id"]||"")||Zi(S._name||""),vendorId:S["_spdisplays_display-vendor-id"]||"",model:S._name||"",productionYear:S["_spdisplays_display-year"]||null,serial:O!=="0"?O:null,displayId:S._spdisplays_displayID||null,main:S.spdisplays_main?S.spdisplays_main==="spdisplays_yes":!1,builtin:(S.spdisplays_display_type||"").indexOf("built-in")>-1,connection:C.indexOf("_internal")>-1?"Internal":C.indexOf("_displayport")>-1?"Display Port":C.indexOf("_hdmi")>-1?"HDMI":null,sizeX:null,sizeY:null,pixelDepth:X==="CGSThirtyBitColor"?30:X==="CGSThirtytwoBitColor"?32:X==="CGSTwentyfourBitColor"?24:null,resolutionX:E.length>1?parseInt(E[0],10):null,resolutionY:E.length>1?parseInt(E[1],10):null,currentResX:B.length>1?parseInt(B[0],10):null,currentResY:B.length>1?parseInt(B[1],10):null,positionX:0,positionY:0,currentRefreshRate:w.length>1?parseInt(w[1],10):null})})}),d}catch{return d}}function e(p){let d=[],m={vendor:"",subVendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1,pciID:""},g=!1,y=[];try{y=si('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "',D.execOptsLinux).toString().split(`
`);for(let x=0;x<y.length;x++)y[x]=y[x].replace("Bus Address:","").replace("0000:","").trim();y=y.filter(function(x){return x!=null&&x})}catch{D.noop()}let h=1;return p.forEach(x=>{let S="";if(h<p.length&&p[h]&&(S=p[h],S.indexOf(":")>0&&(S=S.split(":")[1])),x.trim()!==""){if(x[0]!==" "&&x[0]!=="	"){let C=y.indexOf(x.split(" ")[0])>=0,w=x.toLowerCase().indexOf(" vga "),B=x.toLowerCase().indexOf("3d controller");if(w!==-1||B!==-1){B!==-1&&w===-1&&(w=B),(m.vendor||m.model||m.bus||m.vram!==null||m.vramDynamic)&&(d.push(m),m={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1});const E=x.split(" ")[0];/[\da-fA-F]{2}:[\da-fA-F]{2}\.[\da-fA-F]/.test(E)&&(m.busAddress=E),g=!0;let X=x.search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),O=x.substr(w,X-w).split(":");if(m.busAddress=x.substr(0,w).trim(),O.length>1&&(O[1]=O[1].trim(),O[1].toLowerCase().indexOf("corporation")>=0?(m.vendor=O[1].substr(0,O[1].toLowerCase().indexOf("corporation")+11).trim(),m.model=O[1].substr(O[1].toLowerCase().indexOf("corporation")+11,200).split("(")[0].trim(),m.bus=y.length>0&&C?"PCIe":"Onboard",m.vram=null,m.vramDynamic=!1):O[1].toLowerCase().indexOf(" inc.")>=0?((O[1].match(/]/g)||[]).length>1?(m.vendor=O[1].substr(0,O[1].toLowerCase().indexOf("]")+1).trim(),m.model=O[1].substr(O[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(m.vendor=O[1].substr(0,O[1].toLowerCase().indexOf(" inc.")+5).trim(),m.model=O[1].substr(O[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),m.bus=y.length>0&&C?"PCIe":"Onboard",m.vram=null,m.vramDynamic=!1):O[1].toLowerCase().indexOf(" ltd.")>=0&&((O[1].match(/]/g)||[]).length>1?(m.vendor=O[1].substr(0,O[1].toLowerCase().indexOf("]")+1).trim(),m.model=O[1].substr(O[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(m.vendor=O[1].substr(0,O[1].toLowerCase().indexOf(" ltd.")+5).trim(),m.model=O[1].substr(O[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())),m.model&&S.indexOf(m.model)!==-1)){const U=S.split(m.model)[0].trim();U&&(m.subVendor=U)}}else g=!1}if(g){let C=x.split(":");if(C.length>1&&C[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")!==-1&&C[1].toLowerCase().indexOf("onboard")!==-1&&(m.bus="Onboard"),C.length>1&&C[0].replace(/ +/g,"").toLowerCase().indexOf("region")!==-1&&C[1].toLowerCase().indexOf("memory")!==-1){let w=C[1].split("=");w.length>1&&(m.vram=parseInt(w[1]))}}}h++}),(m.vendor||m.model||m.bus||m.busAddress||m.vram!==null||m.vramDynamic)&&d.push(m),d}function i(p,d){const m=/\[([^\]]+)\]\s+(\w+)\s+(.*)/,g=d.reduce((y,h)=>{const x=m.exec(h.trim());return x&&(y[x[1]]||(y[x[1]]={}),y[x[1]][x[2]]=x[3]),y},{});for(let y in g){const h=g[y];if(h.CL_DEVICE_TYPE==="CL_DEVICE_TYPE_GPU"){let x;if(h.CL_DEVICE_TOPOLOGY_AMD){const S=h.CL_DEVICE_TOPOLOGY_AMD.match(/[a-zA-Z0-9]+:\d+\.\d+/);S&&(x=S[0])}else if(h.CL_DEVICE_PCI_BUS_ID_NV&&h.CL_DEVICE_PCI_SLOT_ID_NV){const S=parseInt(h.CL_DEVICE_PCI_BUS_ID_NV),C=parseInt(h.CL_DEVICE_PCI_SLOT_ID_NV);if(!isNaN(S)&&!isNaN(C)){const w=S&255,B=C>>3&255,E=C&7;x=`${w.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}.${E}`}}if(x){let S=p.find(w=>w.busAddress===x);S||(S={vendor:"",model:"",bus:"",busAddress:x,vram:null,vramDynamic:!1},p.push(S)),S.vendor=h.CL_DEVICE_VENDOR,h.CL_DEVICE_BOARD_NAME_AMD?S.model=h.CL_DEVICE_BOARD_NAME_AMD:S.model=h.CL_DEVICE_NAME;const C=parseInt(h.CL_DEVICE_GLOBAL_MEM_SIZE);isNaN(C)||(S.vram=Math.round(C/1024/1024))}}}return p}function s(){if(en)return en;if(Ji)try{const p=D.WINDIR+"\\System32\\DriverStore\\FileRepository",m=Cn.readdirSync(p).filter(g=>Cn.readdirSync([p,g].join("/")).includes("nvidia-smi.exe")).reduce((g,y)=>{const h=Cn.statSync([p,g,"nvidia-smi.exe"].join("/")),x=Cn.statSync([p,y,"nvidia-smi.exe"].join("/"));return h.ctimeMs>x.ctimeMs?g:y});m&&(en=[p,m,"nvidia-smi.exe"].join("/"))}catch{D.noop()}else wn&&(en="nvidia-smi");return en}function r(p){const d=s();if(p=p||D.execOptsWin,d){const g=d+" "+"--query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits"+(wn?"  2>/dev/null":"");wn&&(p.stdio=["pipe","pipe","ignore"]);try{const y=D.sanitizeShellString(g);return si(y,p).toString()}catch{D.noop()}}return""}function o(){function p(y){return[null,void 0].includes(y)?y:parseFloat(y)}const d=r();if(!d)return[];let g=d.split(`
`).filter(Boolean).map(y=>{const h=y.split(", ").map(x=>x.includes("N/A")?void 0:x);return h.length===16?{driverVersion:h[0],subDeviceId:h[1],name:h[2],pciBus:h[3],fanSpeed:p(h[4]),memoryTotal:p(h[5]),memoryUsed:p(h[6]),memoryFree:p(h[7]),utilizationGpu:p(h[8]),utilizationMemory:p(h[9]),temperatureGpu:p(h[10]),temperatureMemory:p(h[11]),powerDraw:p(h[12]),powerLimit:p(h[13]),clockCore:p(h[14]),clockMemory:p(h[15])}:{}});return g=g.filter(y=>"pciBus"in y),g}function a(p,d){return d.driverVersion&&(p.driverVersion=d.driverVersion),d.subDeviceId&&(p.subDeviceId=d.subDeviceId),d.name&&(p.name=d.name),d.pciBus&&(p.pciBus=d.pciBus),d.fanSpeed&&(p.fanSpeed=d.fanSpeed),d.memoryTotal&&(p.memoryTotal=d.memoryTotal,p.vram=d.memoryTotal,p.vramDynamic=!1),d.memoryUsed&&(p.memoryUsed=d.memoryUsed),d.memoryFree&&(p.memoryFree=d.memoryFree),d.utilizationGpu&&(p.utilizationGpu=d.utilizationGpu),d.utilizationMemory&&(p.utilizationMemory=d.utilizationMemory),d.temperatureGpu&&(p.temperatureGpu=d.temperatureGpu),d.temperatureMemory&&(p.temperatureMemory=d.temperatureMemory),d.powerDraw&&(p.powerDraw=d.powerDraw),d.powerLimit&&(p.powerLimit=d.powerLimit),d.clockCore&&(p.clockCore=d.clockCore),d.clockMemory&&(p.clockMemory=d.clockMemory),p}function l(p){let d={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},m=108;if(p.substr(m,6)==="000000"&&(m+=36),p.substr(m,6)==="000000"&&(m+=36),p.substr(m,6)==="000000"&&(m+=36),p.substr(m,6)==="000000"&&(m+=36),d.resolutionX=parseInt("0x0"+p.substr(m+8,1)+p.substr(m+4,2)),d.resolutionY=parseInt("0x0"+p.substr(m+14,1)+p.substr(m+10,2)),d.sizeX=parseInt("0x0"+p.substr(m+28,1)+p.substr(m+24,2)),d.sizeY=parseInt("0x0"+p.substr(m+29,1)+p.substr(m+26,2)),m=p.indexOf("000000fc00"),m>=0){let g=p.substr(m+10,26);g.indexOf("0a")!==-1&&(g=g.substr(0,g.indexOf("0a")));try{g.length>2&&(d.model=g.match(/.{1,2}/g).map(function(y){return String.fromCharCode(parseInt(y,16))}).join(""))}catch{D.noop()}}else d.model="";return d}function c(p,d){let m=[],g={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},y=!1,h=!1,x="",S=0;for(let C=1;C<p.length;C++)if(p[C].trim()!==""){if(p[C][0]!==" "&&p[C][0]!=="	"&&p[C].toLowerCase().indexOf(" connected ")!==-1){(g.model||g.main||g.builtin||g.connection||g.sizeX!==null||g.pixelDepth!==null||g.resolutionX!==null)&&(m.push(g),g={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null});let w=p[C].split(" ");g.connection=w[0],g.main=p[C].toLowerCase().indexOf(" primary ")>=0,g.builtin=w[0].toLowerCase().indexOf("edp")>=0}if(y)if(p[C].search(/\S|$/)>S)x+=p[C].toLowerCase().trim();else{let w=l(x);g.vendor=w.vendor,g.model=w.model,g.resolutionX=w.resolutionX,g.resolutionY=w.resolutionY,g.sizeX=w.sizeX,g.sizeY=w.sizeY,g.pixelDepth=d,y=!1}if(p[C].toLowerCase().indexOf("edid:")>=0&&(y=!0,S=p[C].search(/\S|$/)),p[C].toLowerCase().indexOf("*current")>=0){const w=p[C].split("(");if(w&&w.length>1&&w[0].indexOf("x")>=0){const B=w[0].trim().split("x");g.currentResX=D.toInt(B[0]),g.currentResY=D.toInt(B[1])}h=!0}if(h&&p[C].toLowerCase().indexOf("clock")>=0&&p[C].toLowerCase().indexOf("hz")>=0&&p[C].toLowerCase().indexOf("v: height")>=0){const w=p[C].split("clock");w&&w.length>1&&w[1].toLowerCase().indexOf("hz")>=0&&(g.currentRefreshRate=D.toInt(w[1])),h=!1}}return(g.model||g.main||g.builtin||g.connection||g.sizeX!==null||g.pixelDepth!==null||g.resolutionX!==null)&&m.push(g),m}return new Promise(p=>{process.nextTick(()=>{let d={controllers:[],displays:[]};if(Jo&&Nt("system_profiler -xml -detailLevel full SPDisplaysDataType",function(g,y){if(!g){try{const h=y.toString();d=n(D.plistParser(h)[0]._items)}catch{D.noop()}try{y=si('defaults read /Library/Preferences/com.apple.windowserver.plist 2>/dev/null;defaults read /Library/Preferences/com.apple.windowserver.displays.plist 2>/dev/null; echo ""',{maxBuffer:1024*2e4});const h=(y||"").toString(),x=D.plistReader(h);if(x.DisplayAnyUserSets&&x.DisplayAnyUserSets.Configs&&x.DisplayAnyUserSets.Configs[0]&&x.DisplayAnyUserSets.Configs[0].DisplayConfig){const S=x.DisplayAnyUserSets.Configs[0].DisplayConfig;let C=0;S.forEach(w=>{w.CurrentInfo&&w.CurrentInfo.OriginX!==void 0&&d.displays&&d.displays[C]&&(d.displays[C].positionX=w.CurrentInfo.OriginX),w.CurrentInfo&&w.CurrentInfo.OriginY!==void 0&&d.displays&&d.displays[C]&&(d.displays[C].positionY=w.CurrentInfo.OriginY),C++})}if(x.DisplayAnyUserSets&&x.DisplayAnyUserSets.length>0&&x.DisplayAnyUserSets[0].length>0&&x.DisplayAnyUserSets[0][0].DisplayID){const S=x.DisplayAnyUserSets[0];let C=0;S.forEach(w=>{"OriginX"in w&&d.displays&&d.displays[C]&&(d.displays[C].positionX=w.OriginX),"OriginY"in w&&d.displays&&d.displays[C]&&(d.displays[C].positionY=w.OriginY),w.Mode&&w.Mode.BitsPerPixel!==void 0&&d.displays&&d.displays[C]&&(d.displays[C].pixelDepth=w.Mode.BitsPerPixel),C++})}}catch{D.noop()}}t&&t(d),p(d)}),wn&&(D.isRaspberry()&&Nt(`fbset -s 2> /dev/null | grep 'mode "' ; vcgencmd get_mem gpu 2> /dev/null; tvservice -s 2> /dev/null; tvservice -n 2> /dev/null;`,function(y,h){let x=h.toString().split(`
`);if(x.length>3&&x[0].indexOf('mode "')>=-1&&x[2].indexOf("0x12000a")>-1){const S=x[0].replace("mode","").replace(/"/g,"").trim().split("x");S.length===2&&d.displays.push({vendor:"",model:D.getValue(x,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:parseInt(S[0],10),resolutionY:parseInt(S[1],10),currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})}x.length>=1&&h.toString().indexOf("gpu=")>=-1&&d.controllers.push({vendor:"Broadcom",model:D.getRpiGpu(),bus:"",vram:D.getValue(x,"gpu","=").replace("M",""),vramDynamic:!0})}),Nt("lspci -vvv  2>/dev/null",function(g,y){if(!g){let x=y.toString().split(`
`);if(d.controllers.length===0){d.controllers=e(x);const S=o();d.controllers=d.controllers.map(C=>a(C,S.find(w=>w.pciBus.toLowerCase().endsWith(C.busAddress.toLowerCase()))||{}))}}Nt("clinfo --raw",function(x,S){if(!x){let w=S.toString().split(`
`);d.controllers=i(d.controllers,w)}Nt("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",function(w,B){let E=0;if(!w){let O=B.toString().split(`
`);E=parseInt(O[0])||0}Nt("xrandr --verbose 2>/dev/null",function(O,U){if(!O){let k=U.toString().split(`
`);d.displays=c(k,E)}t&&t(d),p(d)})})})})),(Qo||Zo||ea)&&(t&&t(null),p(null)),ta&&(t&&t(null),p(null)),Ji)try{const m=[];m.push(D.powerShell("Get-CimInstance win32_VideoController | fl *")),m.push(D.powerShell('gp "HKLM:\\SYSTEM\\ControlSet001\\Control\\Class\\{4d36e968-e325-11ce-bfc1-08002be10318}\\*" -ErrorAction SilentlyContinue | where MatchingDeviceId $null -NE | select MatchingDeviceId,HardwareInformation.qwMemorySize | fl')),m.push(D.powerShell("Get-CimInstance win32_desktopmonitor | fl *")),m.push(D.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),m.push(D.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),m.push(D.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),m.push(D.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}'));const g=o();Promise.all(m).then(y=>{let h=y[0].replace(/\r/g,"").split(/\n\s*\n/),x=y[1].replace(/\r/g,"").split(/\n\s*\n/);d.controllers=u(h,x),d.controllers=d.controllers.map(O=>O.vendor.toLowerCase()==="nvidia"?a(O,g.find(U=>{let k=(O.subDeviceId||"").toLowerCase();const ne=U.subDeviceId.split("x");let se=ne.length>1?ne[1].toLowerCase():ne[0].toLowerCase();const le=Math.abs(k.length-se.length);if(k.length>se.length)for(let q=0;q<le;q++)se="0"+se;else if(k.length<se.length)for(let q=0;q<le;q++)k="0"+k;return k===se})||{}):O);let S=y[2].replace(/\r/g,"").split(/\n\s*\n/);S[0].trim()===""&&S.shift(),S.length&&S[S.length-1].trim()===""&&S.pop();let C=y[3].replace(/\r/g,"").split("Active ");C.shift();let w=y[4].replace(/\r/g,"").split("BitsPerPixel ");w.shift();let B=y[5].replace(/\r/g,"").split(/\n\s*\n/);B.shift();const E=y[6].replace(/\r/g,"").split(/\n/);let X=[];E.forEach(O=>{const U=O.split("|");U.length===5&&X.push({vendor:U[0],code:U[1],model:U[2],serial:U[3],instanceId:U[4]})}),d.displays=f(w,C,S,B,X),d.displays.length===1&&(tn&&(d.displays[0].resolutionX=tn,d.displays[0].currentResX||(d.displays[0].currentResX=tn)),nn&&(d.displays[0].resolutionY=nn,d.displays[0].currentResY===0&&(d.displays[0].currentResY=nn)),Ln&&(d.displays[0].pixelDepth=Ln)),d.displays=d.displays.map(O=>(In&&!O.currentRefreshRate&&(O.currentRefreshRate=In),O)),t&&t(d),p(d)}).catch(()=>{t&&t(d),p(d)})}catch{t&&t(d),p(d)}})});function u(p,d){const m={};for(const y in d)if({}.hasOwnProperty.call(d,y)&&d[y].trim()!==""){const h=d[y].trim().split(`
`),x=D.getValue(h,"MatchingDeviceId").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);if(x){const S=parseInt(D.getValue(h,"HardwareInformation.qwMemorySize"));if(!isNaN(S)){let C=x[1].toUpperCase()+"&"+x[2].toUpperCase();x[3]&&(C+="&"+x[3].toUpperCase()),x[4]&&(C+="&"+x[4].toUpperCase()),m[C]=S}}}let g=[];for(let y in p)if({}.hasOwnProperty.call(p,y)&&p[y].trim()!==""){let h=p[y].trim().split(`
`),x=D.getValue(h,"PNPDeviceID",":").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i),S=null,C=null;if(x){if(S=x[3]||"",S&&(S=S.split("_")[1]),C==null&&x[3]&&x[4]){const w=x[1].toUpperCase()+"&"+x[2].toUpperCase()+"&"+x[3].toUpperCase()+"&"+x[4].toUpperCase();({}).hasOwnProperty.call(m,w)&&(C=m[w])}if(C==null&&x[3]){const w=x[1].toUpperCase()+"&"+x[2].toUpperCase()+"&"+x[3].toUpperCase();({}).hasOwnProperty.call(m,w)&&(C=m[w])}if(C==null&&x[4]){const w=x[1].toUpperCase()+"&"+x[2].toUpperCase()+"&"+x[4].toUpperCase();({}).hasOwnProperty.call(m,w)&&(C=m[w])}if(C==null){const w=x[1].toUpperCase()+"&"+x[2].toUpperCase();({}).hasOwnProperty.call(m,w)&&(C=m[w])}}g.push({vendor:D.getValue(h,"AdapterCompatibility",":"),model:D.getValue(h,"name",":"),bus:D.getValue(h,"PNPDeviceID",":").startsWith("PCI")?"PCI":"",vram:(C??D.toInt(D.getValue(h,"AdapterRAM",":")))/1024/1024,vramDynamic:D.getValue(h,"VideoMemoryType",":")==="2",subDeviceId:S}),tn=D.toInt(D.getValue(h,"CurrentHorizontalResolution",":"))||tn,nn=D.toInt(D.getValue(h,"CurrentVerticalResolution",":"))||nn,In=D.toInt(D.getValue(h,"CurrentRefreshRate",":"))||In,Ln=D.toInt(D.getValue(h,"CurrentBitsPerPixel",":"))||Ln}return g}function f(p,d,m,g,y){let h=[],x="",S="",C="",w=0,B=0;if(m&&m.length){let E=m[0].split(`
`);x=D.getValue(E,"MonitorManufacturer",":"),S=D.getValue(E,"Name",":"),C=D.getValue(E,"PNPDeviceID",":").replace(/&amp;/g,"&").toLowerCase(),w=D.toInt(D.getValue(E,"ScreenWidth",":")),B=D.toInt(D.getValue(E,"ScreenHeight",":"))}for(let E=0;E<p.length;E++)if(p[E].trim()!==""){p[E]="BitsPerPixel "+p[E],d[E]="Active "+d[E],(g.length===0||g[E]===void 0)&&(g[E]="Unknown");let X=p[E].split(`
`),O=d[E].split(`
`),U=g[E].split(`
`);const k=D.getValue(X,"BitsPerPixel"),ne=D.getValue(X,"Bounds").replace("{","").replace("}","").replace(/=/g,":").split(","),se=D.getValue(X,"Primary"),le=D.getValue(O,"MaxHorizontalImageSize"),q=D.getValue(O,"MaxVerticalImageSize"),pe=D.getValue(O,"InstanceName").toLowerCase(),H=D.getValue(U,"VideoOutputTechnology"),Z=D.getValue(X,"DeviceName");let z="",G="";y.forEach(V=>{V.instanceId.toLowerCase().startsWith(pe)&&x.startsWith("(")&&S.startsWith("PnP")&&(z=V.vendor,G=V.model)}),h.push({vendor:pe.startsWith(C)&&z===""?x:z,model:pe.startsWith(C)&&G===""?S:G,deviceName:Z,main:se.toLowerCase()==="true",builtin:H==="2147483648",connection:H&&Qi[H]?Qi[H]:"",resolutionX:D.toInt(D.getValue(ne,"Width",":")),resolutionY:D.toInt(D.getValue(ne,"Height",":")),sizeX:le?parseInt(le,10):null,sizeY:q?parseInt(q,10):null,pixelDepth:k,currentResX:D.toInt(D.getValue(ne,"Width",":")),currentResY:D.toInt(D.getValue(ne,"Height",":")),positionX:D.toInt(D.getValue(ne,"X",":")),positionY:D.toInt(D.getValue(ne,"Y",":"))})}return p.length===0&&h.push({vendor:x,model:S,main:!0,sizeX:null,sizeY:null,resolutionX:w,resolutionY:B,pixelDepth:null,currentResX:w,currentResY:B,positionX:0,positionY:0}),h}}Jr.graphics=sa;var Tt={};const _=T,er=Be,de=te.exec,Ye=te.execSync,oa=_.promisifySave(te.exec);let it=process.platform;const _e=it==="linux"||it==="android",Je=it==="darwin",Jt=it==="win32",Oe=it==="freebsd",Pe=it==="openbsd",ve=it==="netbsd",Qt=it==="sunos";let ee={},W={};function aa(t,n){_.isFunction(t)&&(n=t,t="");let e=[],i=[];function s(l){if(!l.startsWith("/"))return"NFS";const c=l.split("/"),u=c[c.length-1],f=e.filter(p=>p.indexOf(u)>=0);return f.length===1&&f[0].indexOf("APFS")>=0?"APFS":"HFS"}function r(l){const c=["rootfs","unionfs","squashfs","cramfs","initrd","initramfs","devtmpfs","tmpfs","udev","devfs","specfs","type","appimaged"];let u=!1;return c.forEach(f=>{l.toLowerCase().indexOf(f)>=0&&(u=!0)}),u}function o(l){let c=l.toString().split(`
`);if(c.shift(),l.toString().toLowerCase().indexOf("filesystem")){let u=0;for(let f=0;f<c.length;f++)c[f]&&c[f].toLowerCase().startsWith("filesystem")&&(u=f);for(let f=0;f<u;f++)c.shift()}return c}function a(l){let c=[];return l.forEach(function(u){if(u!==""&&(u=u.replace(/ +/g," ").split(" "),u&&(u[0].startsWith("/")||u[6]&&u[6]==="/"||u[0].indexOf("/")>0||u[0].indexOf(":")===1||!Je&&!r(u[1])))){const f=u[0],p=_e||Oe||Pe||ve?u[1]:s(u[0]),d=parseInt(_e||Oe||Pe||ve?u[2]:u[1])*1024,m=parseInt(_e||Oe||Pe||ve?u[3]:u[2])*1024,g=parseInt(_e||Oe||Pe||ve?u[4]:u[3])*1024,y=parseFloat((100*(m/(m+g))).toFixed(2));let h=i&&Object.keys(i).length>0?i[f]||!1:null;u.splice(0,_e||Oe||Pe||ve?6:5);const x=u.join(" ");c.find(S=>S.fs===f&&S.type===p)||c.push({fs:f,type:p,size:d,used:m,available:g,use:y,mount:x,rw:h})}}),c}return new Promise(l=>{process.nextTick(()=>{let c=[];if(_e||Oe||Pe||ve||Je){let u="";if(e=[],i={},Je){u="df -kP";try{e=Ye("diskutil list").toString().split(`
`).filter(f=>!f.startsWith("/")&&f.indexOf(":")>0),Ye("mount").toString().split(`
`).filter(f=>f.startsWith("/")).forEach(f=>{i[f.split(" ")[0]]=f.toLowerCase().indexOf("read-only")===-1})}catch{_.noop()}}if(_e)try{u="export LC_ALL=C; df -lkPTx squashfs; unset LC_ALL",Ye("cat /proc/mounts 2>/dev/null",_.execOptsLinux).toString().split(`
`).filter(f=>f.startsWith("/")).forEach(f=>{i[f.split(" ")[0]]=i[f.split(" ")[0]]||!1,f.toLowerCase().indexOf("/snap/")===-1&&(i[f.split(" ")[0]]=f.toLowerCase().indexOf("rw,")>=0||f.toLowerCase().indexOf(" rw ")>=0)})}catch{_.noop()}if(Oe||Pe||ve)try{u="df -lkPT",Ye("mount").toString().split(`
`).forEach(f=>{i[f.split(" ")[0]]=f.toLowerCase().indexOf("read-only")===-1})}catch{_.noop()}de(u,{maxBuffer:1024*1024},function(f,p){let d=o(p);c=a(d),t&&(c=c.filter(m=>m.fs.toLowerCase().indexOf(t.toLowerCase())>=0||m.mount.toLowerCase().indexOf(t.toLowerCase())>=0)),(!f||c.length)&&p.toString().trim()!==""?(n&&n(c),l(c)):de("df -kPT",{maxBuffer:1024*1024},function(m,g){if(!m){let y=o(g);c=a(y)}n&&n(c),l(c)})})}if(Qt&&(n&&n(c),l(c)),Jt)try{const u=`Get-WmiObject Win32_logicaldisk | select Access,Caption,FileSystem,FreeSpace,Size ${t?"| where -property Caption -eq "+t:""} | fl`;_.powerShell(u).then((f,p)=>{p||f.toString().split(/\n\s*\n/).forEach(function(m){let g=m.split(`\r
`);const y=_.toInt(_.getValue(g,"size",":")),h=_.toInt(_.getValue(g,"freespace",":")),x=_.getValue(g,"caption",":"),S=_.getValue(g,"access",":"),C=S?_.toInt(S)!==1:null;y&&c.push({fs:x,type:_.getValue(g,"filesystem",":"),size:y,used:y-h,available:h,use:parseFloat((100*(y-h)/y).toFixed(2)),mount:x,rw:C})}),n&&n(c),l(c)})}catch{n&&n(c),l(c)}})})}Tt.fsSize=aa;function la(t){return new Promise(n=>{process.nextTick(()=>{const e={max:null,allocated:null,available:null};(Oe||Pe||ve||Je)&&de("sysctl -i kern.maxfiles kern.num_files kern.open_files",{maxBuffer:1024*1024},function(s,r){if(!s){let o=r.toString().split(`
`);e.max=parseInt(_.getValue(o,"kern.maxfiles",":"),10),e.allocated=parseInt(_.getValue(o,"kern.num_files",":"),10)||parseInt(_.getValue(o,"kern.open_files",":"),10),e.available=e.max-e.allocated}t&&t(e),n(e)}),_e&&er.readFile("/proc/sys/fs/file-nr",function(i,s){if(i)er.readFile("/proc/sys/fs/file-max",function(r,o){if(!r){let a=o.toString().split(`
`);a[0]&&(e.max=parseInt(a[0],10))}t&&t(e),n(e)});else{let r=s.toString().split(`
`);if(r[0]){const o=r[0].replace(/\s+/g," ").split(" ");o.length===3&&(e.allocated=parseInt(o[0],10),e.available=parseInt(o[1],10),e.max=parseInt(o[2],10),e.available||(e.available=e.max-e.allocated))}t&&t(e),n(e)}}),Qt&&(t&&t(null),n(null)),Jt&&(t&&t(null),n(null))})})}Tt.fsOpenFiles=la;function ca(t){return parseInt(t.substr(t.indexOf(" (")+2,t.indexOf(" Bytes)")-10))}function ua(t){let n=[],e=0;return t.forEach(i=>{if(i.length>0)if(i[0]==="*")e++;else{let s=i.split(":");s.length>1&&(n[e]||(n[e]={name:"",identifier:"",type:"disk",fsType:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:"",group:"",device:""}),s[0]=s[0].trim().toUpperCase().replace(/ +/g,""),s[1]=s[1].trim(),s[0]==="DEVICEIDENTIFIER"&&(n[e].identifier=s[1]),s[0]==="DEVICENODE"&&(n[e].name=s[1]),s[0]==="VOLUMENAME"&&s[1].indexOf("Not applicable")===-1&&(n[e].label=s[1]),s[0]==="PROTOCOL"&&(n[e].protocol=s[1]),s[0]==="DISKSIZE"&&(n[e].size=ca(s[1])),s[0]==="FILESYSTEMPERSONALITY"&&(n[e].fsType=s[1]),s[0]==="MOUNTPOINT"&&(n[e].mount=s[1]),s[0]==="VOLUMEUUID"&&(n[e].uuid=s[1]),s[0]==="READ-ONLYMEDIA"&&s[1]==="Yes"&&(n[e].physical="CD/DVD"),s[0]==="SOLIDSTATE"&&s[1]==="Yes"&&(n[e].physical="SSD"),s[0]==="VIRTUAL"&&(n[e].type="virtual"),s[0]==="REMOVABLEMEDIA"&&(n[e].removable=s[1]==="Removable"),s[0]==="PARTITIONTYPE"&&(n[e].type="part"),s[0]==="DEVICE/MEDIANAME"&&(n[e].model=s[1]))}}),n}function Si(t){let n=[];return t.filter(e=>e!=="").forEach(e=>{try{e=decodeURIComponent(e.replace(/\\x/g,"%")),e=e.replace(/\\/g,"\\\\");let i=JSON.parse(e);n.push({name:i.name,type:i.type,fsType:i.fsType,mount:i.mountpoint,size:parseInt(i.size),physical:i.type==="disk"?i.rota==="0"?"SSD":"HDD":i.type==="rom"?"CD/DVD":"",uuid:i.uuid,label:i.label,model:(i.model||"").trim(),serial:i.serial,removable:i.rm==="1",protocol:i.tran,group:i.group||""})}catch{_.noop()}}),n=_.unique(n),n=_.sortByKey(n,["type","name"]),n}function pa(t){const n=_.getValue(t,"md_level","="),e=_.getValue(t,"md_name","="),i=_.getValue(t,"md_uuid","="),s=[];return t.forEach(r=>{r.toLowerCase().startsWith("md_device_dev")&&r.toLowerCase().indexOf("/dev/")>0&&s.push(r.split("/dev/")[1])}),{raid:n,label:e,uuid:i,members:s}}function tr(t){let n=t;try{t.forEach(e=>{if(e.type.startsWith("raid")){const i=Ye(`mdadm --export --detail /dev/${e.name}`,_.execOptsLinux).toString().split(`
`),s=pa(i);e.label=s.label,e.uuid=s.uuid,s.members&&s.members.length&&s.raid===e.type&&(n=n.map(r=>(r.fsType==="linux_raid_member"&&s.members.indexOf(r.name)>=0&&(r.group=e.name),r)))}})}catch{_.noop()}return n}function fa(t){const n=[];return t.forEach(e=>{e.type.startsWith("disk")&&n.push(e.name)}),n}function da(t){let n=t;try{const e=fa(t);n=n.map(i=>((i.type.startsWith("part")||i.type.startsWith("disk"))&&e.forEach(s=>{i.name.startsWith(s)&&(i.device="/dev/"+s)}),i))}catch{_.noop()}return n}function ma(t){const n=[];return t.forEach(e=>{if(e.type.startsWith("disk")&&n.push({name:e.name,model:e.model,device:e.name}),e.type.startsWith("virtual")){let i="";n.forEach(s=>{s.model===e.model&&(i=s.device)}),i&&n.push({name:e.name,model:e.model,device:i})}}),n}function ga(t){let n=t;try{const e=ma(t);n=n.map(i=>((i.type.startsWith("part")||i.type.startsWith("disk")||i.type.startsWith("virtual"))&&e.forEach(s=>{i.name.startsWith(s.name)&&(i.device=s.device)}),i))}catch{_.noop()}return n}function ha(t){const n=[];return t.forEach(e=>{const i=e.split(`\r
`),s=_.getValue(i,"DeviceID",":");let r=e.split("@{DeviceID=");r.length>1&&(r=r.slice(1),r.forEach(o=>{n.push({name:o.split(";")[0].toUpperCase(),device:s})}))}),n}function xa(t,n){const e=ha(n);return t.map(i=>{const s=e.filter(r=>r.name===i.name.toUpperCase());return s.length>0&&(i.device=s[0].device),i}),t}function Ci(t){return t.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fsType":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,`}
`)}function ya(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(_e&&de("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},function(s,r){if(s)de("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},function(a,l){if(!a){let c=Ci(l).split(`
`);e=Si(c),e=tr(e)}t&&t(e),n(e)}).on("error",function(){t&&t(e),n(e)});else{let o=Ci(r).split(`
`);e=Si(o),e=tr(e),e=da(e),t&&t(e),n(e)}}).on("error",function(){t&&t(e),n(e)}),Je&&de("diskutil info -all",{maxBuffer:1048576},function(s,r){if(!s){let o=r.toString().split(`
`);e=ua(o),e=ga(e)}t&&t(e),n(e)}).on("error",function(){t&&t(e),n(e)}),Qt&&(t&&t(e),n(e)),Jt){let i=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{const s=[];s.push(_.powerShell("Get-CimInstance -ClassName Win32_LogicalDisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl")),s.push(_.powerShell("Get-WmiObject -Class Win32_diskdrive | Select-Object -Property PNPDeviceId,DeviceID, Model, Size, @{L='Partitions'; E={$_.GetRelated('Win32_DiskPartition').GetRelated('Win32_LogicalDisk') | Select-Object -Property DeviceID, VolumeName, Size, FreeSpace}} | fl")),_.promiseAll(s).then(r=>{let o=r.results[0].toString().split(/\n\s*\n/),a=r.results[1].toString().split(/\n\s*\n/);o.forEach(function(l){let c=l.split(`\r
`),u=_.getValue(c,"drivetype",":");u&&e.push({name:_.getValue(c,"name",":"),identifier:_.getValue(c,"caption",":"),type:"disk",fsType:_.getValue(c,"filesystem",":").toLowerCase(),mount:_.getValue(c,"caption",":"),size:_.getValue(c,"size",":"),physical:u>=0&&u<=6?i[u]:i[0],uuid:_.getValue(c,"volumeserialnumber",":"),label:_.getValue(c,"volumename",":"),model:"",serial:_.getValue(c,"volumeserialnumber",":"),removable:u==="2",protocol:"",group:"",device:""})}),e=xa(e,a),t&&t(e),n(e)})}catch{t&&t(e),n(e)}}(Oe||Pe||ve)&&(t&&t(null),n(null))})})}Tt.blockDevices=ya;function nr(t,n){let e={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0};return ee&&ee.ms?(e.rx=t,e.wx=n,e.tx=e.rx+e.wx,e.ms=Date.now()-ee.ms,e.rx_sec=(e.rx-ee.bytes_read)/(e.ms/1e3),e.wx_sec=(e.wx-ee.bytes_write)/(e.ms/1e3),e.tx_sec=e.rx_sec+e.wx_sec,ee.rx_sec=e.rx_sec,ee.wx_sec=e.wx_sec,ee.tx_sec=e.tx_sec,ee.bytes_read=e.rx,ee.bytes_write=e.wx,ee.bytes_overall=e.rx+e.wx,ee.ms=Date.now(),ee.last_ms=e.ms):(e.rx=t,e.wx=n,e.tx=e.rx+e.wx,ee.rx_sec=null,ee.wx_sec=null,ee.tx_sec=null,ee.bytes_read=e.rx,ee.bytes_write=e.wx,ee.bytes_overall=e.rx+e.wx,ee.ms=Date.now(),ee.last_ms=0),e}function Sa(t){return new Promise(n=>{process.nextTick(()=>{if(Jt||Oe||Pe||ve||Qt)return n(null);let e={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0},i=0,s=0;ee&&!ee.ms||ee&&ee.ms&&Date.now()-ee.ms>=500?(_e&&de("lsblk -r 2>/dev/null | grep /",{maxBuffer:1048576},function(o,a){if(o)t&&t(e),n(e);else{let l=a.toString().split(`
`),c=[];l.forEach(function(p){p!==""&&(p=p.trim().split(" "),c.indexOf(p[0])===-1&&c.push(p[0]))});let u=c.join("|");de('cat /proc/diskstats | egrep "'+u+'"',{maxBuffer:1024*1024},function(p,d){p||(d.toString().split(`
`).forEach(function(g){g=g.trim(),g!==""&&(g=g.replace(/ +/g," ").split(" "),i+=parseInt(g[5])*512,s+=parseInt(g[9])*512)}),e=nr(i,s)),t&&t(e),n(e)}).on("error",function(){t&&t(e),n(e)})}}).on("error",function(){t&&t(e),n(e)}),Je&&de(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1048576},function(o,a){o||(a.toString().split(`
`).forEach(function(c){c=c.trim(),c!==""&&(c=c.split(","),i+=parseInt(c[2]),s+=parseInt(c[9]))}),e=nr(i,s)),t&&t(e),n(e)}).on("error",function(){t&&t(e),n(e)})):(e.ms=ee.last_ms,e.rx=ee.bytes_read,e.wx=ee.bytes_write,e.tx=ee.bytes_read+ee.bytes_write,e.rx_sec=ee.rx_sec,e.wx_sec=ee.wx_sec,e.tx_sec=ee.tx_sec,t&&t(e),n(e))})})}Tt.fsStats=Sa;function ir(t,n,e,i,s){let r={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0};return W&&W.ms?(r.rIO=t,r.wIO=n,r.tIO=t+n,r.ms=Date.now()-W.ms,r.rIO_sec=(r.rIO-W.rIO)/(r.ms/1e3),r.wIO_sec=(r.wIO-W.wIO)/(r.ms/1e3),r.tIO_sec=r.rIO_sec+r.wIO_sec,r.rWaitTime=e,r.wWaitTime=i,r.tWaitTime=s,r.rWaitPercent=(r.rWaitTime-W.rWaitTime)*100/r.ms,r.wWaitPercent=(r.wWaitTime-W.wWaitTime)*100/r.ms,r.tWaitPercent=(r.tWaitTime-W.tWaitTime)*100/r.ms,W.rIO=t,W.wIO=n,W.rIO_sec=r.rIO_sec,W.wIO_sec=r.wIO_sec,W.tIO_sec=r.tIO_sec,W.rWaitTime=e,W.wWaitTime=i,W.tWaitTime=s,W.rWaitPercent=r.rWaitPercent,W.wWaitPercent=r.wWaitPercent,W.tWaitPercent=r.tWaitPercent,W.last_ms=r.ms,W.ms=Date.now()):(r.rIO=t,r.wIO=n,r.tIO=t+n,r.rWaitTime=e,r.wWaitTime=i,r.tWaitTime=s,W.rIO=t,W.wIO=n,W.rIO_sec=null,W.wIO_sec=null,W.tIO_sec=null,W.rWaitTime=e,W.wWaitTime=i,W.tWaitTime=s,W.rWaitPercent=null,W.wWaitPercent=null,W.tWaitPercent=null,W.last_ms=0,W.ms=Date.now()),r}function Ca(t){return new Promise(n=>{process.nextTick(()=>{if(Jt||Qt)return n(null);let e={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0},i=0,s=0,r=0,o=0,a=0;W&&!W.ms||W&&W.ms&&Date.now()-W.ms>=500?((_e||Oe||Pe||ve)&&de('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[│└─├]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',{maxBuffer:1024*1024},function(c,u){c?(t&&t(e),n(e)):(u.split(`
`).forEach(function(p){if(!p)return;let d=p.split(";");i+=parseInt(d[0]),s+=parseInt(d[4]),r+=parseInt(d[3]),o+=parseInt(d[7]),a+=parseInt(d[10])}),e=ir(i,s,r,o,a),t&&t(e),n(e))}),Je&&de(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1024*1024},function(l,c){l||(c.toString().split(`
`).forEach(function(f){f=f.trim(),f!==""&&(f=f.split(","),i+=parseInt(f[10]),s+=parseInt(f[0]))}),e=ir(i,s,r,o,a)),t&&t(e),n(e)})):(e.rIO=W.rIO,e.wIO=W.wIO,e.tIO=W.rIO+W.wIO,e.ms=W.last_ms,e.rIO_sec=W.rIO_sec,e.wIO_sec=W.wIO_sec,e.tIO_sec=W.tIO_sec,e.rWaitTime=W.rWaitTime,e.wWaitTime=W.wWaitTime,e.tWaitTime=W.tWaitTime,e.rWaitPercent=W.rWaitPercent,e.wWaitPercent=W.wWaitPercent,e.tWaitPercent=W.tWaitPercent,t&&t(e),n(e))})})}Tt.disksIO=Ca;function wa(t){function n(e){const i=[{pattern:"WESTERN.*",manufacturer:"Western Digital"},{pattern:"^WDC.*",manufacturer:"Western Digital"},{pattern:"WD.*",manufacturer:"Western Digital"},{pattern:"TOSHIBA.*",manufacturer:"Toshiba"},{pattern:"HITACHI.*",manufacturer:"Hitachi"},{pattern:"^IC.*",manufacturer:"Hitachi"},{pattern:"^HTS.*",manufacturer:"Hitachi"},{pattern:"SANDISK.*",manufacturer:"SanDisk"},{pattern:"KINGSTON.*",manufacturer:"Kingston Technology"},{pattern:"^SONY.*",manufacturer:"Sony"},{pattern:"TRANSCEND.*",manufacturer:"Transcend"},{pattern:"SAMSUNG.*",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).*",manufacturer:"Seagate"},{pattern:"^STI\\ .*",manufacturer:"SimpleTech"},{pattern:"^D...-.*",manufacturer:"IBM"},{pattern:"^IBM.*",manufacturer:"IBM"},{pattern:"^FUJITSU.*",manufacturer:"Fujitsu"},{pattern:"^MP.*",manufacturer:"Fujitsu"},{pattern:"^MK.*",manufacturer:"Toshiba"},{pattern:"MAXTO.*",manufacturer:"Maxtor"},{pattern:"PIONEER.*",manufacturer:"Pioneer"},{pattern:"PHILIPS.*",manufacturer:"Philips"},{pattern:"QUANTUM.*",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.*",manufacturer:"Quantum Technology"},{pattern:"^VBOX.*",manufacturer:"VirtualBox"},{pattern:"CORSAIR.*",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.*",manufacturer:"Crucial"},{pattern:"ECM.*",manufacturer:"ECM"},{pattern:"INTEL.*",manufacturer:"INTEL"},{pattern:"EVO.*",manufacturer:"Samsung"},{pattern:"APPLE.*",manufacturer:"Apple"}];let s="";return e&&(e=e.toUpperCase(),i.forEach(r=>{RegExp(r.pattern).test(e)&&(s=r.manufacturer)})),s}return new Promise(e=>{process.nextTick(()=>{const i=o=>{for(let a=0;a<o.length;a++)delete o[a].BSDName;t&&t(o),e(o)};let s=[],r="";if(_e){let o="";de("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",{maxBuffer:1024*1024},function(a,l){if(!a)try{const c=l.toString().trim();let u=[];try{const f=JSON.parse(c);f&&{}.hasOwnProperty.call(f,"blockdevices")&&(u=f.blockdevices.filter(p=>p.type==="disk"&&p.size>0&&(p.model!==null||p.mountpoint===null&&p.label===null&&p.fstype===null&&p.parttype===null&&p.path&&p.path.indexOf("/ram")!==0&&p.path.indexOf("/loop")!==0&&p["disc-max"]&&p["disc-max"]!==0)))}catch{try{const p=Ye("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL",_.execOptsLinux).toString();let d=Ci(p).split(`
`);u=Si(d).filter(g=>g.type==="disk"&&g.size>0&&(g.model!==null&&g.model!==""||g.mount===""&&g.label===""&&g.fsType===""))}catch{_.noop()}}u.forEach(f=>{let p="";const d="/dev/"+f.name,m=f.name;try{p=Ye("cat /sys/block/"+m+"/queue/rotational 2>/dev/null",_.execOptsLinux).toString().split(`
`)[0]}catch{_.noop()}let g=f.tran?f.tran.toUpperCase().trim():"";g==="NVME"&&(p="2",g="PCIe"),s.push({device:d,type:p==="0"?"SSD":p==="1"?"HD":p==="2"?"NVMe":f.model&&f.model.indexOf("SSD")>-1?"SSD":f.model&&f.model.indexOf("NVM")>-1?"NVMe":"HD",name:f.model||"",vendor:n(f.model)||(f.vendor?f.vendor.trim():""),size:f.size||0,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:f.rev?f.rev.trim():"",serialNum:f.serial?f.serial.trim():"",interfaceType:g,smartStatus:"unknown",temperature:null,BSDName:d}),r+=`printf "
${d}|"; smartctl -H ${d} | grep overall;`,o+=`${o?'printf ",";':""}smartctl -a -j ${d};`})}catch{_.noop()}o?de(o,{maxBuffer:1024*1024},function(c,u){try{JSON.parse(`[${u}]`).forEach(p=>{const d=p.smartctl.argv[p.smartctl.argv.length-1];for(let m=0;m<s.length;m++)s[m].BSDName===d&&(s[m].smartStatus=p.smart_status.passed?"Ok":p.smart_status.passed===!1?"Predicted Failure":"unknown",p.temperature&&p.temperature.current&&(s[m].temperature=p.temperature.current),s[m].smartData=p)}),i(s)}catch{r?(r=r+`printf "
"`,de(r,{maxBuffer:1024*1024},function(p,d){d.toString().split(`
`).forEach(g=>{if(g){let y=g.split("|");if(y.length===2){let h=y[0];y[1]=y[1].trim();let x=y[1].split(":");if(x.length===2){x[1]=x[1].trim();let S=x[1].toLowerCase();for(let C=0;C<s.length;C++)s[C].BSDName===h&&(s[C].smartStatus=S==="passed"?"Ok":S==="failed!"?"Predicted Failure":"unknown")}}}}),i(s)})):i(s)}}):i(s)})}if((Oe||Pe||ve)&&(t&&t(s),e(s)),Qt&&(t&&t(s),e(s)),Je&&de("system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType",{maxBuffer:1024*1024},function(o,a){if(o)i(s);else{let l=a.toString().split(`
`),c=[],u=[],f=[],p="SATA";l.forEach(d=>{d==="NVMExpress:"?p="NVMe":d==="USB:"?p="USB":d==="SATA/SATA Express:"?p="SATA":p==="SATA"?c.push(d):p==="NVMe"?u.push(d):p==="USB"&&f.push(d)});try{let d=c.join(`
`).split(" Physical Interconnect: ");d.shift(),d.forEach(function(m){m="InterfaceType: "+m;let g=m.split(`
`);const y=_.getValue(g,"Medium Type",":",!0).trim(),h=_.getValue(g,"capacity",":",!0).trim(),x=_.getValue(g,"BSD Name",":",!0).trim();if(h){let S=0;if(h.indexOf("(")>=0&&(S=parseInt(h.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),S||(S=parseInt(h)),S){const C=_.getValue(g,"S.M.A.R.T. status",":",!0).trim().toLowerCase();s.push({device:x,type:y.startsWith("Solid")?"SSD":"HD",name:_.getValue(g,"Model",":",!0).trim(),vendor:n(_.getValue(g,"Model",":",!0).trim())||_.getValue(g,"Manufacturer",":",!0),size:S,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:_.getValue(g,"Revision",":",!0).trim(),serialNum:_.getValue(g,"Serial Number",":",!0).trim(),interfaceType:_.getValue(g,"InterfaceType",":",!0).trim(),smartStatus:C==="verified"?"OK":C||"unknown",temperature:null,BSDName:x}),r=r+`printf "
`+x+'|"; diskutil info /dev/'+x+" | grep SMART;"}}})}catch{_.noop()}try{let d=u.join(`
`).split(`

          Capacity:`);d.shift(),d.forEach(function(m){m="!Capacity: "+m;let g=m.split(`
`);const y=_.getValue(g,"link width",":",!0).trim(),h=_.getValue(g,"!capacity",":",!0).trim(),x=_.getValue(g,"BSD Name",":",!0).trim();if(h){let S=0;if(h.indexOf("(")>=0&&(S=parseInt(h.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),S||(S=parseInt(h)),S){const C=_.getValue(g,"S.M.A.R.T. status",":",!0).trim().toLowerCase();s.push({device:x,type:"NVMe",name:_.getValue(g,"Model",":",!0).trim(),vendor:n(_.getValue(g,"Model",":",!0).trim()),size:S,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:_.getValue(g,"Revision",":",!0).trim(),serialNum:_.getValue(g,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+y).trim(),smartStatus:C==="verified"?"OK":C||"unknown",temperature:null,BSDName:x}),r=r+`printf "
`+x+'|"; diskutil info /dev/'+x+" | grep SMART;"}}})}catch{_.noop()}try{let d=f.join(`
`).replaceAll(`Media:
 `,"Model:").split(`

          Product ID:`);d.shift(),d.forEach(function(m){let g=m.split(`
`);const y=_.getValue(g,"Capacity",":",!0).trim(),h=_.getValue(g,"BSD Name",":",!0).trim();if(y){let x=0;if(y.indexOf("(")>=0&&(x=parseInt(y.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),x||(x=parseInt(y)),x){const S=_.getValue(g,"S.M.A.R.T. status",":",!0).trim().toLowerCase();s.push({device:h,type:"USB",name:_.getValue(g,"Model",":",!0).trim().replaceAll(":",""),vendor:n(_.getValue(g,"Model",":",!0).trim()),size:x,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:_.getValue(g,"Revision",":",!0).trim(),serialNum:_.getValue(g,"Serial Number",":",!0).trim(),interfaceType:"USB",smartStatus:S==="verified"?"OK":S||"unknown",temperature:null,BSDName:h}),r=r+`printf "
`+h+'|"; diskutil info /dev/'+h+" | grep SMART;"}}})}catch{_.noop()}r?(r=r+`printf "
"`,de(r,{maxBuffer:1024*1024},function(d,m){m.toString().split(`
`).forEach(y=>{if(y){let h=y.split("|");if(h.length===2){let x=h[0];h[1]=h[1].trim();let S=h[1].split(":");if(S.length===2){S[1]=S[1].trim();let C=S[1].toLowerCase();for(let w=0;w<s.length;w++)s[w].BSDName===x&&(s[w].smartStatus=C==="not supported"?"not supported":C==="verified"?"Ok":C==="failing"?"Predicted Failure":"unknown")}}}}),i(s)})):i(s)}}),Jt)try{const o=[];if(o.push(_.powerShell("Get-CimInstance Win32_DiskDrive | select Caption,Size,Status,PNPDeviceId,DeviceId,BytesPerSector,TotalCylinders,TotalHeads,TotalSectors,TotalTracks,TracksPerCylinder,SectorsPerTrack,FirmwareRevision,SerialNumber,InterfaceType | fl")),o.push(_.powerShell("Get-PhysicalDisk | select BusType,MediaType,FriendlyName,Model,SerialNumber,Size | fl")),_.smartMonToolsInstalled())try{const a=JSON.parse(Ye("smartctl --scan -j").toString());a&&a.devices&&a.devices.length>0&&a.devices.forEach(l=>{o.push(oa(`smartctl -j -a ${l.name}`,_.execOptsWin))})}catch{_.noop()}_.promiseAll(o).then(a=>{let l=a.results[0].toString().split(/\n\s*\n/);l.forEach(function(c){let u=c.split(`\r
`);const f=_.getValue(u,"Size",":").trim(),p=_.getValue(u,"Status",":").trim().toLowerCase();f&&s.push({device:_.getValue(u,"DeviceId",":"),type:c.indexOf("SSD")>-1?"SSD":"HD",name:_.getValue(u,"Caption",":"),vendor:n(_.getValue(u,"Caption",":",!0).trim()),size:parseInt(f),bytesPerSector:parseInt(_.getValue(u,"BytesPerSector",":")),totalCylinders:parseInt(_.getValue(u,"TotalCylinders",":")),totalHeads:parseInt(_.getValue(u,"TotalHeads",":")),totalSectors:parseInt(_.getValue(u,"TotalSectors",":")),totalTracks:parseInt(_.getValue(u,"TotalTracks",":")),tracksPerCylinder:parseInt(_.getValue(u,"TracksPerCylinder",":")),sectorsPerTrack:parseInt(_.getValue(u,"SectorsPerTrack",":")),firmwareRevision:_.getValue(u,"FirmwareRevision",":").trim(),serialNum:_.getValue(u,"SerialNumber",":").trim(),interfaceType:_.getValue(u,"InterfaceType",":").trim(),smartStatus:p==="ok"?"Ok":p==="degraded"?"Degraded":p==="pred fail"?"Predicted Failure":"Unknown",temperature:null})}),l=a.results[1].split(/\n\s*\n/),l.forEach(function(c){let u=c.split(`\r
`);const f=_.getValue(u,"SerialNumber",":").trim(),p=_.getValue(u,"FriendlyName",":").trim().replace("Msft ","Microsoft"),d=_.getValue(u,"Size",":").trim(),m=_.getValue(u,"Model",":").trim(),g=_.getValue(u,"BusType",":").trim();let y=_.getValue(u,"MediaType",":").trim();if((y==="3"||y==="HDD")&&(y="HD"),y==="4"&&(y="SSD"),y==="5"&&(y="SCM"),y==="Unspecified"&&(m.toLowerCase().indexOf("virtual")>-1||m.toLowerCase().indexOf("vbox")>-1)&&(y="Virtual"),d){let h=_.findObjectByKey(s,"serialNum",f);(h===-1||f==="")&&(h=_.findObjectByKey(s,"name",p)),h!=-1&&(s[h].type=y,s[h].interfaceType=g)}}),a.results.shift(),a.results.shift(),a.results.length&&a.results.forEach(c=>{try{const u=JSON.parse(c);if(u.serial_number){const f=u.serial_number;let p=_.findObjectByKey(s,"serialNum",f);p!=-1&&(s[p].smartStatus=u.smart_status&&u.smart_status.passed?"Ok":u.smart_status&&u.smart_status.passed===!1?"Predicted Failure":"unknown",u.temperature&&u.temperature.current&&(s[p].temperature=u.temperature.current),s[p].smartData=u)}}catch{_.noop()}}),t&&t(s),e(s)})}catch{t&&t(s),e(s)}})})}Tt.diskLayout=wa;var Dt={};const Dn=Ge,Ce=te.exec,ae=te.execSync,La=Be,M=T;let rt=process.platform;const Re=rt==="linux"||rt==="android",ze=rt==="darwin",xn=rt==="win32",st=rt==="freebsd",ot=rt==="openbsd",at=rt==="netbsd",rr=rt==="sunos";let Q={},sr="",kt={},or=[],Ft=[],Gt={},It;function Mt(){let t="",n="";try{let e=Dn.networkInterfaces(),i=9999;for(let s in e)({}).hasOwnProperty.call(e,s)&&e[s].forEach(function(r){r&&r.internal===!1&&(n=n||s,r.scopeid&&r.scopeid<i&&(t=s,i=r.scopeid))});if(t=t||n||"",xn){let s="";if(ae("netstat -r",M.execOptsWin).toString().split(Dn.EOL).forEach(l=>{if(l=l.replace(/\s+/g," ").trim(),l.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(l)){const c=l.split(" ");c.length>=5&&(s=c[c.length-2])}}),s)for(let l in e)({}).hasOwnProperty.call(e,l)&&e[l].forEach(function(c){c&&c.address&&c.address===s&&(t=l)})}if(Re){let o=ae("ip route 2> /dev/null | grep default",M.execOptsLinux).toString().split(`
`)[0].split(/\s+/);o[0]==="none"&&o[5]?t=o[5]:o[4]&&(t=o[4]),t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}if(ze||st||ot||at||rr){let s="";Re&&(s="ip route 2> /dev/null | grep default | awk '{print $5}'"),ze&&(s="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'"),(st||ot||at||rr)&&(s="route get 0.0.0.0 | grep interface:"),t=ae(s).toString().split(`
`)[0],t.indexOf(":")>-1&&(t=t.split(":")[1].trim())}}catch{M.noop()}return t&&(sr=t),sr}Dt.getDefaultNetworkInterface=Mt;function ar(){let t="",n="",e={};if(Re||st||ot||at){if(typeof It>"u")try{const i=ae("which ip",M.execOptsLinux).toString().split(`
`);i.length&&i[0].indexOf(":")===-1&&i[0].indexOf("/")===0?It=i[0]:It=""}catch{It=""}try{const i="export LC_ALL=C; "+(It?It+" link show up":"/sbin/ifconfig")+"; unset LC_ALL",r=ae(i,M.execOptsLinux).toString().split(`
`);for(let o=0;o<r.length;o++)if(r[o]&&r[o][0]!==" "){if(It){let a=r[o+1].trim().split(" ");a[0]==="link/ether"&&(t=r[o].split(" ")[1],t=t.slice(0,t.length-1),n=a[1])}else t=r[o].split(" ")[0],n=r[o].split("HWaddr ")[1];t&&n&&(e[t]=n.trim(),t="",n="")}}catch{M.noop()}}if(ze)try{const r=ae("/sbin/ifconfig").toString().split(`
`);for(let o=0;o<r.length;o++)r[o]&&r[o][0]!=="	"&&r[o].indexOf(":")>0?t=r[o].split(":")[0]:r[o].indexOf("	ether ")===0&&(n=r[o].split("	ether ")[1],t&&n&&(e[t]=n.trim(),t="",n=""))}catch{M.noop()}return e}function Ia(t){return new Promise(n=>{process.nextTick(()=>{let e=Mt();t&&t(e),n(e)})})}Dt.networkInterfaceDefault=Ia;function _a(t,n){let e=[];for(let i in t)try{if({}.hasOwnProperty.call(t,i)&&t[i].trim()!==""){let s=t[i].trim().split(`\r
`),r=null;try{r=n&&n[i]?n[i].trim().split(`\r
`):[]}catch{M.noop()}let o=M.getValue(s,"NetEnabled",":"),a=M.getValue(s,"AdapterTypeID",":")==="9"?"wireless":"wired",l=M.getValue(s,"Name",":").replace(/\]/g,")").replace(/\[/g,"("),c=M.getValue(s,"NetConnectionID",":").replace(/\]/g,")").replace(/\[/g,"(");if((l.toLowerCase().indexOf("wi-fi")>=0||l.toLowerCase().indexOf("wireless")>=0)&&(a="wireless"),o!==""){const u=parseInt(M.getValue(s,"speed",":").trim(),10)/1e6;e.push({mac:M.getValue(s,"MACAddress",":").toLowerCase(),dhcp:M.getValue(r,"dhcpEnabled",":").toLowerCase()==="true",name:l,iface:c,netEnabled:o==="TRUE",speed:isNaN(u)?null:u,operstate:M.getValue(s,"NetConnectionStatus",":")==="2"?"up":"down",type:a})}}}catch{M.noop()}return e}function Oa(){return new Promise(t=>{process.nextTick(()=>{let n="Get-CimInstance Win32_NetworkAdapter | fl *; echo '#-#-#-#';";n+="Get-CimInstance Win32_NetworkAdapterConfiguration | fl DHCPEnabled";try{M.powerShell(n).then(e=>{e=e.split("#-#-#-#");const i=(e[0]||"").split(/\n\s*\n/),s=(e[1]||"").split(/\n\s*\n/);t(_a(i,s))})}catch{t([])}})})}function Pa(){let t={},n={primaryDNS:"",exitCode:0,ifaces:[]};try{return ae("ipconfig /all",M.execOptsWin).split(`\r
\r
`).forEach((s,r)=>{if(r==1){const o=s.split(`\r
`).filter(l=>l.toUpperCase().includes("DNS")),a=o[0].substring(o[0].lastIndexOf(":")+1);n.primaryDNS=a.trim(),n.primaryDNS||(n.primaryDNS="Not defined")}if(r>1)if(r%2==0){const o=s.substring(s.lastIndexOf(" ")+1).replace(":","");t.name=o}else{const o=s.split(`\r
`).filter(l=>l.toUpperCase().includes("DNS")),a=o[0].substring(o[0].lastIndexOf(":")+1);t.dnsSuffix=a.trim(),n.ifaces.push(t),t={}}}),n}catch{return{primaryDNS:"",exitCode:0,ifaces:[]}}}function va(t,n){let e="";const i=n+".";try{const s=t.filter(r=>i.includes(r.name+".")).map(r=>r.dnsSuffix);return s[0]&&(e=s[0]),e||(e=""),e}catch{return"Unknown"}}function Ma(){try{return ae("netsh lan show profiles",M.execOptsWin).split(`\r
Profile on interface`)}catch(t){return t.status===1&&t.stdout.includes("AutoConfig")?"Disabled":[]}}function Aa(t){try{return ae(`netsh wlan show  interface name="${t}" | findstr "SSID"`,M.execOptsWin).split(`\r
`).shift().split(":").pop().trim()}catch{return"Unknown"}}function Ea(t,n,e){let i={state:"Unknown",protocol:"Unknown"};if(e==="Disabled")return i.state="Disabled",i.protocol="Not defined",i;if(t=="wired"&&e.length>0)try{const r=e.find(a=>a.includes(n+`\r
`)).split(`\r
`),o=r.find(a=>a.includes("802.1x"));if(o.includes("Disabled"))i.state="Disabled",i.protocol="Not defined";else if(o.includes("Enabled")){const a=r.find(l=>l.includes("EAP"));i.protocol=a.split(":").pop(),i.state="Enabled"}}catch{return i}else if(t=="wireless"){let s="",r="";try{const o=Aa(n);if(o!=="Unknown"){let a="";const l=M.isPrototypePolluted()?"---":M.sanitizeShellString(o),c=M.mathMin(l.length,32);for(let u=0;u<=c;u++)l[u]!==void 0&&(a=a+l[u]);s=ae(`netsh wlan show profiles "${a}" | findstr "802.1X"`,M.execOptsWin),r=ae(`netsh wlan show profiles "${a}" | findstr "EAP"`,M.execOptsWin)}s.includes(":")&&r.includes(":")&&(i.state=s.split(":").pop(),i.protocol=r.split(":").pop())}catch(o){return o.status===1&&o.stdout.includes("AutoConfig")&&(i.state="Disabled",i.protocol="Not defined"),i}}return i}function Qr(t){const n=[];let e=[];return t.forEach(function(i){!i.startsWith("	")&&!i.startsWith(" ")&&e.length&&(n.push(e),e=[]),e.push(i)}),e.length&&n.push(e),n}function Ta(t){let n=[];return t.forEach(e=>{let i={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1};const s=e[0];i.iface=s.split(":")[0].trim();let r=s.split("> mtu");i.mtu=r.length>1?parseInt(r[1],10):null,isNaN(i.mtu)&&(i.mtu=null),i.internal=r[0].toLowerCase().indexOf("loopback")>-1,e.forEach(l=>{l.trim().startsWith("ether ")&&(i.mac=l.split("ether ")[1].toLowerCase().trim()),l.trim().startsWith("inet6 ")&&!i.ip6&&(i.ip6=l.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0]),l.trim().startsWith("inet ")&&!i.ip4&&(i.ip4=l.split("inet ")[1].toLowerCase().split(" ")[0])});let o=M.getValue(e,"link rate");i.speed=o?parseFloat(o):null,i.speed===null?(o=M.getValue(e,"uplink rate"),i.speed=o?parseFloat(o):null,i.speed!==null&&o.toLowerCase().indexOf("gbps")>=0&&(i.speed=i.speed*1e3)):o.toLowerCase().indexOf("gbps")>=0&&(i.speed=i.speed*1e3),i.type=M.getValue(e,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired";const a=M.getValue(e,"status").toLowerCase();i.operstate=a==="active"?"up":a==="inactive"?"down":"unknown",i.duplex=M.getValue(e,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",(i.ip6||i.ip4||i.mac)&&n.push(i)}),n}function Da(){const t="/sbin/ifconfig -v";try{const n=ae(t,{maxBuffer:2048e4}).toString().split(`
`),e=Qr(n);return Ta(e)}catch{return[]}}function Va(t){const n=`nmcli device status 2>/dev/null | grep ${t}`;try{const r=ae(n,M.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return r!="--"?r:""}catch{return""}}function Zr(t){let n=[];try{let e=`cat ${t} 2> /dev/null | grep 'iface\\|source'`;ae(e,M.execOptsLinux).toString().split(`
`).forEach(s=>{const r=s.replace(/\s+/g," ").trim().split(" ");if(r.length>=4&&s.toLowerCase().indexOf(" inet ")>=0&&s.toLowerCase().indexOf("dhcp")>=0&&n.push(r[1]),s.toLowerCase().includes("source")){let o=s.split(" ")[1];n=n.concat(Zr(o))}})}catch{M.noop()}return n}function ba(){let t="ip a 2> /dev/null",n=[];try{const e=ae(t,M.execOptsLinux).toString().split(`
`),i=Qr(e);n=Ba(i)}catch{M.noop()}try{n=Zr("/etc/network/interfaces")}catch{M.noop()}return n}function Ba(t){const n=[];return t&&t.length&&t.forEach(e=>{if(e&&e.length&&e[0].split(":").length>2){for(let s of e)if(s.indexOf(" inet ")>=0&&s.indexOf(" dynamic ")>=0){const r=s.split(" "),o=r[r.length-1].trim();n.push(o);break}}}),n}function Na(t,n,e){let i=!1;if(n){const s=`nmcli connection show "${n}" 2>/dev/null | grep ipv4.method;`;try{switch(ae(s,M.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":i=!0;break;default:i=!1;break}return i}catch{return e.indexOf(t)>=0}}else return e.indexOf(t)>=0}function ka(t){let n=!1;const e=`ipconfig getpacket "${t}" 2>/dev/null | grep lease_time;`;try{const i=ae(e).toString().split(`
`);i.length&&i[0].startsWith("lease_time")&&(n=!0)}catch{M.noop()}return n}function Fa(t){if(t){const n=`nmcli connection show "${t}" 2>/dev/null | grep ipv4.dns-search;`;try{const s=ae(n,M.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return s=="--"?"Not defined":s}catch{return"Unknown"}}else return"Unknown"}function Ga(t){if(t){const n=`nmcli connection show "${t}" 2>/dev/null | grep 802-1x.eap;`;try{const s=ae(n,M.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return s=="--"?"":s}catch{return"Not defined"}}else return"Not defined"}function Wa(t){return t?t=="Not defined"?"Disabled":"Enabled":"Unknown"}function oi(t,n,e){const i=["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"];return e?i.filter(s=>e.toUpperCase().toUpperCase().startsWith(s.substring(0,e.length))).length>0||t.toLowerCase().indexOf(" virtual ")>-1||n.toLowerCase().indexOf(" virtual ")>-1||t.toLowerCase().indexOf("vethernet ")>-1||n.toLowerCase().indexOf("vethernet ")>-1||t.toLowerCase().startsWith("veth")||n.toLowerCase().startsWith("veth")||t.toLowerCase().startsWith("vboxnet")||n.toLowerCase().startsWith("vboxnet"):!1}function Ti(t,n,e){return typeof t=="string"&&(e=t,n=!0,t=null),typeof t=="boolean"&&(n=t,t=null,e=""),typeof n>"u"&&(n=!0),e=e||"",e=""+e,new Promise(i=>{process.nextTick(()=>{let s=Dn.networkInterfaces(),r=[],o=[],a=[],l=[];if(ze||st||ot||at)if(JSON.stringify(s)===JSON.stringify(kt)&&!n)r=Ft,t&&t(r),i(r);else{const c=Mt();kt=JSON.parse(JSON.stringify(s)),o=Da(),o.forEach(u=>{({}).hasOwnProperty.call(s,u.iface)&&s[u.iface].forEach(function(m){(m.family==="IPv4"||m.family===4)&&(u.ip4subnet=m.netmask),(m.family==="IPv6"||m.family===6)&&(u.ip6subnet=m.netmask)});let f="";const p=M.isPrototypePolluted()?"---":M.sanitizeShellString(u.iface),d=M.mathMin(p.length,2e3);for(let m=0;m<=d;m++)p[m]!==void 0&&(f=f+p[m]);r.push({iface:u.iface,ifaceName:u.iface,default:u.iface===c,ip4:u.ip4,ip4subnet:u.ip4subnet||"",ip6:u.ip6,ip6subnet:u.ip6subnet||"",mac:u.mac,internal:u.internal,virtual:u.internal?!1:oi(u.iface,u.iface,u.mac),operstate:u.operstate,type:u.type,duplex:u.duplex,mtu:u.mtu,speed:u.speed,dhcp:ka(f),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),Ft=r,e.toLowerCase().indexOf("default")>=0&&(r=r.filter(u=>u.default),r.length>0?r=r[0]:r=[]),t&&t(r),i(r)}if(Re)if(JSON.stringify(s)===JSON.stringify(kt)&&!n)r=Ft,t&&t(r),i(r);else{kt=JSON.parse(JSON.stringify(s)),or=ba();const c=Mt();for(let u in s){let f="",p="",d="",m="",g="",y="",h="",x=null,S=0,C=!1,w="",B="",E="",X="";if({}.hasOwnProperty.call(s,u)){let O=u;s[u].forEach(function(V){(V.family==="IPv4"||V.family===4)&&(f=V.address,p=V.netmask),(V.family==="IPv6"||V.family===6)&&(!d||d.match(/^fe80::/i))&&(d=V.address,m=V.netmask),g=V.mac;const j=parseInt(process.versions.node.split("."),10);g.indexOf("00:00:0")>-1&&(Re||ze)&&!V.internal&&j>=8&&j<=11&&(Object.keys(Gt).length===0&&(Gt=ar()),g=Gt[u]||"")});let U=u.split(":")[0].trim().toLowerCase(),k="";const ne=M.isPrototypePolluted()?"---":M.sanitizeShellString(U),se=M.mathMin(ne.length,2e3);for(let V=0;V<=se;V++)ne[V]!==void 0&&(k=k+ne[V]);const le=`echo -n "addr_assign_type: "; cat /sys/class/net/${k}/addr_assign_type 2>/dev/null; echo;
            echo -n "address: "; cat /sys/class/net/${k}/address 2>/dev/null; echo;
            echo -n "addr_len: "; cat /sys/class/net/${k}/addr_len 2>/dev/null; echo;
            echo -n "broadcast: "; cat /sys/class/net/${k}/broadcast 2>/dev/null; echo;
            echo -n "carrier: "; cat /sys/class/net/${k}/carrier 2>/dev/null; echo;
            echo -n "carrier_changes: "; cat /sys/class/net/${k}/carrier_changes 2>/dev/null; echo;
            echo -n "dev_id: "; cat /sys/class/net/${k}/dev_id 2>/dev/null; echo;
            echo -n "dev_port: "; cat /sys/class/net/${k}/dev_port 2>/dev/null; echo;
            echo -n "dormant: "; cat /sys/class/net/${k}/dormant 2>/dev/null; echo;
            echo -n "duplex: "; cat /sys/class/net/${k}/duplex 2>/dev/null; echo;
            echo -n "flags: "; cat /sys/class/net/${k}/flags 2>/dev/null; echo;
            echo -n "gro_flush_timeout: "; cat /sys/class/net/${k}/gro_flush_timeout 2>/dev/null; echo;
            echo -n "ifalias: "; cat /sys/class/net/${k}/ifalias 2>/dev/null; echo;
            echo -n "ifindex: "; cat /sys/class/net/${k}/ifindex 2>/dev/null; echo;
            echo -n "iflink: "; cat /sys/class/net/${k}/iflink 2>/dev/null; echo;
            echo -n "link_mode: "; cat /sys/class/net/${k}/link_mode 2>/dev/null; echo;
            echo -n "mtu: "; cat /sys/class/net/${k}/mtu 2>/dev/null; echo;
            echo -n "netdev_group: "; cat /sys/class/net/${k}/netdev_group 2>/dev/null; echo;
            echo -n "operstate: "; cat /sys/class/net/${k}/operstate 2>/dev/null; echo;
            echo -n "proto_down: "; cat /sys/class/net/${k}/proto_down 2>/dev/null; echo;
            echo -n "speed: "; cat /sys/class/net/${k}/speed 2>/dev/null; echo;
            echo -n "tx_queue_len: "; cat /sys/class/net/${k}/tx_queue_len 2>/dev/null; echo;
            echo -n "type: "; cat /sys/class/net/${k}/type 2>/dev/null; echo;
            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${k}; echo;
            echo -n "wirelessspeed: "; iw dev ${k} link 2>&1 | grep bitrate; echo;`;let q=[];try{q=ae(le,M.execOptsLinux).toString().split(`
`);const V=Va(k);C=Na(k,V,or),w=Fa(V),B=Ga(V),E=Wa(B)}catch{M.noop()}y=M.getValue(q,"duplex"),y=y.startsWith("cat")?"":y,h=parseInt(M.getValue(q,"mtu"),10);let pe=parseInt(M.getValue(q,"speed"),10);x=isNaN(pe)?null:pe;let H=M.getValue(q,"wirelessspeed").split("tx bitrate: ");x===null&&H.length===2&&(pe=parseFloat(H[1]),x=isNaN(pe)?null:pe),S=parseInt(M.getValue(q,"carrier_changes"),10);const Z=M.getValue(q,"operstate");X=Z==="up"?M.getValue(q,"wireless").trim()?"wireless":"wired":"unknown",(k==="lo"||k.startsWith("bond"))&&(X="virtual");let z=s[u]&&s[u][0]?s[u][0].internal:!1;(u.toLowerCase().indexOf("loopback")>-1||O.toLowerCase().indexOf("loopback")>-1)&&(z=!0);const G=z?!1:oi(u,O,g);r.push({iface:k,ifaceName:O,default:U===c,ip4:f,ip4subnet:p,ip6:d,ip6subnet:m,mac:g,internal:z,virtual:G,operstate:Z,type:X,duplex:y,mtu:h,speed:x,dhcp:C,dnsSuffix:w,ieee8021xAuth:B,ieee8021xState:E,carrierChanges:S})}}Ft=r,e.toLowerCase().indexOf("default")>=0&&(r=r.filter(u=>u.default),r.length>0?r=r[0]:r=[]),t&&t(r),i(r)}if(xn)if(JSON.stringify(s)===JSON.stringify(kt)&&!n)r=Ft,t&&t(r),i(r);else{kt=JSON.parse(JSON.stringify(s));const c=Mt();Oa().then(function(u){u.forEach(f=>{let p=!1;Object.keys(s).forEach(d=>{p||s[d].forEach(m=>{Object.keys(m).indexOf("mac")>=0&&(p=m.mac===f.mac)})}),p||(s[f.name]=[{mac:f.mac}])}),l=Ma(),a=Pa();for(let f in s){let p="";const d=M.isPrototypePolluted()?"---":M.sanitizeShellString(f),m=M.mathMin(d.length,2e3);for(let q=0;q<=m;q++)d[q]!==void 0&&(p=p+d[q]);let g=f,y="",h="",x="",S="",C="",w="",B="",E=null,X=0,O="down",U=!1,k="",ne="",se="",le="";if({}.hasOwnProperty.call(s,f)){let q=f;s[f].forEach(function(G){(G.family==="IPv4"||G.family===4)&&(y=G.address,h=G.netmask),(G.family==="IPv6"||G.family===6)&&(!x||x.match(/^fe80::/i))&&(x=G.address,S=G.netmask),C=G.mac;const V=parseInt(process.versions.node.split("."),10);C.indexOf("00:00:0")>-1&&(Re||ze)&&!G.internal&&V>=8&&V<=11&&(Object.keys(Gt).length===0&&(Gt=ar()),C=Gt[f]||"")}),k=va(a.ifaces,p);let pe=!1;u.forEach(G=>{G.mac===C&&!pe&&(g=G.iface||g,q=G.name,U=G.dhcp,O=G.operstate,E=O==="up"?G.speed:0,le=G.type,pe=!0)}),(f.toLowerCase().indexOf("wlan")>=0||q.toLowerCase().indexOf("wlan")>=0||q.toLowerCase().indexOf("802.11n")>=0||q.toLowerCase().indexOf("wireless")>=0||q.toLowerCase().indexOf("wi-fi")>=0||q.toLowerCase().indexOf("wifi")>=0)&&(le="wireless");const H=Ea(le,p,l);ne=H.protocol,se=H.state;let Z=s[f]&&s[f][0]?s[f][0].internal:!1;(f.toLowerCase().indexOf("loopback")>-1||q.toLowerCase().indexOf("loopback")>-1)&&(Z=!0);const z=Z?!1:oi(f,q,C);r.push({iface:g,ifaceName:q,default:g===c,ip4:y,ip4subnet:h,ip6:x,ip6subnet:S,mac:C,internal:Z,virtual:z,operstate:O,type:le,duplex:w,mtu:B,speed:E,dhcp:U,dnsSuffix:k,ieee8021xAuth:ne,ieee8021xState:se,carrierChanges:X})}}Ft=r,e.toLowerCase().indexOf("default")>=0&&(r=r.filter(f=>f.default),r.length>0?r=r[0]:r=[]),t&&t(r),i(r)})}})})}Dt.networkInterfaces=Ti;function _n(t,n,e,i,s,r,o,a){let l={iface:t,operstate:i,rx_bytes:n,rx_dropped:s,rx_errors:r,tx_bytes:e,tx_dropped:o,tx_errors:a,rx_sec:null,tx_sec:null,ms:0};return Q[t]&&Q[t].ms?(l.ms=Date.now()-Q[t].ms,l.rx_sec=n-Q[t].rx_bytes>=0?(n-Q[t].rx_bytes)/(l.ms/1e3):0,l.tx_sec=e-Q[t].tx_bytes>=0?(e-Q[t].tx_bytes)/(l.ms/1e3):0,Q[t].rx_bytes=n,Q[t].tx_bytes=e,Q[t].rx_sec=l.rx_sec,Q[t].tx_sec=l.tx_sec,Q[t].ms=Date.now(),Q[t].last_ms=l.ms,Q[t].operstate=i):(Q[t]||(Q[t]={}),Q[t].rx_bytes=n,Q[t].tx_bytes=e,Q[t].rx_sec=null,Q[t].tx_sec=null,Q[t].ms=Date.now(),Q[t].last_ms=0,Q[t].operstate=i),l}function es(t,n){let e=[];return new Promise(i=>{process.nextTick(()=>{if(M.isFunction(t)&&!n)n=t,e=[Mt()];else{if(typeof t!="string"&&t!==void 0)return n&&n([]),i([]);t=t||Mt();try{t.__proto__.toLowerCase=M.stringToLower,t.__proto__.replace=M.stringReplace,t.__proto__.toString=M.stringToString,t.__proto__.substr=M.stringSubstr,t.__proto__.substring=M.stringSubstring,t.__proto__.trim=M.stringTrim,t.__proto__.startsWith=M.stringStartWith}catch{Object.setPrototypeOf(t,M.stringObj)}t=t.trim().toLowerCase().replace(/,+/g,"|"),e=t.split("|")}const s=[],r=[];if(e.length&&e[0].trim()==="*")e=[],Ti(!1).then(o=>{for(let a of o)e.push(a.iface);es(e.join(",")).then(a=>{n&&n(a),i(a)})});else{for(let o of e)r.push(Ra(o.trim()));r.length?Promise.all(r).then(o=>{n&&n(o),i(o)}):(n&&n(s),i(s))}})})}function Ra(t){function n(e){let i=[];for(let s in e)if({}.hasOwnProperty.call(e,s)&&e[s].trim()!==""){let r=e[s].trim().split(`\r
`);i.push({name:M.getValue(r,"Name",":").replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase(),rx_bytes:parseInt(M.getValue(r,"BytesReceivedPersec",":"),10),rx_errors:parseInt(M.getValue(r,"PacketsReceivedErrors",":"),10),rx_dropped:parseInt(M.getValue(r,"PacketsReceivedDiscarded",":"),10),tx_bytes:parseInt(M.getValue(r,"BytesSentPersec",":"),10),tx_errors:parseInt(M.getValue(r,"PacketsOutboundErrors",":"),10),tx_dropped:parseInt(M.getValue(r,"PacketsOutboundDiscarded",":"),10)})}return i}return new Promise(e=>{process.nextTick(()=>{let i="";const s=M.isPrototypePolluted()?"---":M.sanitizeShellString(t),r=M.mathMin(s.length,2e3);for(let h=0;h<=r;h++)s[h]!==void 0&&(i=i+s[h]);let o={iface:i,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},a="unknown",l=0,c=0,u=0,f=0,p=0,d=0,m,g,y;if(!Q[i]||Q[i]&&!Q[i].ms||Q[i]&&Q[i].ms&&Date.now()-Q[i].ms>=500){if(Re&&(La.existsSync("/sys/class/net/"+i)?(m="cat /sys/class/net/"+i+"/operstate; cat /sys/class/net/"+i+"/statistics/rx_bytes; cat /sys/class/net/"+i+"/statistics/tx_bytes; cat /sys/class/net/"+i+"/statistics/rx_dropped; cat /sys/class/net/"+i+"/statistics/rx_errors; cat /sys/class/net/"+i+"/statistics/tx_dropped; cat /sys/class/net/"+i+"/statistics/tx_errors; ",Ce(m,function(h,x){h||(g=x.toString().split(`
`),a=g[0].trim(),l=parseInt(g[1],10),c=parseInt(g[2],10),u=parseInt(g[3],10),f=parseInt(g[4],10),p=parseInt(g[5],10),d=parseInt(g[6],10),o=_n(i,l,c,a,u,f,p,d)),e(o)})):e(o)),(st||ot||at)&&(m="netstat -ibndI "+i,Ce(m,function(h,x){if(!h){g=x.toString().split(`
`);for(let S=1;S<g.length;S++){const C=g[S].replace(/ +/g," ").split(" ");C&&C[0]&&C[7]&&C[10]&&(l=l+parseInt(C[7]),C[6].trim()!=="-"&&(u=u+parseInt(C[6])),C[5].trim()!=="-"&&(f=f+parseInt(C[5])),c=c+parseInt(C[10]),C[12].trim()!=="-"&&(p=p+parseInt(C[12])),C[9].trim()!=="-"&&(d=d+parseInt(C[9])),a="up")}o=_n(i,l,c,a,u,f,p,d)}e(o)})),ze&&(m="ifconfig "+i+' | grep "status"',Ce(m,function(h,x){o.operstate=(x.toString().split(":")[1]||"").trim(),o.operstate=(o.operstate||"").toLowerCase(),o.operstate=o.operstate==="active"?"up":o.operstate==="inactive"?"down":"unknown",m="netstat -bdI "+i,Ce(m,function(S,C){if(!S&&(g=C.toString().split(`
`),g.length>1&&g[1].trim()!=="")){y=g[1].replace(/ +/g," ").split(" ");const w=y.length>11?1:0;l=parseInt(y[w+5]),u=parseInt(y[w+10]),f=parseInt(y[w+4]),c=parseInt(y[w+8]),p=parseInt(y[w+10]),d=parseInt(y[w+7]),o=_n(i,l,c,o.operstate,u,f,p,d)}e(o)})})),xn){let h=[],x=i;M.powerShell("Get-CimInstance Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl").then((S,C)=>{if(!C){const w=S.toString().split(/\n\s*\n/);h=n(w)}Ti(!1).then(w=>{l=0,c=0,h.forEach(B=>{w.forEach(E=>{(E.iface.toLowerCase()===i.toLowerCase()||E.mac.toLowerCase()===i.toLowerCase()||E.ip4.toLowerCase()===i.toLowerCase()||E.ip6.toLowerCase()===i.toLowerCase()||E.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===i.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase())&&E.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===B.name&&(x=E.iface,l=B.rx_bytes,u=B.rx_dropped,f=B.rx_errors,c=B.tx_bytes,p=B.tx_dropped,d=B.tx_errors,a=E.operstate)})}),l&&c&&(o=_n(x,parseInt(l),parseInt(c),a,u,f,p,d)),e(o)})})}}else o.rx_bytes=Q[i].rx_bytes,o.tx_bytes=Q[i].tx_bytes,o.rx_sec=Q[i].rx_sec,o.tx_sec=Q[i].tx_sec,o.ms=Q[i].last_ms,o.operstate=Q[i].operstate,e(o)})})}Dt.networkStats=es;function za(t,n){let e="";return t.forEach(i=>{const s=i.split(" ");(parseInt(s[0],10)||-1)===n&&(s.shift(),e=s.join(" ").split(":")[0])}),e=e.split(" -")[0],e=e.split(" /")[0],e}function Ua(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(Re||st||ot||at){let i='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';(st||ot||at)&&(i='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL'),Ce(i,{maxBuffer:1024*2e4},function(s,r){let o=r.toString().split(`
`);!s&&(o.length>1||o[0]!="")?(o.forEach(function(a){if(a=a.replace(/ +/g," ").split(" "),a.length>=7){let l=a[3],c="",u=a[3].split(":");u.length>1&&(c=u[u.length-1],u.pop(),l=u.join(":"));let f=a[4],p="",d=a[4].split(":");d.length>1&&(p=d[d.length-1],d.pop(),f=d.join(":"));let m=a[5],g=a[6].split("/");m&&e.push({protocol:a[0],localAddress:l,localPort:c,peerAddress:f,peerPort:p,state:m,pid:g[0]&&g[0]!=="-"?parseInt(g[0],10):null,process:g[1]?g[1].split(" ")[0].split(":")[0]:""})}}),t&&t(e),n(e)):(i='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',Ce(i,{maxBuffer:1024*2e4},function(a,l){a||l.toString().split(`
`).forEach(function(u){if(u=u.replace(/ +/g," ").split(" "),u.length>=6){let f=u[4],p="",d=u[4].split(":");d.length>1&&(p=d[d.length-1],d.pop(),f=d.join(":"));let m=u[5],g="",y=u[5].split(":");y.length>1&&(g=y[y.length-1],y.pop(),m=y.join(":"));let h=u[1];h==="ESTAB"&&(h="ESTABLISHED"),h==="TIME-WAIT"&&(h="TIME_WAIT");let x=null,S="";if(u.length>=7&&u[6].indexOf("users:")>-1){let C=u[6].replace('users:(("',"").replace(/"/g,"").split(",");C.length>2&&(S=C[0].split(" ")[0].split(":")[0],x=parseInt(C[1],10))}h&&e.push({protocol:u[0],localAddress:f,localPort:p,peerAddress:m,peerPort:g,state:h,pid:x,process:S})}}),t&&t(e),n(e)}))})}if(ze){let i='netstat -natvln | head -n2; netstat -natvln | grep "tcp4\\|tcp6\\|udp4\\|udp6"';const s="ESTABLISHED|SYN_SENT|SYN_RECV|FIN_WAIT1|FIN_WAIT_1|FIN_WAIT2|FIN_WAIT_2|TIME_WAIT|CLOSE|CLOSE_WAIT|LAST_ACK|LISTEN|CLOSING|UNKNOWN".split("|");Ce(i,{maxBuffer:1024*2e4},function(r,o){r||Ce("ps -axo pid,command",{maxBuffer:1024*2e4},function(a,l){let c=l.toString().split(`
`);c=c.map(p=>p.trim().replace(/ +/g," "));let u=o.toString().split(`
`);u.shift();let f=8;u.length>1&&u[0].indexOf("pid")>0&&(f=(u.shift()||"").replace(/ Address/g,"_Address").replace(/ +/g," ").split(" ").indexOf("pid")),u.forEach(function(p){if(p=p.replace(/ +/g," ").split(" "),p.length>=8){let d=p[3],m="",g=p[3].split(".");g.length>1&&(m=g[g.length-1],g.pop(),d=g.join("."));let y=p[4],h="",x=p[4].split(".");x.length>1&&(h=x[x.length-1],x.pop(),y=x.join("."));const S=s.indexOf(p[5])>=0;let C=S?p[5]:"UNKNOWN",w=parseInt(p[f+(S?0:-1)],10);C&&e.push({protocol:p[0],localAddress:d,localPort:m,peerAddress:y,peerPort:h,state:C,pid:w,process:za(c,w)})}}),t&&t(e),n(e)})})}if(xn){let i="netstat -nao";try{Ce(i,M.execOptsWin,function(s,r){s||(r.toString().split(`\r
`).forEach(function(a){if(a=a.trim().replace(/ +/g," ").split(" "),a.length>=4){let l=a[1],c="",u=a[1].split(":");u.length>1&&(c=u[u.length-1],u.pop(),l=u.join(":")),l=l.replace(/\[/g,"").replace(/\]/g,"");let f=a[2],p="",d=a[2].split(":");d.length>1&&(p=d[d.length-1],d.pop(),f=d.join(":")),f=f.replace(/\[/g,"").replace(/\]/g,"");let m=M.toInt(a[4]),g=a[3];g==="HERGESTELLT"&&(g="ESTABLISHED"),g.startsWith("ABH")&&(g="LISTEN"),g==="SCHLIESSEN_WARTEN"&&(g="CLOSE_WAIT"),g==="WARTEND"&&(g="TIME_WAIT"),g==="SYN_GESENDET"&&(g="SYN_SENT"),g==="LISTENING"&&(g="LISTEN"),g==="SYN_RECEIVED"&&(g="SYN_RECV"),g==="FIN_WAIT_1"&&(g="FIN_WAIT1"),g==="FIN_WAIT_2"&&(g="FIN_WAIT2"),a[0].toLowerCase()!=="udp"&&g?e.push({protocol:a[0].toLowerCase(),localAddress:l,localPort:c,peerAddress:f,peerPort:p,state:g,pid:m,process:""}):a[0].toLowerCase()==="udp"&&e.push({protocol:a[0].toLowerCase(),localAddress:l,localPort:c,peerAddress:f,peerPort:p,state:"",pid:parseInt(a[3],10),process:""})}}),t&&t(e),n(e))})}catch{t&&t(e),n(e)}}})})}Dt.networkConnections=Ua;function Ha(t){return new Promise(n=>{process.nextTick(()=>{let e="";if(Re||st||ot||at){let i="ip route get 1";try{Ce(i,{maxBuffer:1024*2e4},function(s,r){if(s)t&&t(e),n(e);else{let o=r.toString().split(`
`),l=(o&&o[0]?o[0]:"").split(" via ");l&&l[1]&&(l=l[1].split(" "),e=l[0]),t&&t(e),n(e)}})}catch{t&&t(e),n(e)}}if(ze){let i="route -n get default";try{Ce(i,{maxBuffer:1024*2e4},function(s,r){if(!s){const o=r.toString().split(`
`).map(a=>a.trim());e=M.getValue(o,"gateway")}e?(t&&t(e),n(e)):(i="netstat -rn | awk '/default/ {print $2}'",Ce(i,{maxBuffer:1024*2e4},function(o,a){e=a.toString().split(`
`).map(c=>c.trim()).find(c=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(c)),t&&t(e),n(e)}))})}catch{t&&t(e),n(e)}}if(xn)try{Ce("netstat -r",M.execOptsWin,function(i,s){s.toString().split(Dn.EOL).forEach(o=>{if(o=o.replace(/\s+/g," ").trim(),o.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(o)){const a=o.split(" ");a.length>=5&&a[a.length-3].indexOf(".")>-1&&(e=a[a.length-3])}}),e?(t&&t(e),n(e)):M.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then(o=>{let a=o.toString().split(`\r
`);a.length>1&&!e&&(e=M.getValue(a,"NextHop"),t&&t(e),n(e))})})}catch{t&&t(e),n(e)}})})}Dt.networkGatewayDefault=Ha;var Yn={};const on=Ge,Di=te.exec,lt=te.execSync,v=T;let Vn=process.platform;const Vi=Vn==="linux"||Vn==="android",bi=Vn==="darwin",Bi=Vn==="win32";function Ni(t){const n=parseFloat(t);return n<0?0:n>=100?-50:n/2-100}function bn(t){const n=2*(parseFloat(t)+100);return n<=100?n:100}const cn={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};function un(t){return{}.hasOwnProperty.call(cn,t)?cn[t]:null}function $a(t){let n=0;for(let e in cn)({}).hasOwnProperty.call(cn,e)&&cn[e]===t&&(n=v.toInt(e));return n}function ts(){const t=[],n="iw dev 2>/dev/null";try{const i=lt(n,v.execOptsLinux).toString().split(`
`).map(s=>s.trim()).join(`
`).split(`
Interface `);return i.shift(),i.forEach(s=>{const r=s.split(`
`),o=r[0],a=v.toInt(v.getValue(r,"ifindex"," ")),l=v.getValue(r,"addr"," "),c=v.toInt(v.getValue(r,"channel"," "));t.push({id:a,iface:o,mac:l,channel:c})}),t}catch{try{const s=lt("nmcli -t -f general,wifi-properties,wired-properties,interface-flags,capabilities,nsp device show 2>/dev/null",v.execOptsLinux).toString().split(`

`);let r=1;return s.forEach(o=>{const a=o.split(`
`),l=v.getValue(a,"GENERAL.DEVICE"),c=v.getValue(a,"GENERAL.TYPE"),u=r++,f=v.getValue(a,"GENERAL.HWADDR");c.toLowerCase()==="wifi"&&t.push({id:u,iface:l,mac:f,channel:""})}),t}catch{return[]}}}function ns(t){const n=`nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${t} 2> /dev/null`;try{const e=lt(n,v.execOptsLinux).toString().split(`
`),i=v.getValue(e,"GENERAL.CONNECTION");return{iface:t,type:v.getValue(e,"GENERAL.TYPE"),vendor:v.getValue(e,"GENERAL.VENDOR"),product:v.getValue(e,"GENERAL.PRODUCT"),mac:v.getValue(e,"GENERAL.HWADDR").toLowerCase(),ssid:i!=="--"?i:null}}catch{return{}}}function Xa(t){const n=`nmcli -t --show-secrets connection show ${t} 2>/dev/null`;try{const e=lt(n,v.execOptsLinux).toString().split(`
`),i=v.getValue(e,"802-11-wireless.seen-bssids").toLowerCase();return{ssid:t!=="--"?t:null,uuid:v.getValue(e,"connection.uuid"),type:v.getValue(e,"connection.type"),autoconnect:v.getValue(e,"connection.autoconnect")==="yes",security:v.getValue(e,"802-11-wireless-security.key-mgmt"),bssid:i!=="--"?i:null}}catch{return{}}}function Ka(t){if(!t)return{};const n=`wpa_cli -i ${t} status 2>&1`;try{const e=lt(n,v.execOptsLinux).toString().split(`
`),i=v.toInt(v.getValue(e,"freq","="));return{ssid:v.getValue(e,"ssid","="),uuid:v.getValue(e,"uuid","="),security:v.getValue(e,"key_mgmt","="),freq:i,channel:$a(i),bssid:v.getValue(e,"bssid","=").toLowerCase()}}catch{return{}}}function is(){const t=[],n="nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null";try{const i=lt(n,v.execOptsLinux).toString().split("ACTIVE:");return i.shift(),i.forEach(s=>{s="ACTIVE:"+s;const r=s.split(on.EOL),o=v.getValue(r,"CHAN"),a=v.getValue(r,"FREQ").toLowerCase().replace("mhz","").trim(),l=v.getValue(r,"SECURITY").replace("(","").replace(")",""),c=v.getValue(r,"WPA-FLAGS").replace("(","").replace(")",""),u=v.getValue(r,"RSN-FLAGS").replace("(","").replace(")",""),f=v.getValue(r,"SIGNAL");t.push({ssid:v.getValue(r,"SSID"),bssid:v.getValue(r,"BSSID").toLowerCase(),mode:v.getValue(r,"MODE"),channel:o?parseInt(o,10):null,frequency:a?parseInt(a,10):null,signalLevel:Ni(f),quality:f?parseInt(f,10):null,security:l&&l!=="none"?l.split(" "):[],wpaFlags:c&&c!=="none"?c.split(" "):[],rsnFlags:u&&u!=="none"?u.split(" "):[]})}),t}catch{return[]}}function lr(t){const n=[];try{let e=lt(`export LC_ALL=C; iwlist ${t} scan 2>&1; unset LC_ALL`,v.execOptsLinux).toString().split("        Cell ");return e[0].indexOf("resource busy")>=0?-1:(e.length>1&&(e.shift(),e.forEach(i=>{const s=i.split(`
`),r=v.getValue(s,"channel",":",!0),o=s&&s.length&&s[0].indexOf("Address:")>=0?s[0].split("Address:")[1].trim().toLowerCase():"",a=v.getValue(s,"mode",":",!0),l=v.getValue(s,"frequency",":",!0),u=v.getValue(s,"Quality","=",!0).toLowerCase().split("signal level="),f=u.length>1?v.toInt(u[1]):0,p=f?bn(f):0,d=v.getValue(s,"essid",":",!0),m=i.indexOf(" WPA ")>=0,g=i.indexOf("WPA2 ")>=0,y=[];m&&y.push("WPA"),g&&y.push("WPA2");const h=[];let x="";s.forEach(function(S){const C=S.trim().toLowerCase();if(C.indexOf("group cipher")>=0){x&&h.push(x);const w=C.split(":");w.length>1&&(x=w[1].trim().toUpperCase())}if(C.indexOf("pairwise cipher")>=0){const w=C.split(":");w.length>1&&(w[1].indexOf("tkip")?x=x?"TKIP/"+x:"TKIP":w[1].indexOf("ccmp")?x=x?"CCMP/"+x:"CCMP":w[1].indexOf("proprietary")&&(x=x?"PROP/"+x:"PROP"))}if(C.indexOf("authentication suites")>=0){const w=C.split(":");w.length>1&&(w[1].indexOf("802.1x")?x=x?"802.1x/"+x:"802.1x":w[1].indexOf("psk")&&(x=x?"PSK/"+x:"PSK"))}}),x&&h.push(x),n.push({ssid:d,bssid:o,mode:a,channel:r?v.toInt(r):null,frequency:l?v.toInt(l.replace(".","")):null,signalLevel:f,quality:p,security:y,wpaFlags:h,rsnFlags:[]})})),n)}catch{return-1}}function qa(t){const n=[];try{let e=JSON.parse(t);return e=e.SPAirPortDataType[0].spairport_airport_interfaces[0].spairport_airport_other_local_wireless_networks,e.forEach(function(i){let s=[];const r=i.spairport_security_mode||"";r==="spairport_security_mode_wep"?s.push("WEP"):r==="spairport_security_mode_wpa2_personal"?s.push("WPA2"):r.startsWith("spairport_security_mode_wpa2_enterprise")?s.push("WPA2 EAP"):r.startsWith("pairport_security_mode_wpa3_transition")?s.push("WPA2/WPA3"):r.startsWith("pairport_security_mode_wpa3")&&s.push("WPA3");const o=parseInt((""+i.spairport_network_channel).split(" ")[0])||0,a=i.spairport_signal_noise||null;n.push({ssid:i._name||"",bssid:i.spairport_network_bssid||null,mode:i.spairport_network_phymode,channel:o,frequency:un(o),signalLevel:a?parseInt(a,10):null,quality:bn(a),security:s,wpaFlags:[],rsnFlags:[]})}),n}catch{return n}}function ja(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(Vi)if(e=is(),e.length===0)try{const i=lt("export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL",v.execOptsLinux).toString().split(`

`);let s="";if(i.forEach(r=>{r.indexOf("no wireless")===-1&&r.trim()!==""&&(s=r.split(" ")[0])}),s){let r="";const o=v.isPrototypePolluted()?"---":v.sanitizeShellString(s,!0),a=v.mathMin(o.length,2e3);for(let c=0;c<=a;c++)o[c]!==void 0&&(r=r+o[c]);const l=lr(r);l===-1?setTimeout(function(c){const u=lr(c);u!=-1&&(e=u),t&&t(e),n(e)},4e3):(e=l,t&&t(e),n(e))}else t&&t(e),n(e)}catch{t&&t(e),n(e)}else t&&t(e),n(e);else bi?Di("system_profiler SPAirPortDataType -json 2>/dev/null",{maxBuffer:1024*4e4},function(s,r){e=qa(r.toString()),t&&t(e),n(e)}):Bi?v.powerShell("netsh wlan show networks mode=Bssid").then(s=>{const r=s.toString("utf8").split(on.EOL+on.EOL+"SSID ");r.shift(),r.forEach(o=>{const a=o.split(on.EOL);if(a&&a.length>=8&&a[0].indexOf(":")>=0){const l=o.split(" BSSID");l.shift(),l.forEach(c=>{const u=c.split(on.EOL),f=u[0].split(":");f.shift();const p=f.join(":").trim().toLowerCase(),d=u[3].split(":").pop().trim(),m=u[1].split(":").pop().trim();e.push({ssid:a[0].split(":").pop().trim(),bssid:p,mode:"",channel:d?parseInt(d,10):null,frequency:un(d),signalLevel:Ni(m),quality:m?parseInt(m,10):null,security:[a[2].split(":").pop().trim()],wpaFlags:[a[3].split(":").pop().trim()],rsnFlags:[]})})}}),t&&t(e),n(e)}):(t&&t(e),n(e))})})}Yn.wifiNetworks=ja;function Ya(t){t=t.toLowerCase();let n="";return t.indexOf("intel")>=0?n="Intel":t.indexOf("realtek")>=0?n="Realtek":t.indexOf("qualcom")>=0?n="Qualcom":t.indexOf("broadcom")>=0?n="Broadcom":t.indexOf("cavium")>=0?n="Cavium":t.indexOf("cisco")>=0?n="Cisco":t.indexOf("marvel")>=0?n="Marvel":t.indexOf("zyxel")>=0?n="Zyxel":t.indexOf("melanox")>=0?n="Melanox":t.indexOf("d-link")>=0?n="D-Link":t.indexOf("tp-link")>=0?n="TP-Link":t.indexOf("asus")>=0?n="Asus":t.indexOf("linksys")>=0&&(n="Linksys"),n}function Ja(t){return new Promise(n=>{process.nextTick(()=>{const e=[];if(Vi){const i=ts(),s=is();i.forEach(r=>{let o="";const a=v.isPrototypePolluted()?"---":v.sanitizeShellString(r.iface,!0),l=v.mathMin(a.length,2e3);for(let C=0;C<=l;C++)a[C]!==void 0&&(o=o+a[C]);const c=ns(o),u=Ka(o),f=c.ssid||u.ssid,p=s.filter(C=>C.ssid===f);let d="";const m=v.isPrototypePolluted()?"---":v.sanitizeShellString(f,!0),g=v.mathMin(m.length,32);for(let C=0;C<=g;C++)m[C]!==void 0&&(d=d+m[C]);const y=Xa(d),h=p&&p.length&&p[0].channel?p[0].channel:u.channel?u.channel:null,x=p&&p.length&&p[0].bssid?p[0].bssid:u.bssid?u.bssid:null,S=p&&p.length&&p[0].signalLevel?p[0].signalLevel:null;f&&x&&e.push({id:r.id,iface:r.iface,model:c.product,ssid:f,bssid:p&&p.length&&p[0].bssid?p[0].bssid:u.bssid?u.bssid:null,channel:h,frequency:h?un(h):null,type:y.type?y.type:"802.11",security:y.security?y.security:u.security?u.security:null,signalLevel:S,quality:bn(S),txRate:null})}),t&&t(e),n(e)}else bi?Di('system_profiler SPNetworkDataType SPAirPortDataType -xml 2>/dev/null; echo "######" ; ioreg -n AppleBCMWLANSkywalkInterface -r 2>/dev/null',function(s,r){try{const o=r.toString().split("######"),a=v.plistParser(o[0]),l=a[0]._SPCommandLineArguments.indexOf("SPNetworkDataType")>=0?a[0]._items:a[1]._items,c=a[0]._SPCommandLineArguments.indexOf("SPAirPortDataType")>=0?a[0]._items[0].spairport_airport_interfaces:a[1]._items[0].spairport_airport_interfaces;let u=[];o[1].indexOf("  | {")>0&&o[1].indexOf("  | }")>o[1].indexOf("  | {")&&(u=o[1].split("  | {")[1].split("  | }")[0].replace(/ \| /g,"").replace(/"/g,"").split(`
`));const f=l.find(h=>h._name==="Wi-Fi"),p=c[0].spairport_current_network_information,d=parseInt((""+p.spairport_network_channel).split(" ")[0])||0,m=p.spairport_signal_noise||null;let g=[];const y=p.spairport_security_mode||"";y==="spairport_security_mode_wep"?g.push("WEP"):y==="spairport_security_mode_wpa2_personal"?g.push("WPA2"):y.startsWith("spairport_security_mode_wpa2_enterprise")?g.push("WPA2 EAP"):y.startsWith("pairport_security_mode_wpa3_transition")?g.push("WPA2/WPA3"):y.startsWith("pairport_security_mode_wpa3")&&g.push("WPA3"),e.push({id:f._name||"Wi-Fi",iface:f.interface||"",model:f.hardware||"",ssid:p._name||"",bssid:p.spairport_network_bssid||"",channel:d,frequency:d?un(d):null,type:p.spairport_network_phymode||"802.11",security:g,signalLevel:m?parseInt(m,10):null,quality:bn(m),txRate:p.spairport_network_rate||null})}catch{v.noop()}t&&t(e),n(e)}):Bi?v.powerShell("netsh wlan show interfaces").then(function(s){const r=s.toString().split(`\r
`);for(let a=0;a<r.length;a++)r[a]=r[a].trim();const o=r.join(`\r
`).split(`:\r
\r
`);o.shift(),o.forEach(a=>{const l=a.split(`\r
`);if(l.length>=5){const c=l[0].indexOf(":")>=0?l[0].split(":")[1].trim():"",u=l[1].indexOf(":")>=0?l[1].split(":")[1].trim():"",f=l[2].indexOf(":")>=0?l[2].split(":")[1].trim():"",p=v.getValue(l,"SSID",":",!0),d=v.getValue(l,"BSSID",":",!0)||v.getValue(l,"AP BSSID",":",!0),m=v.getValue(l,"Signal",":",!0),g=Ni(m),y=v.getValue(l,"Radio type",":",!0)||v.getValue(l,"Type de radio",":",!0)||v.getValue(l,"Funktyp",":",!0)||null,h=v.getValue(l,"authentication",":",!0)||v.getValue(l,"Authentification",":",!0)||v.getValue(l,"Authentifizierung",":",!0)||null,x=v.getValue(l,"Channel",":",!0)||v.getValue(l,"Canal",":",!0)||v.getValue(l,"Kanal",":",!0)||null,S=v.getValue(l,"Transmit rate (mbps)",":",!0)||v.getValue(l,"Transmission (mbit/s)",":",!0)||v.getValue(l,"Empfangsrate (MBit/s)",":",!0)||null;u&&f&&p&&d&&e.push({id:f,iface:c,model:u,ssid:p,bssid:d,channel:v.toInt(x),frequency:x?un(x):null,type:y,security:h,signalLevel:g,quality:m?parseInt(m,10):null,txRate:v.toInt(S)||null})}}),t&&t(e),n(e)}):(t&&t(e),n(e))})})}Yn.wifiConnections=Ja;function Qa(t){return new Promise(n=>{process.nextTick(()=>{const e=[];Vi?(ts().forEach(s=>{const r=ns(s.iface);e.push({id:s.id,iface:s.iface,model:r.product?r.product:null,vendor:r.vendor?r.vendor:null,mac:s.mac})}),t&&t(e),n(e)):bi?Di("system_profiler SPNetworkDataType",function(s,r){const o=r.toString().split(`

    Wi-Fi:

`);if(o.length>1){const a=o[1].split(`

`)[0].split(`
`),l=v.getValue(a,"BSD Device Name",":",!0),c=v.getValue(a,"MAC Address",":",!0),u=v.getValue(a,"hardware",":",!0);e.push({id:"Wi-Fi",iface:l,model:u,vendor:"",mac:c})}t&&t(e),n(e)}):Bi?v.powerShell("netsh wlan show interfaces").then(function(s){const r=s.toString().split(`\r
`);for(let a=0;a<r.length;a++)r[a]=r[a].trim();const o=r.join(`\r
`).split(`:\r
\r
`);o.shift(),o.forEach(a=>{const l=a.split(`\r
`);if(l.length>=5){const c=l[0].indexOf(":")>=0?l[0].split(":")[1].trim():"",u=l[1].indexOf(":")>=0?l[1].split(":")[1].trim():"",f=l[2].indexOf(":")>=0?l[2].split(":")[1].trim():"",p=l[3].indexOf(":")>=0?l[3].split(":"):[];p.shift();const d=p.join(":").trim(),m=Ya(u);c&&u&&f&&d&&e.push({id:f,iface:c,model:u,vendor:m,mac:d})}}),t&&t(e),n(e)}):(t&&t(e),n(e))})})}Yn.wifiInterfaces=Qa;var Jn={};const Bn=Ge,Za=Be,el=Li,pn=te.exec,ai=te.execSync,b=T;let ct=process.platform;const ke=ct==="linux"||ct==="android",vt=ct==="darwin",ki=ct==="win32",fn=ct==="freebsd",dn=ct==="openbsd",mn=ct==="netbsd",On=ct==="sunos",ce={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},Wt={all:0,list:{},ms:0,result:{}},ye={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},cr={0:"unknown",1:"other",2:"ready",3:"running",4:"blocked",5:"suspended blocked",6:"suspended ready",7:"terminated",8:"stopped",9:"growing"};function tl(t){let n=t,e=t.replace(/ +/g," ").split(" ");return e.length===5&&(n=e[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(e[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+e[2]).slice(-2)+" "+e[3]),n}function nl(t){let n=new Date;n=new Date(n.getTime()-n.getTimezoneOffset()*6e4);const e=t.split("-"),i=e.length-1,s=i>0?parseInt(e[i-1]):0,r=e[i].split(":"),o=r.length===3?parseInt(r[0]||0):0,a=parseInt(r[r.length===3?1:0]||0),l=parseInt(r[r.length===3?2:1]||0),c=(((s*24+o)*60+a)*60+l)*1e3;let u=new Date(n.getTime()),f=u.toISOString().substring(0,10)+" "+u.toISOString().substring(11,19);try{u=new Date(n.getTime()-c),f=u.toISOString().substring(0,10)+" "+u.toISOString().substring(11,19)}catch{b.noop()}return f}function il(t,n){return b.isFunction(t)&&!n&&(n=t,t=""),new Promise(e=>{process.nextTick(()=>{if(typeof t!="string")return n&&n([]),e([]);if(t){let i="";try{i.__proto__.toLowerCase=b.stringToLower,i.__proto__.replace=b.stringReplace,i.__proto__.toString=b.stringToString,i.__proto__.substr=b.stringSubstr,i.__proto__.substring=b.stringSubstring,i.__proto__.trim=b.stringTrim,i.__proto__.startsWith=b.stringStartWith}catch{Object.setPrototypeOf(i,b.stringObj)}const s=b.sanitizeShellString(t),r=b.mathMin(s.length,2e3);for(let c=0;c<=r;c++)s[c]!==void 0&&(i=i+s[c]);i=i.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),i===""&&(i="*"),b.isPrototypePolluted()&&i!=="*"&&(i="------");let o=i.split("|"),a=[],l=[];if(ke||fn||dn||mn||vt){if((ke||fn||dn||mn)&&i==="*")try{const u=ai("systemctl --all --type=service --no-legend 2> /dev/null",b.execOptsLinux).toString().split(`
`);o=[];for(const f of u){const p=f.split(".service")[0];p&&f.indexOf(" not-found ")===-1&&o.push(p.trim())}i=o.join("|")}catch{try{i="";const f=ai("service --status-all 2> /dev/null",b.execOptsLinux).toString().split(`
`);for(const p of f){const d=p.split("]");d.length===2&&(i+=(i!==""?"|":"")+d[1].trim())}o=i.split("|")}catch{try{const p=ai("ls /etc/init.d/ -m 2> /dev/null",b.execOptsLinux).toString().split(`
`).join("");if(i="",p){const d=p.split(",");for(const m of d){const g=m.trim();g&&(i+=(i!==""?"|":"")+g)}o=i.split("|")}}catch{i="",o=[]}}}vt&&i==="*"&&(n&&n(a),e(a));let c=vt?["-caxo","pcpu,pmem,pid,command"]:["-axo","pcpu,pmem,pid,command"];i!==""&&o.length>0?b.execSafe("ps",c).then(u=>{if(u){let f=u.replace(/ +/g," ").replace(/,+/g,".").split(`
`);if(o.forEach(function(p){let d;vt?d=f.filter(function(g){return g.toLowerCase().indexOf(p)!==-1}):d=f.filter(function(g){return g.toLowerCase().indexOf(" "+p.toLowerCase()+":")!==-1||g.toLowerCase().indexOf("("+p.toLowerCase()+" ")!==-1||g.toLowerCase().indexOf("("+p.toLowerCase()+")")!==-1||g.toLowerCase().indexOf(" "+p.toLowerCase().replace(/[0-9.]/g,"")+":")!==-1||g.toLowerCase().indexOf("/"+p.toLowerCase())!==-1});const m=[];for(const g of d){const y=g.trim().split(" ")[2];y&&m.push(parseInt(y,10))}a.push({name:p,running:d.length>0,startmode:"",pids:m,cpu:parseFloat(d.reduce(function(g,y){return g+parseFloat(y.trim().split(" ")[0])},0).toFixed(2)),mem:parseFloat(d.reduce(function(g,y){return g+parseFloat(y.trim().split(" ")[1])},0).toFixed(2))})}),ke){let p='cat /proc/stat | grep "cpu "';for(let d in a)for(let m in a[d].pids)p+=";cat /proc/"+a[d].pids[m]+"/stat";pn(p,{maxBuffer:1024*2e4},function(d,m){let g=m.toString().split(`
`),y=Fi(g.shift()),h={},x={};g.forEach(S=>{if(x=Gi(S,y,Wt),x.pid){let C=-1;for(let w in a)for(let B in a[w].pids)parseInt(a[w].pids[B])===parseInt(x.pid)&&(C=w);C>=0&&(a[C].cpu+=x.cpuu+x.cpus),h[x.pid]={cpuu:x.cpuu,cpus:x.cpus,utime:x.utime,stime:x.stime,cutime:x.cutime,cstime:x.cstime}}}),Wt.all=y,Wt.list=Object.assign({},h),Wt.ms=Date.now()-Wt.ms,Wt.result=Object.assign({},a),n&&n(a),e(a)})}else n&&n(a),e(a)}else c=["-o","comm"],b.execSafe("ps",c).then(f=>{if(f){let p=f.replace(/ +/g," ").replace(/,+/g,".").split(`
`);o.forEach(function(d){let m=p.filter(function(g){return g.indexOf(d)!==-1});a.push({name:d,running:m.length>0,startmode:"",cpu:0,mem:0})}),n&&n(a),e(a)}else o.forEach(function(p){a.push({name:p,running:!1,startmode:"",cpu:0,mem:0})}),n&&n(a),e(a)})}):(n&&n(a),e(a))}if(ki)try{let c="Get-CimInstance Win32_Service";o[0]!=="*"&&(c+=' -Filter "',o.forEach(u=>{c+=`Name='${u}' or `}),c=`${c.slice(0,-4)}"`),c+=" | select Name,Caption,Started,StartMode,ProcessId | fl",b.powerShell(c).then((u,f)=>{f?(o.forEach(function(p){a.push({name:p,running:!1,startmode:"",cpu:0,mem:0})}),n&&n(a),e(a)):(u.split(/\n\s*\n/).forEach(d=>{if(d.trim()!==""){let m=d.trim().split(`\r
`),g=b.getValue(m,"Name",":",!0).toLowerCase(),y=b.getValue(m,"Caption",":",!0).toLowerCase(),h=b.getValue(m,"Started",":",!0),x=b.getValue(m,"StartMode",":",!0),S=b.getValue(m,"ProcessId",":",!0);(i==="*"||o.indexOf(g)>=0||o.indexOf(y)>=0)&&(a.push({name:g,running:h.toLowerCase()==="true",startmode:x,pids:[S],cpu:0,mem:0}),l.push(g),l.push(y))}}),i!=="*"&&o.filter(function(m){return l.indexOf(m)===-1}).forEach(function(m){a.push({name:m,running:!1,startmode:"",pids:[],cpu:0,mem:0})}),n&&n(a),e(a))})}catch{n&&n(a),e(a)}}else n&&n([]),e([])})})}Jn.services=il;function Fi(t){let n=t.replace(/ +/g," ").split(" "),e=n.length>=2?parseInt(n[1]):0,i=n.length>=3?parseInt(n[2]):0,s=n.length>=4?parseInt(n[3]):0,r=n.length>=5?parseInt(n[4]):0,o=n.length>=6?parseInt(n[5]):0,a=n.length>=7?parseInt(n[6]):0,l=n.length>=8?parseInt(n[7]):0,c=n.length>=9?parseInt(n[8]):0,u=n.length>=10?parseInt(n[9]):0,f=n.length>=11?parseInt(n[10]):0;return e+i+s+r+o+a+l+c+u+f}function Gi(t,n,e){let i=t.replace(/ +/g," ").split(")");if(i.length>=2){let s=i[1].split(" ");if(s.length>=16){let r=parseInt(i[0].split(" ")[0]),o=parseInt(s[12]),a=parseInt(s[13]),l=parseInt(s[14]),c=parseInt(s[15]),u=0,f=0;return e.all>0&&e.list[r]?(u=(o+l-e.list[r].utime-e.list[r].cutime)/(n-e.all)*100,f=(a+c-e.list[r].stime-e.list[r].cstime)/(n-e.all)*100):(u=(o+l)/n*100,f=(a+c)/n*100),{pid:r,utime:o,stime:a,cutime:l,cstime:c,cpuu:u,cpus:f}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}function rs(t,n,e){let i=0,s=0;return e.all>0&&e.list[t.pid]?(i=(t.utime-e.list[t.pid].utime)/(n-e.all)*100,s=(t.stime-e.list[t.pid].stime)/(n-e.all)*100):(i=t.utime/n*100,s=t.stime/n*100),{pid:t.pid,utime:t.utime,stime:t.stime,cpuu:i>0?i:0,cpus:s>0?s:0}}function rl(t){let n=[];function e(o){o=o||"";let a=o.split(" ")[0];if(a.substr(-1)===":"&&(a=a.substr(0,a.length-1)),a.substr(0,1)!=="["){let l=a.split("/");isNaN(parseInt(l[l.length-1]))?a=l[l.length-1]:a=l[0]}return a}function i(o){let a=0,l=0;function c(U){a=l,n[U]?l=o.substring(n[U].to+a,1e4).indexOf(" "):l=1e4}c(0);const u=parseInt(o.substring(n[0].from+a,n[0].to+l));c(1);const f=parseInt(o.substring(n[1].from+a,n[1].to+l));c(2);const p=parseFloat(o.substring(n[2].from+a,n[2].to+l).replace(/,/g,"."));c(3);const d=parseFloat(o.substring(n[3].from+a,n[3].to+l).replace(/,/g,"."));c(4);const m=parseInt(o.substring(n[4].from+a,n[4].to+l));c(5);const g=parseInt(o.substring(n[5].from+a,n[5].to+l));c(6);const y=parseInt(o.substring(n[6].from+a,n[6].to+l));c(7);const h=parseInt(o.substring(n[7].from+a,n[7].to+l))||0;c(8);const x=On?tl(o.substring(n[8].from+a,n[8].to+l).trim()):nl(o.substring(n[8].from+a,n[8].to+l).trim());c(9);let S=o.substring(n[9].from+a,n[9].to+l).trim();S=S[0]==="R"?"running":S[0]==="S"?"sleeping":S[0]==="T"?"stopped":S[0]==="W"?"paging":S[0]==="X"?"dead":S[0]==="Z"?"zombie":S[0]==="D"||S[0]==="U"?"blocked":"unknown",c(10);let C=o.substring(n[10].from+a,n[10].to+l).trim();(C==="?"||C==="??")&&(C=""),c(11);const w=o.substring(n[11].from+a,n[11].to+l).trim();c(12);let B="",E="",X="",O=o.substring(n[12].from+a,n[12].to+l).trim();if(O.substr(O.length-1)==="]"&&(O=O.slice(0,-1)),O.substr(0,1)==="[")E=O.substring(1);else{const U=O.indexOf("("),k=O.indexOf(")"),ne=O.indexOf("/"),se=O.indexOf(":");if(U<k&&U<ne&&ne<k)E=O.split(" ")[0],E=E.replace(/:/g,"");else if(se>0&&(ne===-1||ne>3))E=O.split(" ")[0],E=E.replace(/:/g,"");else{let le=O.indexOf(" -"),q=O.indexOf(" /");le=le>=0?le:1e4,q=q>=0?q:1e4;const pe=Math.min(le,q);let H=O.substr(0,pe);const Z=O.substr(pe),z=H.lastIndexOf("/");if(z>=0&&(B=H.substr(0,z),H=H.substr(z+1)),pe===1e4&&H.indexOf(" ")>-1){const G=H.split(" ");Za.existsSync(el.join(B,G[0]))?(E=G.shift(),X=(G.join(" ")+" "+Z).trim()):(E=H.trim(),X=Z.trim())}else E=H.trim(),X=Z.trim()}}return{pid:u,parentPid:f,name:ke?e(E):E,cpu:p,cpuu:0,cpus:0,mem:d,priority:m,memVsz:g,memRss:y,nice:h,started:x,state:S,tty:C,user:w,command:E,params:X,path:B}}function s(o){let a=[];if(o.length>1){let l=o[0];n=b.parseHead(l,8),o.shift(),o.forEach(function(c){c.trim()!==""&&a.push(i(c))})}return a}function r(o){function a(u){const f=("0"+(u.getMonth()+1).toString()).slice(-2),p=u.getFullYear().toString(),d=("0"+u.getDate().toString()).slice(-2),m=("0"+u.getHours().toString()).slice(-2),g=("0"+u.getMinutes().toString()).slice(-2),y=("0"+u.getSeconds().toString()).slice(-2);return p+"-"+f+"-"+d+" "+m+":"+g+":"+y}function l(u){let f="";if(u.indexOf("d")>=0){const p=u.split("d");f=a(new Date(Date.now()-(p[0]*24+p[1]*1)*60*60*1e3))}else if(u.indexOf("h")>=0){const p=u.split("h");f=a(new Date(Date.now()-(p[0]*60+p[1]*1)*60*1e3))}else if(u.indexOf(":")>=0){const p=u.split(":");f=a(new Date(Date.now()-(p.length>1?(p[0]*60+p[1])*1e3:p[0]*1e3)))}return f}let c=[];return o.forEach(function(u){if(u.trim()!==""){u=u.trim().replace(/ +/g," ").replace(/,+/g,".");const f=u.split(" "),p=f.slice(9).join(" "),d=parseFloat((1*parseInt(f[3])*1024/Bn.totalmem()).toFixed(1)),m=l(f[5]);c.push({pid:parseInt(f[0]),parentPid:parseInt(f[1]),name:e(p),cpu:0,cpuu:0,cpus:0,mem:d,priority:0,memVsz:parseInt(f[2]),memRss:parseInt(f[3]),nice:parseInt(f[4]),started:m,state:f[6]==="R"?"running":f[6]==="S"?"sleeping":f[6]==="T"?"stopped":f[6]==="W"?"paging":f[6]==="X"?"dead":f[6]==="Z"?"zombie":f[6]==="D"||f[6]==="U"?"blocked":"unknown",tty:f[7],user:f[8],command:p})}}),c}return new Promise(o=>{process.nextTick(()=>{let a={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},l="";if(ce.ms&&Date.now()-ce.ms>=500||ce.ms===0)if(ke||fn||dn||mn||vt||On)ke&&(l="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,etime:30,state:5,tty:15,user:20,command; unset LC_ALL"),(fn||dn||mn)&&(l="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,etime,state,tty,user,command; unset LC_ALL"),vt&&(l="ps -axo pid,ppid,pcpu,pmem,pri,vsz=temp_title_1,rss=temp_title_2,nice,etime=temp_title_3,state,tty,user,command -r"),On&&(l="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm"),pn(l,{maxBuffer:1024*2e4},function(c,u){!c&&u.toString().trim()?(a.list=s(u.toString().split(`
`)).slice(),a.all=a.list.length,a.running=a.list.filter(function(f){return f.state==="running"}).length,a.blocked=a.list.filter(function(f){return f.state==="blocked"}).length,a.sleeping=a.list.filter(function(f){return f.state==="sleeping"}).length,ke?(l='cat /proc/stat | grep "cpu "',a.list.forEach(f=>{l+=";cat /proc/"+f.pid+"/stat"}),pn(l,{maxBuffer:1024*2e4},function(f,p){let d=p.toString().split(`
`),m=Fi(d.shift()),g={},y={};d.forEach(h=>{if(y=Gi(h,m,ce),y.pid){let x=a.list.map(function(S){return S.pid}).indexOf(y.pid);x>=0&&(a.list[x].cpu=y.cpuu+y.cpus,a.list[x].cpuu=y.cpuu,a.list[x].cpus=y.cpus),g[y.pid]={cpuu:y.cpuu,cpus:y.cpus,utime:y.utime,stime:y.stime,cutime:y.cutime,cstime:y.cstime}}}),ce.all=m,ce.list=Object.assign({},g),ce.ms=Date.now()-ce.ms,ce.result=Object.assign({},a),t&&t(a),o(a)})):(t&&t(a),o(a))):(l="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",On&&(l="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm"),pn(l,{maxBuffer:1024*2e4},function(f,p){if(f)t&&t(a),o(a);else{let d=p.toString().split(`
`);d.shift(),a.list=r(d).slice(),a.all=a.list.length,a.running=a.list.filter(function(m){return m.state==="running"}).length,a.blocked=a.list.filter(function(m){return m.state==="blocked"}).length,a.sleeping=a.list.filter(function(m){return m.state==="sleeping"}).length,t&&t(a),o(a)}}))});else if(ki)try{b.powerShell('Get-CimInstance Win32_Process | select-Object ProcessId,ParentProcessId,ExecutionState,Caption,CommandLine,ExecutablePath,UserModeTime,KernelModeTime,WorkingSetSize,Priority,PageFileUsage, @{n="CreationDate";e={$_.CreationDate.ToString("yyyy-MM-dd HH:mm:ss")}} | fl').then((c,u)=>{if(!u){let f=c.split(/\n\s*\n/),p=[],d=[],m={},g=0,y=0;f.forEach(h=>{if(h.trim()!==""){let x=h.trim().split(`\r
`),S=parseInt(b.getValue(x,"ProcessId",":",!0),10),C=parseInt(b.getValue(x,"ParentProcessId",":",!0),10),w=b.getValue(x,"ExecutionState",":"),B=b.getValue(x,"Caption",":",!0),E=b.getValue(x,"CommandLine",":",!0),X=!1;x.forEach(se=>{X&&se.toLowerCase().startsWith(" ")?E+=" "+se.trim():X=!1,se.toLowerCase().startsWith("commandline")&&(X=!0)});let O=b.getValue(x,"ExecutablePath",":",!0),U=parseInt(b.getValue(x,"UserModeTime",":",!0),10),k=parseInt(b.getValue(x,"KernelModeTime",":",!0),10),ne=parseInt(b.getValue(x,"WorkingSetSize",":",!0),10);g=g+U,y=y+k,a.all++,w||a.unknown++,w==="3"&&a.running++,(w==="4"||w==="5")&&a.blocked++,d.push({pid:S,utime:U,stime:k,cpu:0,cpuu:0,cpus:0}),p.push({pid:S,parentPid:C,name:B,cpu:0,cpuu:0,cpus:0,mem:ne/Bn.totalmem()*100,priority:parseInt(b.getValue(x,"Priority",":",!0),10),memVsz:parseInt(b.getValue(x,"PageFileUsage",":",!0),10),memRss:Math.floor(parseInt(b.getValue(x,"WorkingSetSize",":",!0),10)/1024),nice:0,started:b.getValue(x,"CreationDate",":",!0),state:w?cr[w]:cr[0],tty:"",user:"",command:E||B,path:O,params:""})}}),a.sleeping=a.all-a.running-a.blocked-a.unknown,a.list=p,d.forEach(h=>{let x=rs(h,g+y,ce),S=a.list.map(function(C){return C.pid}).indexOf(x.pid);S>=0&&(a.list[S].cpu=x.cpuu+x.cpus,a.list[S].cpuu=x.cpuu,a.list[S].cpus=x.cpus),m[x.pid]={cpuu:x.cpuu,cpus:x.cpus,utime:x.utime,stime:x.stime}}),ce.all=g+y,ce.all_utime=g,ce.all_stime=y,ce.list=Object.assign({},m),ce.ms=Date.now()-ce.ms,ce.result=Object.assign({},a)}t&&t(a),o(a)})}catch{t&&t(a),o(a)}else t&&t(a),o(a);else t&&t(ce.result),o(ce.result)})})}Jn.processes=rl;function sl(t,n){return b.isFunction(t)&&!n&&(n=t,t=""),new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return n&&n([]),e([]);let i="";try{i.__proto__.toLowerCase=b.stringToLower,i.__proto__.replace=b.stringReplace,i.__proto__.toString=b.stringToString,i.__proto__.substr=b.stringSubstr,i.__proto__.substring=b.stringSubstring,i.__proto__.trim=b.stringTrim,i.__proto__.startsWith=b.stringStartWith}catch{Object.setPrototypeOf(i,b.stringObj)}const s=b.sanitizeShellString(t),r=b.mathMin(s.length,2e3);for(let c=0;c<=r;c++)s[c]!==void 0&&(i=i+s[c]);i=i.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),i===""&&(i="*"),b.isPrototypePolluted()&&i!=="*"&&(i="------");let o=i.split("|"),a=[];if((b.isPrototypePolluted()?"":b.sanitizeShellString(t)||"*")&&o.length&&o[0]!=="------"){if(ki)try{b.powerShell("Get-CimInstance Win32_Process | select ProcessId,Caption,UserModeTime,KernelModeTime,WorkingSetSize | fl").then((c,u)=>{if(!u){let f=c.split(/\n\s*\n/),p=[],d={},m=0,g=0;f.forEach(y=>{if(y.trim()!==""){let h=y.trim().split(`\r
`),x=parseInt(b.getValue(h,"ProcessId",":",!0),10),S=b.getValue(h,"Caption",":",!0),C=parseInt(b.getValue(h,"UserModeTime",":",!0),10),w=parseInt(b.getValue(h,"KernelModeTime",":",!0),10),B=parseInt(b.getValue(h,"WorkingSetSize",":",!0),10);m=m+C,g=g+w,p.push({pid:x,name:S,utime:C,stime:w,cpu:0,cpuu:0,cpus:0,mem:B});let E="",X=!1;if(o.forEach(function(O){S.toLowerCase().indexOf(O.toLowerCase())>=0&&!X&&(X=!0,E=O)}),i==="*"||X){let O=!1;a.forEach(function(U){U.proc.toLowerCase()===E.toLowerCase()&&(U.pids.push(x),U.mem+=B/Bn.totalmem()*100,O=!0)}),O||a.push({proc:E,pid:x,pids:[x],cpu:0,mem:B/Bn.totalmem()*100})}}}),i!=="*"&&o.filter(function(h){return p.filter(function(x){return x.name.toLowerCase().indexOf(h)>=0}).length===0}).forEach(function(h){a.push({proc:h,pid:null,pids:[],cpu:0,mem:0})}),p.forEach(y=>{let h=rs(y,m+g,ye),x=-1;for(let S=0;S<a.length;S++)(a[S].pid===h.pid||a[S].pids.indexOf(h.pid)>=0)&&(x=S);x>=0&&(a[x].cpu+=h.cpuu+h.cpus),d[h.pid]={cpuu:h.cpuu,cpus:h.cpus,utime:h.utime,stime:h.stime}}),ye.all=m+g,ye.all_utime=m,ye.all_stime=g,ye.list=Object.assign({},d),ye.ms=Date.now()-ye.ms,ye.result=JSON.parse(JSON.stringify(a)),n&&n(a),e(a)}})}catch{n&&n(a),e(a)}if(vt||ke||fn||dn||mn){const c=["-axo","pid,ppid,pcpu,pmem,comm"];b.execSafe("ps",c).then(u=>{if(u){let f=[],p=u.toString().split(`
`).filter(function(d){if(i==="*")return!0;if(d.toLowerCase().indexOf("grep")!==-1)return!1;let m=!1;return o.forEach(function(g){m=m||d.toLowerCase().indexOf(g.toLowerCase())>=0}),m});if(p.shift(),p.forEach(function(d){let m=d.trim().replace(/ +/g," ").split(" ");if(m.length>4){const g=m[4].indexOf("/")>=0?m[4].substring(0,m[4].indexOf("/")):m[4],y=ke?g:m[4].substring(m[4].lastIndexOf("/")+1);f.push({name:y,pid:parseInt(m[0])||0,ppid:parseInt(m[1])||0,cpu:parseFloat(m[2].replace(",",".")),mem:parseFloat(m[3].replace(",","."))})}}),f.forEach(function(d){let m=-1,g=!1,y=d.name;for(let h=0;h<a.length;h++)d.name.toLowerCase().indexOf(a[h].proc.toLowerCase())>=0&&(m=h);o.forEach(function(h){d.name.toLowerCase().indexOf(h.toLowerCase())>=0&&!g&&(g=!0,y=h)}),(i==="*"||g)&&(m<0?y&&a.push({proc:y,pid:d.pid,pids:[d.pid],cpu:d.cpu,mem:d.mem}):(d.ppid<10&&(a[m].pid=d.pid),a[m].pids.push(d.pid),a[m].cpu+=d.cpu,a[m].mem+=d.mem))}),i!=="*"&&o.filter(function(m){return f.filter(function(g){return g.name.toLowerCase().indexOf(m)>=0}).length===0}).forEach(function(m){a.push({proc:m,pid:null,pids:[],cpu:0,mem:0})}),ke){a.forEach(function(m){m.cpu=0});let d='cat /proc/stat | grep "cpu "';for(let m in a)for(let g in a[m].pids)d+=";cat /proc/"+a[m].pids[g]+"/stat";pn(d,{maxBuffer:1024*2e4},function(m,g){let y=g.toString().split(`
`),h=Fi(y.shift()),x={},S={};y.forEach(C=>{if(S=Gi(C,h,ye),S.pid){let w=-1;for(let B in a)a[B].pids.indexOf(S.pid)>=0&&(w=B);w>=0&&(a[w].cpu+=S.cpuu+S.cpus),x[S.pid]={cpuu:S.cpuu,cpus:S.cpus,utime:S.utime,stime:S.stime,cutime:S.cutime,cstime:S.cstime}}}),a.forEach(function(C){C.cpu=Math.round(C.cpu*100)/100}),ye.all=h,ye.list=Object.assign({},x),ye.ms=Date.now()-ye.ms,ye.result=Object.assign({},a),n&&n(a),e(a)})}else n&&n(a),e(a)}else n&&n(a),e(a)})}}})})}Jn.processLoad=sl;var ss={};const rn=te.exec,Ue=T;let ut=process.platform;const ol=ut==="linux"||ut==="android",al=ut==="darwin",ll=ut==="win32",cl=ut==="freebsd",ul=ut==="openbsd",pl=ut==="netbsd",fl=ut==="sunos";function ur(t,n){let e=[],i=[],s={},r=!0,o=[],a=[],l={},c=!0;return t.forEach(function(u){if(u==="---")c=!1;else{let f=u.replace(/ +/g," ").split(" ");c?i.push({user:f[0],tty:f[1],date:f[2],time:f[3],ip:f&&f.length>4?f[4].replace(/\(/g,"").replace(/\)/g,""):""}):r?(o=f,o.forEach(function(p){a.push(u.indexOf(p))}),r=!1):(s.user=u.substring(a[0],a[1]-1).trim(),s.tty=u.substring(a[1],a[2]-1).trim(),s.ip=u.substring(a[2],a[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),s.command=u.substring(a[7],1e3).trim(),l=i.filter(function(p){return p.user.substring(0,8).trim()===s.user&&p.tty===s.tty}),l.length===1&&e.push({user:l[0].user,tty:l[0].tty,date:l[0].date,time:l[0].time,ip:l[0].ip,command:s.command}))}}),e.length===0&&n===2?i:e}function li(t){let n=[],e=[],i={},s={},r=!0;return t.forEach(function(o){if(o==="---")r=!1;else{let a=o.replace(/ +/g," ").split(" ");if(r){let l=""+new Date().getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(a[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+a[3]).slice(-2);try{new Date(l)>new Date&&(l=""+(new Date().getFullYear()-1)+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(a[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+a[3]).slice(-2))}catch{Ue.noop()}e.push({user:a[0],tty:a[1],date:l,time:a[4]})}else i.user=a[0],i.tty=a[1],i.ip=a[2]!=="-"?a[2]:"",i.command=a.slice(5,1e3).join(" "),s=e.filter(function(l){return l.user.substring(0,10)===i.user.substring(0,10)&&(l.tty.substring(3,1e3)===i.tty||l.tty===i.tty)}),s.length===1&&n.push({user:s[0].user,tty:s[0].tty,date:s[0].date,time:s[0].time,ip:i.ip,command:i.command})}}),n}function dl(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(ol&&rn('export LC_ALL=C; who --ips; echo "---"; w; unset LC_ALL | tail -n +2',function(i,s){if(i)t&&t(e),n(e);else{let r=s.toString().split(`
`);e=ur(r,1),e.length===0?rn('who; echo "---"; w | tail -n +2',function(o,a){o||(r=a.toString().split(`
`),e=ur(r,2)),t&&t(e),n(e)}):(t&&t(e),n(e))}}),(cl||ul||pl)&&rn('who; echo "---"; w -ih',function(i,s){if(!i){let r=s.toString().split(`
`);e=li(r)}t&&t(e),n(e)}),fl&&rn('who; echo "---"; w -h',function(i,s){if(!i){let r=s.toString().split(`
`);e=li(r)}t&&t(e),n(e)}),al&&rn('export LC_ALL=C; who; echo "---"; w -ih; unset LC_ALL',function(i,s){if(!i){let r=s.toString().split(`
`);e=li(r)}t&&t(e),n(e)}),ll)try{let i=`Get-CimInstance Win32_LogonSession | select LogonId,@{n="StartTime";e={$_.StartTime.ToString("yyyy-MM-dd HH:mm:ss")}} | fl; echo '#-#-#-#';`;i+="Get-CimInstance Win32_LoggedOnUser | select antecedent,dependent | fl ; echo '#-#-#-#';",i+=`$process = (Get-CimInstance Win32_Process -Filter "name = 'explorer.exe'"); Invoke-CimMethod -InputObject $process[0] -MethodName GetOwner | select user, domain | fl; get-process -name explorer | select-object sessionid | fl; echo '#-#-#-#';`,i+="query user",Ue.powerShell(i).then(s=>{if(s){s=s.split("#-#-#-#");let r=ml((s[0]||"").split(/\n\s*\n/)),o=xl((s[1]||"").split(/\n\s*\n/)),a=yl((s[3]||"").split(`\r
`)),l=hl((s[2]||"").split(/\n\s*\n/),a);for(let c in o)({}).hasOwnProperty.call(o,c)&&(o[c].dateTime={}.hasOwnProperty.call(r,c)?r[c]:"");l.forEach(c=>{let u="";for(let f in o)({}).hasOwnProperty.call(o,f)&&o[f].user===c.user&&(!u||u<o[f].dateTime)&&(u=o[f].dateTime);e.push({user:c.user,tty:c.tty,date:`${u.substring(0,10)}`,time:`${u.substring(11,19)}`,ip:"",command:""})})}t&&t(e),n(e)})}catch{t&&t(e),n(e)}})})}function ml(t){const n={};return t.forEach(e=>{const i=e.split(`\r
`),s=Ue.getValue(i,"LogonId"),r=Ue.getValue(i,"starttime");s&&(n[s]=r)}),n}function gl(t,n){t=t.toLowerCase(),n=n.toLowerCase();let e=0,i=t.length;n.length>i&&(i=n.length);for(let s=0;s<i;s++){const r=t[s]||"",o=n[s]||"";r===o&&e++}return i>10?e/i>.9:i>0?e/i>.8:!1}function hl(t,n){const e=[];return t.forEach(i=>{const s=i.split(`\r
`),r=Ue.getValue(s,"domain",":",!0),o=Ue.getValue(s,"user",":",!0),a=Ue.getValue(s,"sessionid",":",!0);if(o){const l=n.filter(c=>gl(c.user,o));e.push({domain:r,user:o,tty:l&&l[0]&&l[0].tty?l[0].tty:a})}}),e}function xl(t){const n={};return t.forEach(e=>{const i=e.split(`\r
`);let r=Ue.getValue(i,"antecedent",":",!0).split("=");const o=r.length>2?r[1].split(",")[0].replace(/"/g,"").trim():"",a=r.length>2?r[2].replace(/"/g,"").replace(/\)/g,"").trim():"";r=Ue.getValue(i,"dependent",":",!0).split("=");const c=r.length>1?r[1].replace(/"/g,"").replace(/\)/g,"").trim():"";c&&(n[c]={domain:a,user:o})}),n}function yl(t){t=t.filter(s=>s);let n=[];const e=t[0],i=[];if(e){const s=e[0]===" "?1:0;i.push(s-1);let r=0;for(let o=s+1;o<e.length;o++)e[o]===" "&&(e[o-1]===" "||e[o-1]===".")?r=o:r&&(i.push(r),r=0);for(let o=1;o<t.length;o++)if(t[o].trim()){const a=t[o].substring(i[0]+1,i[1]).trim()||"",l=t[o].substring(i[1]+1,i[2]-2).trim()||"";n.push({user:a,tty:l})}}return n}ss.users=dl;var Wi={};const oe=T;let pt=process.platform;const pr=pt==="linux"||pt==="android",fr=pt==="darwin",Sl=pt==="win32",dr=pt==="freebsd",mr=pt==="openbsd",gr=pt==="netbsd",Cl=pt==="sunos";function wl(t,n){return new Promise(e=>{process.nextTick(()=>{let i={url:t,ok:!1,status:404,ms:null};if(typeof t!="string")return n&&n(i),e(i);let s="";const r=oe.sanitizeShellString(t,!0),o=oe.mathMin(r.length,2e3);for(let a=0;a<=o;a++)if(r[a]!==void 0){try{r[a].__proto__.toLowerCase=oe.stringToLower}catch{Object.setPrototypeOf(r[a],oe.stringObj)}const l=r[a].toLowerCase();l&&l[0]&&!l[1]&&l[0].length===1&&(s=s+l[0])}i.url=s;try{if(s&&!oe.isPrototypePolluted()){try{s.__proto__.startsWith=oe.stringStartWith}catch{Object.setPrototypeOf(s,oe.stringObj)}if(s.startsWith("file:")||s.startsWith("gopher:")||s.startsWith("telnet:")||s.startsWith("mailto:")||s.startsWith("news:")||s.startsWith("nntp:"))return n&&n(i),e(i);oe.checkWebsite(s).then(a=>{i.status=a.statusCode,i.ok=a.statusCode>=200&&a.statusCode<=399,i.ms=i.ok?a.time:null,n&&n(i),e(i)})}else n&&n(i),e(i)}catch{n&&n(i),e(i)}})})}Wi.inetChecksite=wl;function Ll(t,n){return oe.isFunction(t)&&!n&&(n=t,t=""),t=t||"8.8.8.8",new Promise(e=>{process.nextTick(()=>{if(typeof t!="string")return n&&n(null),e(null);let i="";const s=(oe.isPrototypePolluted()?"8.8.8.8":oe.sanitizeShellString(t,!0)).trim(),r=oe.mathMin(s.length,2e3);for(let a=0;a<=r;a++)if(s[a]!==void 0){try{s[a].__proto__.toLowerCase=oe.stringToLower}catch{Object.setPrototypeOf(s[a],oe.stringObj)}const l=s[a].toLowerCase();l&&l[0]&&!l[1]&&(i=i+l[0])}try{i.__proto__.startsWith=oe.stringStartWith}catch{Object.setPrototypeOf(i,oe.stringObj)}if(i.startsWith("file:")||i.startsWith("gopher:")||i.startsWith("telnet:")||i.startsWith("mailto:")||i.startsWith("news:")||i.startsWith("nntp:"))return n&&n(null),e(null);let o;if((pr||dr||mr||gr||fr)&&(pr&&(o=["-c","2","-w","3",i]),(dr||mr||gr)&&(o=["-c","2","-t","3",i]),fr&&(o=["-c2","-t3",i]),oe.execSafe("ping",o).then(a=>{let l=null;if(a){const u=a.split(`
`).filter(f=>f.indexOf("rtt")>=0||f.indexOf("round-trip")>=0||f.indexOf("avg")>=0).join(`
`).split("=");if(u.length>1){const f=u[1].split("/");f.length>1&&(l=parseFloat(f[1]))}}n&&n(l),e(l)})),Cl){const a=["-s","-a",i,"56","2"],l="avg";oe.execSafe("ping",a,{timeout:3e3}).then(c=>{let u=null;if(c){const p=c.split(`
`).filter(d=>d.indexOf(l)>=0).join(`
`).split("=");if(p.length>1){const d=p[1].split("/");d.length>1&&(u=parseFloat(d[1].replace(",",".")))}}n&&n(u),e(u)})}if(Sl){let a=null;try{const l=[i,"-n","1"];oe.execSafe("ping",l,oe.execOptsWin).then(c=>{if(c){let u=c.split(`\r
`);u.shift(),u.forEach(function(f){if((f.toLowerCase().match(/ms/g)||[]).length===3){let p=f.replace(/ +/g," ").split(" ");p.length>6&&(a=parseFloat(p[p.length-1]))}})}n&&n(a),e(a)})}catch{n&&n(a),e(a)}}})})}Wi.inetLatency=Ll;var xt={};const Xe=ys,Il=Ge.type()==="Windows_NT",Ke=Il?"//./pipe/docker_engine":"/var/run/docker.sock";let _l=class{getInfo(n){try{let e=Xe.createConnection({path:Ke}),i="",s;e.on("connect",()=>{e.write(`GET http:/info HTTP/1.0\r
\r
`)}),e.on("data",r=>{i=i+r.toString()}),e.on("error",()=>{e=!1,n({})}),e.on("end",()=>{let r=i.indexOf(`\r
\r
`);i=i.substring(r+4),e=!1;try{s=JSON.parse(i),n(s)}catch{n({})}})}catch{n({})}}listImages(n,e){try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/images/json"+(n?"?all=1":"")+` HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}}inspectImage(n,e){if(n=n||"",n)try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/images/"+n+`/json?stream=0 HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}else e({})}listContainers(n,e){try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/containers/json"+(n?"?all=1":"")+` HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}}getStats(n,e){if(n=n||"",n)try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/containers/"+n+`/stats?stream=0 HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}else e({})}getInspect(n,e){if(n=n||"",n)try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/containers/"+n+`/json?stream=0 HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}else e({})}getProcesses(n,e){if(n=n||"",n)try{let i=Xe.createConnection({path:Ke}),s="",r;i.on("connect",()=>{i.write("GET http:/containers/"+n+`/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r
\r
`)}),i.on("data",o=>{s=s+o.toString()}),i.on("error",()=>{i=!1,e({})}),i.on("end",()=>{let o=s.indexOf(`\r
\r
`);s=s.substring(o+4),i=!1;try{r=JSON.parse(s),e(r)}catch{e({})}})}catch{e({})}else e({})}listVolumes(n){try{let e=Xe.createConnection({path:Ke}),i="",s;e.on("connect",()=>{e.write(`GET http:/volumes HTTP/1.0\r
\r
`)}),e.on("data",r=>{i=i+r.toString()}),e.on("error",()=>{e=!1,n({})}),e.on("end",()=>{let r=i.indexOf(`\r
\r
`);i=i.substring(r+4),e=!1;try{s=JSON.parse(i),n(s)}catch{n({})}})}catch{n({})}}};var Ol=_l;const ie=T,yt=Ol;let Pl=process.platform;const vl=Pl==="win32";let Rt={},re,ci=0;function Ml(t){return new Promise(n=>{process.nextTick(()=>{re||(re=new yt);const e={};re.getInfo(i=>{e.id=i.ID,e.containers=i.Containers,e.containersRunning=i.ContainersRunning,e.containersPaused=i.ContainersPaused,e.containersStopped=i.ContainersStopped,e.images=i.Images,e.driver=i.Driver,e.memoryLimit=i.MemoryLimit,e.swapLimit=i.SwapLimit,e.kernelMemory=i.KernelMemory,e.cpuCfsPeriod=i.CpuCfsPeriod,e.cpuCfsQuota=i.CpuCfsQuota,e.cpuShares=i.CPUShares,e.cpuSet=i.CPUSet,e.ipv4Forwarding=i.IPv4Forwarding,e.bridgeNfIptables=i.BridgeNfIptables,e.bridgeNfIp6tables=i.BridgeNfIp6tables,e.debug=i.Debug,e.nfd=i.NFd,e.oomKillDisable=i.OomKillDisable,e.ngoroutines=i.NGoroutines,e.systemTime=i.SystemTime,e.loggingDriver=i.LoggingDriver,e.cgroupDriver=i.CgroupDriver,e.nEventsListener=i.NEventsListener,e.kernelVersion=i.KernelVersion,e.operatingSystem=i.OperatingSystem,e.osType=i.OSType,e.architecture=i.Architecture,e.ncpu=i.NCPU,e.memTotal=i.MemTotal,e.dockerRootDir=i.DockerRootDir,e.httpProxy=i.HttpProxy,e.httpsProxy=i.HttpsProxy,e.noProxy=i.NoProxy,e.name=i.Name,e.labels=i.Labels,e.experimentalBuild=i.ExperimentalBuild,e.serverVersion=i.ServerVersion,e.clusterStore=i.ClusterStore,e.clusterAdvertise=i.ClusterAdvertise,e.defaultRuntime=i.DefaultRuntime,e.liveRestoreEnabled=i.LiveRestoreEnabled,e.isolation=i.Isolation,e.initBinary=i.InitBinary,e.productLicense=i.ProductLicense,t&&t(e),n(e)})})})}xt.dockerInfo=Ml;function Al(t,n){ie.isFunction(t)&&!n&&(n=t,t=!1),typeof t=="string"&&t==="true"&&(t=!0),typeof t!="boolean"&&t!==void 0&&(t=!1),t=t||!1;let e=[];return new Promise(i=>{process.nextTick(()=>{re||(re=new yt);const s=[];re.listImages(t,r=>{let o={};try{o=r,o&&Object.prototype.toString.call(o)==="[object Array]"&&o.length>0?(o.forEach(function(a){a.Names&&Object.prototype.toString.call(a.Names)==="[object Array]"&&a.Names.length>0&&(a.Name=a.Names[0].replace(/^\/|\/$/g,"")),s.push(El(a.Id.trim(),a))}),s.length?Promise.all(s).then(a=>{n&&n(a),i(a)}):(n&&n(e),i(e))):(n&&n(e),i(e))}catch{n&&n(e),i(e)}})})})}function El(t,n){return new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return e();const i=(ie.isPrototypePolluted()?"":ie.sanitizeShellString(t,!0)).trim();i?(re||(re=new yt),re.inspectImage(i.trim(),s=>{try{e({id:n.Id,container:s.Container,comment:s.Comment,os:s.Os,architecture:s.Architecture,parent:s.Parent,dockerVersion:s.DockerVersion,size:s.Size,sharedSize:n.SharedSize,virtualSize:s.VirtualSize,author:s.Author,created:s.Created?Math.round(new Date(s.Created).getTime()/1e3):0,containerConfig:s.ContainerConfig?s.ContainerConfig:{},graphDriver:s.GraphDriver?s.GraphDriver:{},repoDigests:s.RepoDigests?s.RepoDigests:{},repoTags:s.RepoTags?s.RepoTags:{},config:s.Config?s.Config:{},rootFS:s.RootFS?s.RootFS:{}})}catch{e()}})):e()})})}xt.dockerImages=Al;function Ri(t,n){function e(s,r){return s.filter(a=>a.Id&&a.Id===r).length>0}ie.isFunction(t)&&!n&&(n=t,t=!1),typeof t=="string"&&t==="true"&&(t=!0),typeof t!="boolean"&&t!==void 0&&(t=!1),t=t||!1;let i=[];return new Promise(s=>{process.nextTick(()=>{re||(re=new yt);const r=[];re.listContainers(t,o=>{let a={};try{if(a=o,a&&Object.prototype.toString.call(a)==="[object Array]"&&a.length>0){for(let l in Rt)({}).hasOwnProperty.call(Rt,l)&&(e(a,l)||delete Rt[l]);a.forEach(function(l){l.Names&&Object.prototype.toString.call(l.Names)==="[object Array]"&&l.Names.length>0&&(l.Name=l.Names[0].replace(/^\/|\/$/g,"")),r.push(Tl(l.Id.trim(),l))}),r.length?Promise.all(r).then(l=>{n&&n(l),s(l)}):(n&&n(i),s(i))}else n&&n(i),s(i)}catch{for(let c in Rt)({}).hasOwnProperty.call(Rt,c)&&(e(a,c)||delete Rt[c]);n&&n(i),s(i)}})})})}function Tl(t,n){return new Promise(e=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return e();const i=(ie.isPrototypePolluted()?"":ie.sanitizeShellString(t,!0)).trim();i?(re||(re=new yt),re.getInspect(i.trim(),s=>{try{e({id:n.Id,name:n.Name,image:n.Image,imageID:n.ImageID,command:n.Command,created:n.Created,started:s.State&&s.State.StartedAt?Math.round(new Date(s.State.StartedAt).getTime()/1e3):0,finished:s.State&&s.State.FinishedAt&&!s.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(s.State.FinishedAt).getTime()/1e3):0,createdAt:s.Created?s.Created:"",startedAt:s.State&&s.State.StartedAt?s.State.StartedAt:"",finishedAt:s.State&&s.State.FinishedAt&&!s.State.FinishedAt.startsWith("0001-01-01")?s.State.FinishedAt:"",state:n.State,restartCount:s.RestartCount||0,platform:s.Platform||"",driver:s.Driver||"",ports:n.Ports,mounts:n.Mounts})}catch{e()}})):e()})})}xt.dockerContainers=Ri;function Dl(t,n){if(vl){let e=ie.nanoSeconds(),i=0;if(ci>0){let s=e-ci,r=t.cpu_usage.total_usage-n.cpu_usage.total_usage;s>0&&(i=100*r/s)}return ci=e,i}else{let e=0,i=t.cpu_usage.total_usage-n.cpu_usage.total_usage,s=t.system_cpu_usage-n.system_cpu_usage;return s>0&&i>0&&(n.online_cpus?e=i/s*n.online_cpus*100:e=i/s*t.cpu_usage.percpu_usage.length*100),e}}function Vl(t){let n,e;for(let i in t){if(!{}.hasOwnProperty.call(t,i))continue;let s=t[i];n=+s.rx_bytes,e=+s.tx_bytes}return{rx:n,wx:e}}function bl(t){let n={r:0,w:0};return t&&t.io_service_bytes_recursive&&Object.prototype.toString.call(t.io_service_bytes_recursive)==="[object Array]"&&t.io_service_bytes_recursive.length>0&&t.io_service_bytes_recursive.forEach(function(e){e.op&&e.op.toLowerCase()==="read"&&e.value&&(n.r+=e.value),e.op&&e.op.toLowerCase()==="write"&&e.value&&(n.w+=e.value)}),n}function zi(t,n){let e=[];return new Promise(i=>{process.nextTick(()=>{if(ie.isFunction(t)&&!n)n=t,e=["*"];else{if(t=t||"*",typeof t!="string")return n&&n([]),i([]);let o="";try{o.__proto__.toLowerCase=ie.stringToLower,o.__proto__.replace=ie.stringReplace,o.__proto__.toString=ie.stringToString,o.__proto__.substr=ie.stringSubstr,o.__proto__.substring=ie.stringSubstring,o.__proto__.trim=ie.stringTrim,o.__proto__.startsWith=ie.stringStartWith}catch{Object.setPrototypeOf(o,ie.stringObj)}if(o=t,o=o.trim(),o!=="*"){o="";const a=(ie.isPrototypePolluted()?"":ie.sanitizeShellString(t,!0)).trim(),l=ie.mathMin(a.length,2e3);for(let c=0;c<=l;c++)if(a[c]!==void 0){a[c].__proto__.toLowerCase=ie.stringToLower;const u=a[c].toLowerCase();u&&u[0]&&!u[1]&&(o=o+u[0])}}o=o.trim().toLowerCase().replace(/,+/g,"|"),e=o.split("|")}const s=[],r=[];if(e.length&&e[0].trim()==="*")e=[],Ri().then(o=>{for(let a of o)e.push(a.id.substring(0,12));e.length?zi(e.join(",")).then(a=>{n&&n(a),i(a)}):(n&&n(s),i(s))});else{for(let o of e)r.push(Bl(o.trim()));r.length?Promise.all(r).then(o=>{n&&n(o),i(o)}):(n&&n(s),i(s))}})})}function Bl(t){t=t||"";let n={id:t,memUsage:0,memLimit:0,memPercent:0,cpuPercent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0},restartCount:0,cpuStats:{},precpuStats:{},memoryStats:{},networks:{}};return new Promise(e=>{process.nextTick(()=>{t?(re||(re=new yt),re.getInspect(t,i=>{try{re.getStats(t,s=>{try{let r=s;r.message||(s.id&&(n.id=s.id),n.memUsage=r.memory_stats&&r.memory_stats.usage?r.memory_stats.usage:0,n.memLimit=r.memory_stats&&r.memory_stats.limit?r.memory_stats.limit:0,n.memPercent=r.memory_stats&&r.memory_stats.usage&&r.memory_stats.limit?r.memory_stats.usage/r.memory_stats.limit*100:0,n.cpuPercent=r.cpu_stats&&r.precpu_stats?Dl(r.cpu_stats,r.precpu_stats):0,n.pids=r.pids_stats&&r.pids_stats.current?r.pids_stats.current:0,n.restartCount=i.RestartCount?i.RestartCount:0,r.networks&&(n.netIO=Vl(r.networks)),r.blkio_stats&&(n.blockIO=bl(r.blkio_stats)),n.cpuStats=r.cpu_stats?r.cpu_stats:{},n.precpuStats=r.precpu_stats?r.precpu_stats:{},n.memoryStats=r.memory_stats?r.memory_stats:{},n.networks=r.networks?r.networks:{})}catch{ie.noop()}e(n)})}catch{ie.noop()}})):e(n)})})}xt.dockerContainerStats=zi;function os(t,n){let e=[];return new Promise(i=>{process.nextTick(()=>{if(t=t||"",typeof t!="string")return i(e);const s=(ie.isPrototypePolluted()?"":ie.sanitizeShellString(t,!0)).trim();s?(re||(re=new yt),re.getProcesses(s,r=>{try{if(r&&r.Titles&&r.Processes){let o=r.Titles.map(function(w){return w.toUpperCase()}),a=o.indexOf("PID"),l=o.indexOf("PPID"),c=o.indexOf("PGID"),u=o.indexOf("VSZ"),f=o.indexOf("TIME"),p=o.indexOf("ELAPSED"),d=o.indexOf("NI"),m=o.indexOf("RUSER"),g=o.indexOf("USER"),y=o.indexOf("RGROUP"),h=o.indexOf("GROUP"),x=o.indexOf("STAT"),S=o.indexOf("RSS"),C=o.indexOf("COMMAND");r.Processes.forEach(w=>{e.push({pidHost:a>=0?w[a]:"",ppid:l>=0?w[l]:"",pgid:c>=0?w[c]:"",user:g>=0?w[g]:"",ruser:m>=0?w[m]:"",group:h>=0?w[h]:"",rgroup:y>=0?w[y]:"",stat:x>=0?w[x]:"",time:f>=0?w[f]:"",elapsed:p>=0?w[p]:"",nice:d>=0?w[d]:"",rss:S>=0?w[S]:"",vsz:u>=0?w[u]:"",command:C>=0?w[C]:""})})}}catch{ie.noop()}n&&n(e),i(e)})):(n&&n(e),i(e))})})}xt.dockerContainerProcesses=os;function Nl(t){let n=[];return new Promise(e=>{process.nextTick(()=>{re||(re=new yt),re.listVolumes(i=>{let s={};try{s=i,s&&s.Volumes&&Object.prototype.toString.call(s.Volumes)==="[object Array]"&&s.Volumes.length>0?(s.Volumes.forEach(function(r){n.push({name:r.Name,driver:r.Driver,labels:r.Labels,mountpoint:r.Mountpoint,options:r.Options,scope:r.Scope,created:r.CreatedAt?Math.round(new Date(r.CreatedAt).getTime()/1e3):0})}),t&&t(n),e(n)):(t&&t(n),e(n))}catch{t&&t(n),e(n)}})})})}xt.dockerVolumes=Nl;function kl(t){return new Promise(n=>{process.nextTick(()=>{Ri(!0).then(e=>{if(e&&Object.prototype.toString.call(e)==="[object Array]"&&e.length>0){let i=e.length;e.forEach(function(s){zi(s.id).then(r=>{s.memUsage=r[0].memUsage,s.memLimit=r[0].memLimit,s.memPercent=r[0].memPercent,s.cpuPercent=r[0].cpuPercent,s.pids=r[0].pids,s.netIO=r[0].netIO,s.blockIO=r[0].blockIO,s.cpuStats=r[0].cpuStats,s.precpuStats=r[0].precpuStats,s.memoryStats=r[0].memoryStats,s.networks=r[0].networks,os(s.id).then(o=>{s.processes=o,i-=1,i===0&&(t&&t(e),n(e))})})})}else t&&t(e),n(e)})})})}xt.dockerAll=kl;var as={};const ui=Ge,Fl=te.exec,J=T;function Gl(t){let n=[];return new Promise(e=>{process.nextTick(()=>{try{Fl(J.getVboxmanage()+" list vms --long",function(i,s){let r=(ui.EOL+s.toString()).split(ui.EOL+"Name:");r.shift(),r.forEach(o=>{const a=("Name:"+o).split(ui.EOL),l=J.getValue(a,"State"),c=l.startsWith("running"),u=c?l.replace("running (since ","").replace(")","").trim():"";let f=0;try{if(c){const m=new Date(u),g=m.getTimezoneOffset();f=Math.round((Date.now()-Date.parse(m))/1e3)+g*60}}catch{J.noop()}const p=c?"":l.replace("powered off (since","").replace(")","").trim();let d=0;try{if(!c){const m=new Date(p),g=m.getTimezoneOffset();d=Math.round((Date.now()-Date.parse(m))/1e3)+g*60}}catch{J.noop()}n.push({id:J.getValue(a,"UUID"),name:J.getValue(a,"Name"),running:c,started:u,runningSince:f,stopped:p,stoppedSince:d,guestOS:J.getValue(a,"Guest OS"),hardwareUUID:J.getValue(a,"Hardware UUID"),memory:parseInt(J.getValue(a,"Memory size","     "),10),vram:parseInt(J.getValue(a,"VRAM size"),10),cpus:parseInt(J.getValue(a,"Number of CPUs"),10),cpuExepCap:J.getValue(a,"CPU exec cap"),cpuProfile:J.getValue(a,"CPUProfile"),chipset:J.getValue(a,"Chipset"),firmware:J.getValue(a,"Firmware"),pageFusion:J.getValue(a,"Page Fusion")==="enabled",configFile:J.getValue(a,"Config file"),snapshotFolder:J.getValue(a,"Snapshot folder"),logFolder:J.getValue(a,"Log folder"),hpet:J.getValue(a,"HPET")==="enabled",pae:J.getValue(a,"PAE")==="enabled",longMode:J.getValue(a,"Long Mode")==="enabled",tripleFaultReset:J.getValue(a,"Triple Fault Reset")==="enabled",apic:J.getValue(a,"APIC")==="enabled",x2Apic:J.getValue(a,"X2APIC")==="enabled",acpi:J.getValue(a,"ACPI")==="enabled",ioApic:J.getValue(a,"IOAPIC")==="enabled",biosApicMode:J.getValue(a,"BIOS APIC mode"),bootMenuMode:J.getValue(a,"Boot menu mode"),bootDevice1:J.getValue(a,"Boot Device 1"),bootDevice2:J.getValue(a,"Boot Device 2"),bootDevice3:J.getValue(a,"Boot Device 3"),bootDevice4:J.getValue(a,"Boot Device 4"),timeOffset:J.getValue(a,"Time offset"),rtc:J.getValue(a,"RTC")})}),t&&t(n),e(n)})}catch{t&&t(n),e(n)}})})}as.vboxInfo=Gl;var ls={};const pi=te.exec,fe=T;let ft=process.platform;const hr=ft==="linux"||ft==="android",Wl=ft==="darwin",Rl=ft==="win32",zl=ft==="freebsd",Ul=ft==="openbsd",Hl=ft==="netbsd",$l=ft==="sunos",xr={1:"Other",2:"Unknown",3:"Idle",4:"Printing",5:"Warmup",6:"Stopped Printing",7:"Offline"};function Xl(t){const n={};if(t&&t.length&&t[0].indexOf(" CUPS v")>0){const e=t[0].split(" CUPS v");n.cupsVersion=e[1]}return n}function Kl(t){const n={},e=fe.getValue(t,"PrinterId"," ");return n.id=e?parseInt(e,10):null,n.name=fe.getValue(t,"Info"," "),n.model=t.length>0&&t[0]?t[0].split(" ")[0]:"",n.uri=fe.getValue(t,"DeviceURI"," "),n.uuid=fe.getValue(t,"UUID"," "),n.status=fe.getValue(t,"State"," "),n.local=fe.getValue(t,"Location"," ").toLowerCase().startsWith("local"),n.default=null,n.shared=fe.getValue(t,"Shared"," ").toLowerCase().startsWith("yes"),n}function ql(t,n){const e={};return e.id=n,e.name=fe.getValue(t,"Description",":",!0),e.model=t.length>0&&t[0]?t[0].split(" ")[0]:"",e.uri=null,e.uuid=null,e.status=t.length>0&&t[0]?t[0].indexOf(" idle")>0?"idle":t[0].indexOf(" printing")>0?"printing":"unknown":null,e.local=fe.getValue(t,"Location",":",!0).toLowerCase().startsWith("local"),e.default=null,e.shared=fe.getValue(t,"Shared"," ").toLowerCase().startsWith("yes"),e}function jl(t,n){const e={},i=t.uri.split("/");return e.id=n,e.name=t._name,e.model=i.length?i[i.length-1]:"",e.uri=t.uri,e.uuid=null,e.status=t.status,e.local=t.printserver==="local",e.default=t.default==="yes",e.shared=t.shared==="yes",e}function Yl(t,n){const e={},i=parseInt(fe.getValue(t,"PrinterStatus",":"),10);return e.id=n,e.name=fe.getValue(t,"name",":"),e.model=fe.getValue(t,"DriverName",":"),e.uri=null,e.uuid=null,e.status=xr[i]?xr[i]:null,e.local=fe.getValue(t,"Local",":").toUpperCase()==="TRUE",e.default=fe.getValue(t,"Default",":").toUpperCase()==="TRUE",e.shared=fe.getValue(t,"Shared",":").toUpperCase()==="TRUE",e}function Jl(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(hr||zl||Ul||Hl){let i="cat /etc/cups/printers.conf 2>/dev/null";pi(i,function(s,r){if(!s){const o=r.toString().split("<Printer "),a=Xl(o[0]);for(let l=1;l<o.length;l++){const c=Kl(o[l].split(`
`));c.name&&(c.engine="CUPS",c.engineVersion=a.cupsVersion,e.push(c))}}e.length===0&&hr?(i="export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL",pi(i,function(o,a){const l=(`
`+a.toString()).split(`
printer `);for(let c=1;c<l.length;c++){const u=ql(l[c].split(`
`),c);e.push(u)}}),t&&t(e),n(e)):(t&&t(e),n(e))})}Wl&&pi("system_profiler SPPrintersDataType -json",function(s,r){if(!s)try{const o=JSON.parse(r.toString());if(o.SPPrintersDataType&&o.SPPrintersDataType.length)for(let a=0;a<o.SPPrintersDataType.length;a++){const l=jl(o.SPPrintersDataType[a],a);e.push(l)}}catch{fe.noop()}t&&t(e),n(e)}),Rl&&fe.powerShell("Get-CimInstance Win32_Printer | select PrinterStatus,Name,DriverName,Local,Default,Shared | fl").then((i,s)=>{if(!s){const r=i.toString().split(/\n\s*\n/);for(let o=0;o<r.length;o++){const a=Yl(r[o].split(`
`),o);(a.name||a.model)&&e.push(a)}}t&&t(e),n(e)}),$l&&n(null)})})}ls.printer=Jl;var cs={};const yr=te.exec,Me=T;let dt=process.platform;const Ql=dt==="linux"||dt==="android",Zl=dt==="darwin",ec=dt==="win32",tc=dt==="freebsd",nc=dt==="openbsd",ic=dt==="netbsd",rc=dt==="sunos";function sc(t,n){let e=t;const i=(n+" "+t).toLowerCase();return i.indexOf("camera")>=0?e="Camera":i.indexOf("hub")>=0?e="Hub":i.indexOf("keybrd")>=0||i.indexOf("keyboard")>=0?e="Keyboard":i.indexOf("mouse")>=0?e="Mouse":i.indexOf("stora")>=0?e="Storage":i.indexOf("microp")>=0?e="Microphone":(i.indexOf("headset")>=0||i.indexOf("audio")>=0)&&(e="Audio"),e}function oc(t){const n={},e=t.split(`
`);if(e&&e.length&&e[0].indexOf("Device")>=0){const x=e[0].split(" ");n.bus=parseInt(x[0],10),x[2]?n.deviceId=parseInt(x[2],10):n.deviceId=null}else n.bus=null,n.deviceId=null;const i=Me.getValue(e,"idVendor"," ",!0).trim();let s=i.split(" ");s.shift();const r=s.join(" "),o=Me.getValue(e,"idProduct"," ",!0).trim();let a=o.split(" ");a.shift();const l=a.join(" ");let u=Me.getValue(e,"bInterfaceClass"," ",!0).trim().split(" ");u.shift();const f=u.join(" ");let d=Me.getValue(e,"iManufacturer"," ",!0).trim().split(" ");d.shift();const m=d.join(" ");let y=Me.getValue(e,"iSerial"," ",!0).trim().split(" ");y.shift();const h=y.join(" ");return n.id=(i.startsWith("0x")?i.split(" ")[0].substr(2,10):"")+":"+(o.startsWith("0x")?o.split(" ")[0].substr(2,10):""),n.name=l,n.type=sc(f,l),n.removable=null,n.vendor=r,n.manufacturer=m,n.maxPower=Me.getValue(e,"MaxPower"," ",!0),n.serialNumber=h,n}function ac(t){let n="";return t.indexOf("camera")>=0?n="Camera":t.indexOf("touch bar")>=0?n="Touch Bar":t.indexOf("controller")>=0?n="Controller":t.indexOf("headset")>=0?n="Audio":t.indexOf("keyboard")>=0?n="Keyboard":t.indexOf("trackpad")>=0?n="Trackpad":t.indexOf("sensor")>=0?n="Sensor":t.indexOf("bthusb")>=0||t.indexOf("bth")>=0||t.indexOf("rfcomm")>=0?n="Bluetooth":t.indexOf("usbhub")>=0||t.indexOf(" hub")>=0?n="Hub":t.indexOf("mouse")>=0?n="Mouse":t.indexOf("microp")>=0?n="Microphone":t.indexOf("removable")>=0&&(n="Storage"),n}function lc(t,n){const e={};e.id=n,t=t.replace(/ \|/g,""),t=t.trim();let i=t.split(`
`);i.shift();try{for(let o=0;o<i.length;o++){i[o]=i[o].trim(),i[o]=i[o].replace(/=/g,":"),i[o]!=="{"&&i[o]!=="}"&&i[o+1]&&i[o+1].trim()!=="}"&&(i[o]=i[o]+","),i[o]=i[o].replace(":Yes,",':"Yes",'),i[o]=i[o].replace(": Yes,",': "Yes",'),i[o]=i[o].replace(": Yes",': "Yes"'),i[o]=i[o].replace(":No,",':"No",'),i[o]=i[o].replace(": No,",': "No",'),i[o]=i[o].replace(": No",': "No"'),i[o]=i[o].replace("((","").replace("))","");const a=/<(\w+)>/.exec(i[o]);if(a){const l=a[0];i[o]=i[o].replace(l,`"${l}"`)}}const s=JSON.parse(i.join(`
`)),r=(s["Built-In"]?s["Built-In"].toLowerCase()!=="yes":!0)&&(s["non-removable"]?s["non-removable"].toLowerCase()==="no":!0);return e.bus=null,e.deviceId=null,e.id=s["USB Address"]||null,e.name=s.kUSBProductString||s["USB Product Name"]||null,e.type=ac((s.kUSBProductString||s["USB Product Name"]||"").toLowerCase()+(r?" removable":"")),e.removable=s["non-removable"]?s["non-removable"].toLowerCase()||!1:!0,e.vendor=s.kUSBVendorString||s["USB Vendor Name"]||null,e.manufacturer=s.kUSBVendorString||s["USB Vendor Name"]||null,e.maxPower=null,e.serialNumber=s.kUSBSerialNumberString||null,e.name?e:null}catch{return null}}function cc(t,n){let e="";return n.indexOf("storage")>=0||n.indexOf("speicher")>=0?e="Storage":t.indexOf("usbhub")>=0?e="Hub":t.indexOf("storage")>=0?e="Storage":t.indexOf("usbcontroller")>=0?e="Controller":t.indexOf("keyboard")>=0?e="Keyboard":t.indexOf("pointing")>=0?e="Mouse":t.indexOf("microp")>=0?e="Microphone":t.indexOf("disk")>=0&&(e="Storage"),e}function uc(t,n){const e=cc(Me.getValue(t,"CreationClassName",":").toLowerCase(),Me.getValue(t,"name",":").toLowerCase());if(e){const i={};return i.bus=null,i.deviceId=Me.getValue(t,"deviceid",":"),i.id=n,i.name=Me.getValue(t,"name",":"),i.type=e,i.removable=null,i.vendor=null,i.manufacturer=Me.getValue(t,"Manufacturer",":"),i.maxPower=null,i.serialNumber=null,i}else return null}function pc(t){return new Promise(n=>{process.nextTick(()=>{let e=[];Ql&&yr("export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL",{maxBuffer:1024*1024*128},function(s,r){if(!s){const o=(`

`+r.toString()).split(`

Bus `);for(let a=1;a<o.length;a++){const l=oc(o[a]);e.push(l)}}t&&t(e),n(e)}),Zl&&yr("ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l",{maxBuffer:1024*1024*128},function(s,r){if(!s){const o=r.toString().split(" +-o ");for(let a=1;a<o.length;a++){const l=lc(o[a]);l&&e.push(l)}t&&t(e),n(e)}t&&t(e),n(e)}),ec&&Me.powerShell('Get-CimInstance CIM_LogicalDevice | where { $_.Description -match "USB"} | select Name,CreationClassName,DeviceId,Manufacturer | fl').then((i,s)=>{if(!s){const r=i.toString().split(/\n\s*\n/);for(let o=0;o<r.length;o++){const a=uc(r[o].split(`
`),o);a&&e.filter(l=>l.deviceId===a.deviceId).length===0&&e.push(a)}}t&&t(e),n(e)}),(rc||tc||nc||ic)&&n(null)})})}cs.usb=pc;var us={};const Sr=te.exec,fc=te.execSync,he=T;let mt=process.platform;const dc=mt==="linux"||mt==="android",mc=mt==="darwin",gc=mt==="win32",hc=mt==="freebsd",xc=mt==="openbsd",yc=mt==="netbsd",Sc=mt==="sunos";function Ui(t,n,e){t=t.toLowerCase();let i="";return t.indexOf("input")>=0&&(i="Microphone"),t.indexOf("display audio")>=0&&(i="Speaker"),t.indexOf("speak")>=0&&(i="Speaker"),t.indexOf("laut")>=0&&(i="Speaker"),t.indexOf("loud")>=0&&(i="Speaker"),t.indexOf("head")>=0&&(i="Headset"),t.indexOf("mic")>=0&&(i="Microphone"),t.indexOf("mikr")>=0&&(i="Microphone"),t.indexOf("phone")>=0&&(i="Phone"),t.indexOf("controll")>=0&&(i="Controller"),t.indexOf("line o")>=0&&(i="Line Out"),t.indexOf("digital o")>=0&&(i="Digital Out"),t.indexOf("smart sound technology")>=0&&(i="Digital Signal Processor"),t.indexOf("high definition audio")>=0&&(i="Sound Driver"),!i&&e?i="Speaker":!i&&n&&(i="Microphone"),i}function Cc(){let t="lspci -v 2>/dev/null",n=[];try{return fc(t,he.execOptsLinux).toString().split(`

`).forEach(i=>{const s=i.split(`
`);if(s&&s.length&&s[0].toLowerCase().indexOf("audio")>=0){const r={};r.slotId=s[0].split(" ")[0],r.driver=he.getValue(s,"Kernel driver in use",":",!0)||he.getValue(s,"Kernel modules",":",!0),n.push(r)}}),n}catch{return n}}function wc(t,n){const e={},i=he.getValue(t,"Slot"),s=n.filter(function(r){return r.slotId===i});return e.id=i,e.name=he.getValue(t,"SDevice"),e.manufacturer=he.getValue(t,"SVendor"),e.revision=he.getValue(t,"Rev"),e.driver=s&&s.length===1&&s[0].driver?s[0].driver:"",e.default=null,e.channel="PCIe",e.type=Ui(e.name,null,null),e.in=null,e.out=null,e.status="online",e}function Lc(t){let n="";return t.indexOf("builtin")>=0&&(n="Built-In"),t.indexOf("extern")>=0&&(n="Audio-Jack"),t.indexOf("hdmi")>=0&&(n="HDMI"),t.indexOf("displayport")>=0&&(n="Display-Port"),t.indexOf("usb")>=0&&(n="USB"),t.indexOf("pci")>=0&&(n="PCIe"),n}function Ic(t,n){const e={},i=((t.coreaudio_device_transport||"")+" "+(t._name||"")).toLowerCase();return e.id=n,e.name=t._name,e.manufacturer=t.coreaudio_device_manufacturer,e.revision=null,e.driver=null,e.default=!!t.coreaudio_default_audio_input_device||!!t.coreaudio_default_audio_output_device,e.channel=Lc(i),e.type=Ui(e.name,!!t.coreaudio_device_input,!!t.coreaudio_device_output),e.in=!!t.coreaudio_device_input,e.out=!!t.coreaudio_device_output,e.status="online",e}function _c(t){const n={},e=he.getValue(t,"StatusInfo",":");return n.id=he.getValue(t,"DeviceID",":"),n.name=he.getValue(t,"name",":"),n.manufacturer=he.getValue(t,"manufacturer",":"),n.revision=null,n.driver=null,n.default=null,n.channel=null,n.type=Ui(n.name,null,null),n.in=null,n.out=null,n.status=e,n}function Oc(t){return new Promise(n=>{process.nextTick(()=>{let e=[];(dc||hc||xc||yc)&&Sr("lspci -vmm 2>/dev/null",function(s,r){if(!s){const o=Cc();r.toString().split(`

`).forEach(l=>{const c=l.split(`
`);if(he.getValue(c,"class",":",!0).toLowerCase().indexOf("audio")>=0){const u=wc(c,o);e.push(u)}})}t&&t(e),n(e)}),mc&&Sr("system_profiler SPAudioDataType -json",function(s,r){if(!s)try{const o=JSON.parse(r.toString());if(o.SPAudioDataType&&o.SPAudioDataType.length&&o.SPAudioDataType[0]&&o.SPAudioDataType[0]._items&&o.SPAudioDataType[0]._items.length)for(let a=0;a<o.SPAudioDataType[0]._items.length;a++){const l=Ic(o.SPAudioDataType[0]._items[a],a);e.push(l)}}catch{he.noop()}t&&t(e),n(e)}),gc&&he.powerShell("Get-CimInstance Win32_SoundDevice | select DeviceID,StatusInfo,Name,Manufacturer | fl").then((i,s)=>{s||i.toString().split(/\n\s*\n/).forEach(o=>{const a=o.split(`
`);he.getValue(a,"name",":")&&e.push(_c(a))}),t&&t(e),n(e)}),Sc&&n(null)})})}us.audio=Oc;var ps={},Pc={0:"Ericsson Technology Licensing",1:"Nokia Mobile Phones",2:"Intel Corp.",3:"IBM Corp.",4:"Toshiba Corp.",5:"3Com",6:"Microsoft",7:"Lucent",8:"Motorola",9:"Infineon Technologies AG",10:"Cambridge Silicon Radio",11:"Silicon Wave",12:"Digianswer A/S",13:"Texas Instruments Inc.",14:"Ceva, Inc. (formerly Parthus Technologies, Inc.)",15:"Broadcom Corporation",16:"Mitel Semiconductor",17:"Widcomm, Inc",18:"Zeevo, Inc.",19:"Atmel Corporation",20:"Mitsubishi Electric Corporation",21:"RTX Telecom A/S",22:"KC Technology Inc.",23:"NewLogic",24:"Transilica, Inc.",25:"Rohde & Schwarz GmbH & Co. KG",26:"TTPCom Limited",27:"Signia Technologies, Inc.",28:"Conexant Systems Inc.",29:"Qualcomm",30:"Inventel",31:"AVM Berlin",32:"BandSpeed, Inc.",33:"Mansella Ltd",34:"NEC Corporation",35:"WavePlus Technology Co., Ltd.",36:"Alcatel",37:"NXP Semiconductors (formerly Philips Semiconductors)",38:"C Technologies",39:"Open Interface",40:"R F Micro Devices",41:"Hitachi Ltd",42:"Symbol Technologies, Inc.",43:"Tenovis",44:"Macronix International Co. Ltd.",45:"GCT Semiconductor",46:"Norwood Systems",47:"MewTel Technology Inc.",48:"ST Microelectronics",49:"Synopsis",50:"Red-M (Communications) Ltd",51:"Commil Ltd",52:"Computer Access Technology Corporation (CATC)",53:"Eclipse (HQ Espana) S.L.",54:"Renesas Electronics Corporation",55:"Mobilian Corporation",56:"Terax",57:"Integrated System Solution Corp.",58:"Matsushita Electric Industrial Co., Ltd.",59:"Gennum Corporation",60:"BlackBerry Limited (formerly Research In Motion)",61:"IPextreme, Inc.",62:"Systems and Chips, Inc.",63:"Bluetooth SIG, Inc.",64:"Seiko Epson Corporation",65:"Integrated Silicon Solution Taiwan, Inc.",66:"CONWISE Technology Corporation Ltd",67:"PARROT SA",68:"Socket Mobile",69:"Atheros Communications, Inc.",70:"MediaTek, Inc.",71:"Bluegiga",72:"Marvell Technology Group Ltd.",73:"3DSP Corporation",74:"Accel Semiconductor Ltd.",75:"Continental Automotive Systems",76:"Apple, Inc.",77:"Staccato Communications, Inc.",78:"Avago Technologies",79:"APT Licensing Ltd.",80:"SiRF Technology",81:"Tzero Technologies, Inc.",82:"J&M Corporation",83:"Free2move AB",84:"3DiJoy Corporation",85:"Plantronics, Inc.",86:"Sony Ericsson Mobile Communications",87:"Harman International Industries, Inc.",88:"Vizio, Inc.",89:"Nordic Semiconductor ASA",90:"EM Microelectronic-Marin SA",91:"Ralink Technology Corporation",92:"Belkin International, Inc.",93:"Realtek Semiconductor Corporation",94:"Stonestreet One, LLC",95:"Wicentric, Inc.",96:"RivieraWaves S.A.S",97:"RDA Microelectronics",98:"Gibson Guitars",99:"MiCommand Inc.",100:"Band XI International, LLC",101:"Hewlett-Packard Company",102:"9Solutions Oy",103:"GN Netcom A/S",104:"General Motors",105:"A&D Engineering, Inc.",106:"MindTree Ltd.",107:"Polar Electro OY",108:"Beautiful Enterprise Co., Ltd.",109:"BriarTek, Inc.",110:"Summit Data Communications, Inc.",111:"Sound ID",112:"Monster, LLC",113:"connectBlue AB",114:"ShangHai Super Smart Electronics Co. Ltd.",115:"Group Sense Ltd.",116:"Zomm, LLC",117:"Samsung Electronics Co. Ltd.",118:"Creative Technology Ltd.",119:"Laird Technologies",120:"Nike, Inc.",121:"lesswire AG",122:"MStar Semiconductor, Inc.",123:"Hanlynn Technologies",124:"A & R Cambridge",125:"Seers Technology Co. Ltd",126:"Sports Tracking Technologies Ltd.",127:"Autonet Mobile",128:"DeLorme Publishing Company, Inc.",129:"WuXi Vimicro",130:"Sennheiser Communications A/S",131:"TimeKeeping Systems, Inc.",132:"Ludus Helsinki Ltd.",133:"BlueRadios, Inc.",134:"equinox AG",135:"Garmin International, Inc.",136:"Ecotest",137:"GN ReSound A/S",138:"Jawbone",139:"Topcorn Positioning Systems, LLC",140:"Gimbal Inc. (formerly Qualcomm Labs, Inc. and Qualcomm Retail Solutions, Inc.)",141:"Zscan Software",142:"Quintic Corp.",143:"Stollman E+V GmbH",144:"Funai Electric Co., Ltd.",145:"Advanced PANMOBIL Systems GmbH & Co. KG",146:"ThinkOptics, Inc.",147:"Universal Electronics, Inc.",148:"Airoha Technology Corp.",149:"NEC Lighting, Ltd.",150:"ODM Technology, Inc.",151:"ConnecteDevice Ltd.",152:"zer01.tv GmbH",153:"i.Tech Dynamic Global Distribution Ltd.",154:"Alpwise",155:"Jiangsu Toppower Automotive Electronics Co., Ltd.",156:"Colorfy, Inc.",157:"Geoforce Inc.",158:"Bose Corporation",159:"Suunto Oy",160:"Kensington Computer Products Group",161:"SR-Medizinelektronik",162:"Vertu Corporation Limited",163:"Meta Watch Ltd.",164:"LINAK A/S",165:"OTL Dynamics LLC",166:"Panda Ocean Inc.",167:"Visteon Corporation",168:"ARP Devices Limited",169:"Magneti Marelli S.p.A",170:"CAEN RFID srl",171:"Ingenieur-Systemgruppe Zahn GmbH",172:"Green Throttle Games",173:"Peter Systemtechnik GmbH",174:"Omegawave Oy",175:"Cinetix",176:"Passif Semiconductor Corp",177:"Saris Cycling Group, Inc",178:"Bekey A/S",179:"Clarinox Technologies Pty. Ltd.",180:"BDE Technology Co., Ltd.",181:"Swirl Networks",182:"Meso international",183:"TreLab Ltd",184:"Qualcomm Innovation Center, Inc. (QuIC)",185:"Johnson Controls, Inc.",186:"Starkey Laboratories Inc.",187:"S-Power Electronics Limited",188:"Ace Sensor Inc",189:"Aplix Corporation",190:"AAMP of America",191:"Stalmart Technology Limited",192:"AMICCOM Electronics Corporation",193:"Shenzhen Excelsecu Data Technology Co.,Ltd",194:"Geneq Inc.",195:"adidas AG",196:"LG Electronics",197:"Onset Computer Corporation",198:"Selfly BV",199:"Quuppa Oy.",200:"GeLo Inc",201:"Evluma",202:"MC10",203:"Binauric SE",204:"Beats Electronics",205:"Microchip Technology Inc.",206:"Elgato Systems GmbH",207:"ARCHOS SA",208:"Dexcom, Inc.",209:"Polar Electro Europe B.V.",210:"Dialog Semiconductor B.V.",211:"Taixingbang Technology (HK) Co,. LTD.",212:"Kawantech",213:"Austco Communication Systems",214:"Timex Group USA, Inc.",215:"Qualcomm Technologies, Inc.",216:"Qualcomm Connected Experiences, Inc.",217:"Voyetra Turtle Beach",218:"txtr GmbH",219:"Biosentronics",220:"Procter & Gamble",221:"Hosiden Corporation",222:"Muzik LLC",223:"Misfit Wearables Corp",224:"Google",225:"Danlers Ltd",226:"Semilink Inc",227:"inMusic Brands, Inc",228:"L.S. Research Inc.",229:"Eden Software Consultants Ltd.",230:"Freshtemp",231:"KS Technologies",232:"ACTS Technologies",233:"Vtrack Systems",234:"Nielsen-Kellerman Company",235:"Server Technology, Inc.",236:"BioResearch Associates",237:"Jolly Logic, LLC",238:"Above Average Outcomes, Inc.",239:"Bitsplitters GmbH",240:"PayPal, Inc.",241:"Witron Technology Limited",242:"Aether Things Inc. (formerly Morse Project Inc.)",243:"Kent Displays Inc.",244:"Nautilus Inc.",245:"Smartifier Oy",246:"Elcometer Limited",247:"VSN Technologies Inc.",248:"AceUni Corp., Ltd.",249:"StickNFind",250:"Crystal Code AB",251:"KOUKAAM a.s.",252:"Delphi Corporation",253:"ValenceTech Limited",254:"Reserved",255:"Typo Products, LLC",256:"TomTom International BV",257:"Fugoo, Inc",258:"Keiser Corporation",259:"Bang & Olufsen A/S",260:"PLUS Locations Systems Pty Ltd",261:"Ubiquitous Computing Technology Corporation",262:"Innovative Yachtter Solutions",263:"William Demant Holding A/S",264:"Chicony Electronics Co., Ltd.",265:"Atus BV",266:"Codegate Ltd.",267:"ERi, Inc.",268:"Transducers Direct, LLC",269:"Fujitsu Ten Limited",270:"Audi AG",271:"HiSilicon Technologies Co., Ltd.",272:"Nippon Seiki Co., Ltd.",273:"Steelseries ApS",274:"vyzybl Inc.",275:"Openbrain Technologies, Co., Ltd.",276:"Xensr",277:"e.solutions",278:"1OAK Technologies",279:"Wimoto Technologies Inc",280:"Radius Networks, Inc.",281:"Wize Technology Co., Ltd.",282:"Qualcomm Labs, Inc.",283:"Aruba Networks",284:"Baidu",285:"Arendi AG",286:"Skoda Auto a.s.",287:"Volkswagon AG",288:"Porsche AG",289:"Sino Wealth Electronic Ltd.",290:"AirTurn, Inc.",291:"Kinsa, Inc.",292:"HID Global",293:"SEAT es",294:"Promethean Ltd.",295:"Salutica Allied Solutions",296:"GPSI Group Pty Ltd",297:"Nimble Devices Oy",298:"Changzhou Yongse Infotech Co., Ltd",299:"SportIQ",300:"TEMEC Instruments B.V.",301:"Sony Corporation",302:"ASSA ABLOY",303:"Clarion Co., Ltd.",304:"Warehouse Innovations",305:"Cypress Semiconductor Corporation",306:"MADS Inc",307:"Blue Maestro Limited",308:"Resolution Products, Inc.",309:"Airewear LLC",310:"Seed Labs, Inc. (formerly ETC sp. z.o.o.)",311:"Prestigio Plaza Ltd.",312:"NTEO Inc.",313:"Focus Systems Corporation",314:"Tencent Holdings Limited",315:"Allegion",316:"Murata Manufacuring Co., Ltd.",318:"Nod, Inc.",319:"B&B Manufacturing Company",320:"Alpine Electronics (China) Co., Ltd",321:"FedEx Services",322:"Grape Systems Inc.",323:"Bkon Connect",324:"Lintech GmbH",325:"Novatel Wireless",326:"Ciright",327:"Mighty Cast, Inc.",328:"Ambimat Electronics",329:"Perytons Ltd.",330:"Tivoli Audio, LLC",331:"Master Lock",332:"Mesh-Net Ltd",333:"Huizhou Desay SV Automotive CO., LTD.",334:"Tangerine, Inc.",335:"B&W Group Ltd.",336:"Pioneer Corporation",337:"OnBeep",338:"Vernier Software & Technology",339:"ROL Ergo",340:"Pebble Technology",341:"NETATMO",342:"Accumulate AB",343:"Anhui Huami Information Technology Co., Ltd.",344:"Inmite s.r.o.",345:"ChefSteps, Inc.",346:"micas AG",347:"Biomedical Research Ltd.",348:"Pitius Tec S.L.",349:"Estimote, Inc.",350:"Unikey Technologies, Inc.",351:"Timer Cap Co.",352:"AwoX",353:"yikes",354:"MADSGlobal NZ Ltd.",355:"PCH International",356:"Qingdao Yeelink Information Technology Co., Ltd.",357:"Milwaukee Tool (formerly Milwaukee Electric Tools)",358:"MISHIK Pte Ltd",359:"Bayer HealthCare",360:"Spicebox LLC",361:"emberlight",362:"Cooper-Atkins Corporation",363:"Qblinks",364:"MYSPHERA",365:"LifeScan Inc",366:"Volantic AB",367:"Podo Labs, Inc",368:"Roche Diabetes Care AG",369:"Amazon Fulfillment Service",370:"Connovate Technology Private Limited",371:"Kocomojo, LLC",372:"Everykey LLC",373:"Dynamic Controls",374:"SentriLock",375:"I-SYST inc.",376:"CASIO COMPUTER CO., LTD.",377:"LAPIS Semiconductor Co., Ltd.",378:"Telemonitor, Inc.",379:"taskit GmbH",380:"Daimler AG",381:"BatAndCat",382:"BluDotz Ltd",383:"XTel ApS",384:"Gigaset Communications GmbH",385:"Gecko Health Innovations, Inc.",386:"HOP Ubiquitous",387:"To Be Assigned",388:"Nectar",389:"bel’apps LLC",390:"CORE Lighting Ltd",391:"Seraphim Sense Ltd",392:"Unico RBC",393:"Physical Enterprises Inc.",394:"Able Trend Technology Limited",395:"Konica Minolta, Inc.",396:"Wilo SE",397:"Extron Design Services",398:"Fitbit, Inc.",399:"Fireflies Systems",400:"Intelletto Technologies Inc.",401:"FDK CORPORATION",402:"Cloudleaf, Inc",403:"Maveric Automation LLC",404:"Acoustic Stream Corporation",405:"Zuli",406:"Paxton Access Ltd",407:"WiSilica Inc",408:"Vengit Limited",409:"SALTO SYSTEMS S.L.",410:"TRON Forum (formerly T-Engine Forum)",411:"CUBETECH s.r.o.",412:"Cokiya Incorporated",413:"CVS Health",414:"Ceruus",415:"Strainstall Ltd",416:"Channel Enterprises (HK) Ltd.",417:"FIAMM",418:"GIGALANE.CO.,LTD",419:"EROAD",420:"Mine Safety Appliances",421:"Icon Health and Fitness",422:"Asandoo GmbH",423:"ENERGOUS CORPORATION",424:"Taobao",425:"Canon Inc.",426:"Geophysical Technology Inc.",427:"Facebook, Inc.",428:"Nipro Diagnostics, Inc.",429:"FlightSafety International",430:"Earlens Corporation",431:"Sunrise Micro Devices, Inc.",432:"Star Micronics Co., Ltd.",433:"Netizens Sp. z o.o.",434:"Nymi Inc.",435:"Nytec, Inc.",436:"Trineo Sp. z o.o.",437:"Nest Labs Inc.",438:"LM Technologies Ltd",439:"General Electric Company",440:"i+D3 S.L.",441:"HANA Micron",442:"Stages Cycling LLC",443:"Cochlear Bone Anchored Solutions AB",444:"SenionLab AB",445:"Syszone Co., Ltd",446:"Pulsate Mobile Ltd.",447:"Hong Kong HunterSun Electronic Limited",448:"pironex GmbH",449:"BRADATECH Corp.",450:"Transenergooil AG",451:"Bunch",452:"DME Microelectronics",453:"Bitcraze AB",454:"HASWARE Inc.",455:"Abiogenix Inc.",456:"Poly-Control ApS",457:"Avi-on",458:"Laerdal Medical AS",459:"Fetch My Pet",460:"Sam Labs Ltd.",461:"Chengdu Synwing Technology Ltd",462:"HOUWA SYSTEM DESIGN, k.k.",463:"BSH",464:"Primus Inter Pares Ltd",465:"August",466:"Gill Electronics",467:"Sky Wave Design",468:"Newlab S.r.l.",469:"ELAD srl",470:"G-wearables inc.",471:"Squadrone Systems Inc.",472:"Code Corporation",473:"Savant Systems LLC",474:"Logitech International SA",475:"Innblue Consulting",476:"iParking Ltd.",477:"Koninklijke Philips Electronics N.V.",478:"Minelab Electronics Pty Limited",479:"Bison Group Ltd.",480:"Widex A/S",481:"Jolla Ltd",482:"Lectronix, Inc.",483:"Caterpillar Inc",484:"Freedom Innovations",485:"Dynamic Devices Ltd",486:"Technology Solutions (UK) Ltd",487:"IPS Group Inc.",488:"STIR",489:"Sano, Inc",490:"Advanced Application Design, Inc.",491:"AutoMap LLC",492:"Spreadtrum Communications Shanghai Ltd",493:"CuteCircuit LTD",494:"Valeo Service",495:"Fullpower Technologies, Inc.",496:"KloudNation",497:"Zebra Technologies Corporation",498:"Itron, Inc.",499:"The University of Tokyo",500:"UTC Fire and Security",501:"Cool Webthings Limited",502:"DJO Global",503:"Gelliner Limited",504:"Anyka (Guangzhou) Microelectronics Technology Co, LTD",505:"Medtronic, Inc.",506:"Gozio, Inc.",507:"Form Lifting, LLC",508:"Wahoo Fitness, LLC",509:"Kontakt Micro-Location Sp. z o.o.",510:"Radio System Corporation",511:"Freescale Semiconductor, Inc.",512:"Verifone Systems PTe Ltd. Taiwan Branch",513:"AR Timing",514:"Rigado LLC",515:"Kemppi Oy",516:"Tapcentive Inc.",517:"Smartbotics Inc.",518:"Otter Products, LLC",519:"STEMP Inc.",520:"LumiGeek LLC",521:"InvisionHeart Inc.",522:"Macnica Inc. ",523:"Jaguar Land Rover Limited",524:"CoroWare Technologies, Inc",525:"Simplo Technology Co., LTD",526:"Omron Healthcare Co., LTD",527:"Comodule GMBH",528:"ikeGPS",529:"Telink Semiconductor Co. Ltd",530:"Interplan Co., Ltd",531:"Wyler AG",532:"IK Multimedia Production srl",533:"Lukoton Experience Oy",534:"MTI Ltd",535:"Tech4home, Lda",536:"Hiotech AB",537:"DOTT Limited",538:"Blue Speck Labs, LLC",539:"Cisco Systems, Inc",540:"Mobicomm Inc",541:"Edamic",542:"Goodnet, Ltd",543:"Luster Leaf Products Inc",544:"Manus Machina BV",545:"Mobiquity Networks Inc",546:"Praxis Dynamics",547:"Philip Morris Products S.A.",548:"Comarch SA",549:"Nestl Nespresso S.A.",550:"Merlinia A/S",551:"LifeBEAM Technologies",552:"Twocanoes Labs, LLC",553:"Muoverti Limited",554:"Stamer Musikanlagen GMBH",555:"Tesla Motors",556:"Pharynks Corporation",557:"Lupine",558:"Siemens AG",559:"Huami (Shanghai) Culture Communication CO., LTD",560:"Foster Electric Company, Ltd",561:"ETA SA",562:"x-Senso Solutions Kft",563:"Shenzhen SuLong Communication Ltd",564:"FengFan (BeiJing) Technology Co, Ltd",565:"Qrio Inc",566:"Pitpatpet Ltd",567:"MSHeli s.r.l.",568:"Trakm8 Ltd",569:"JIN CO, Ltd",570:"Alatech Tehnology",571:"Beijing CarePulse Electronic Technology Co, Ltd",572:"Awarepoint",573:"ViCentra B.V.",574:"Raven Industries",575:"WaveWare Technologies Inc.",576:"Argenox Technologies",577:"Bragi GmbH",578:"16Lab Inc",579:"Masimo Corp",580:"Iotera Inc",581:"Endress+Hauser",582:"ACKme Networks, Inc.",583:"FiftyThree Inc.",584:"Parker Hannifin Corp",585:"Transcranial Ltd",586:"Uwatec AG",587:"Orlan LLC",588:"Blue Clover Devices",589:"M-Way Solutions GmbH",590:"Microtronics Engineering GmbH",591:"Schneider Schreibgerte GmbH",592:"Sapphire Circuits LLC",593:"Lumo Bodytech Inc.",594:"UKC Technosolution",595:"Xicato Inc.",596:"Playbrush",597:"Dai Nippon Printing Co., Ltd.",598:"G24 Power Limited",599:"AdBabble Local Commerce Inc.",600:"Devialet SA",601:"ALTYOR",602:"University of Applied Sciences Valais/Haute Ecole Valaisanne",603:"Five Interactive, LLC dba Zendo",604:"NetEaseHangzhouNetwork co.Ltd.",605:"Lexmark International Inc.",606:"Fluke Corporation",607:"Yardarm Technologies",608:"SensaRx",609:"SECVRE GmbH",610:"Glacial Ridge Technologies",611:"Identiv, Inc.",612:"DDS, Inc.",613:"SMK Corporation",614:"Schawbel Technologies LLC",615:"XMI Systems SA",616:"Cerevo",617:"Torrox GmbH & Co KG",618:"Gemalto",619:"DEKA Research & Development Corp.",620:"Domster Tadeusz Szydlowski",621:"Technogym SPA",622:"FLEURBAEY BVBA",623:"Aptcode Solutions",624:"LSI ADL Technology",625:"Animas Corp",626:"Alps Electric Co., Ltd.",627:"OCEASOFT",628:"Motsai Research",629:"Geotab",630:"E.G.O. Elektro-Gertebau GmbH",631:"bewhere inc",632:"Johnson Outdoors Inc",633:"steute Schaltgerate GmbH & Co. KG",634:"Ekomini inc.",635:"DEFA AS",636:"Aseptika Ltd",637:"HUAWEI Technologies Co., Ltd. ( )",638:"HabitAware, LLC",639:"ruwido austria gmbh",640:"ITEC corporation",641:"StoneL",642:"Sonova AG",643:"Maven Machines, Inc.",644:"Synapse Electronics",645:"Standard Innovation Inc.",646:"RF Code, Inc.",647:"Wally Ventures S.L.",648:"Willowbank Electronics Ltd",649:"SK Telecom",650:"Jetro AS",651:"Code Gears LTD",652:"NANOLINK APS",653:"IF, LLC",654:"RF Digital Corp",655:"Church & Dwight Co., Inc",656:"Multibit Oy",657:"CliniCloud Inc",658:"SwiftSensors",659:"Blue Bite",660:"ELIAS GmbH",661:"Sivantos GmbH",662:"Petzl",663:"storm power ltd",664:"EISST Ltd",665:"Inexess Technology Simma KG",666:"Currant, Inc.",667:"C2 Development, Inc.",668:"Blue Sky Scientific, LLC",669:"ALOTTAZS LABS, LLC",670:"Kupson spol. s r.o.",671:"Areus Engineering GmbH",672:"Impossible Camera GmbH",673:"InventureTrack Systems",674:"LockedUp",675:"Itude",676:"Pacific Lock Company",677:"Tendyron Corporation ( )",678:"Robert Bosch GmbH",679:"Illuxtron international B.V.",680:"miSport Ltd.",681:"Chargelib",682:"Doppler Lab",683:"BBPOS Limited",684:"RTB Elektronik GmbH & Co. KG",685:"Rx Networks, Inc.",686:"WeatherFlow, Inc.",687:"Technicolor USA Inc.",688:"Bestechnic(Shanghai),Ltd",689:"Raden Inc",690:"JouZen Oy",691:"CLABER S.P.A.",692:"Hyginex, Inc.",693:"HANSHIN ELECTRIC RAILWAY CO.,LTD.",694:"Schneider Electric",695:"Oort Technologies LLC",696:"Chrono Therapeutics",697:"Rinnai Corporation",698:"Swissprime Technologies AG",699:"Koha.,Co.Ltd",700:"Genevac Ltd",701:"Chemtronics",702:"Seguro Technology Sp. z o.o.",703:"Redbird Flight Simulations",704:"Dash Robotics",705:"LINE Corporation",706:"Guillemot Corporation",707:"Techtronic Power Tools Technology Limited",708:"Wilson Sporting Goods",709:"Lenovo (Singapore) Pte Ltd. ( )",710:"Ayatan Sensors",711:"Electronics Tomorrow Limited",712:"VASCO Data Security International, Inc.",713:"PayRange Inc.",714:"ABOV Semiconductor",715:"AINA-Wireless Inc.",716:"Eijkelkamp Soil & Water",717:"BMA ergonomics b.v.",718:"Teva Branded Pharmaceutical Products R&D, Inc.",719:"Anima",720:"3M",721:"Empatica Srl",722:"Afero, Inc.",723:"Powercast Corporation",724:"Secuyou ApS",725:"OMRON Corporation",726:"Send Solutions",727:"NIPPON SYSTEMWARE CO.,LTD.",728:"Neosfar",729:"Fliegl Agrartechnik GmbH",730:"Gilvader",731:"Digi International Inc (R)",732:"DeWalch Technologies, Inc.",733:"Flint Rehabilitation Devices, LLC",734:"Samsung SDS Co., Ltd.",735:"Blur Product Development",736:"University of Michigan",737:"Victron Energy BV",738:"NTT docomo",739:"Carmanah Technologies Corp.",740:"Bytestorm Ltd.",741:"Espressif Incorporated ( () )",742:"Unwire",743:"Connected Yard, Inc.",744:"American Music Environments",745:"Sensogram Technologies, Inc.",746:"Fujitsu Limited",747:"Ardic Technology",748:"Delta Systems, Inc",749:"HTC Corporation",750:"Citizen Holdings Co., Ltd.",751:"SMART-INNOVATION.inc",752:"Blackrat Software",753:"The Idea Cave, LLC",754:"GoPro, Inc.",755:"AuthAir, Inc",756:"Vensi, Inc.",757:"Indagem Tech LLC",758:"Intemo Technologies",759:"DreamVisions co., Ltd.",760:"Runteq Oy Ltd",761:"IMAGINATION TECHNOLOGIES LTD",762:"CoSTAR TEchnologies",763:"Clarius Mobile Health Corp.",764:"Shanghai Frequen Microelectronics Co., Ltd.",765:"Uwanna, Inc.",766:"Lierda Science & Technology Group Co., Ltd.",767:"Silicon Laboratories",768:"World Moto Inc.",769:"Giatec Scientific Inc.",770:"Loop Devices, Inc",771:"IACA electronique",772:"Martians Inc",773:"Swipp ApS",774:"Life Laboratory Inc.",775:"FUJI INDUSTRIAL CO.,LTD.",776:"Surefire, LLC",777:"Dolby Labs",778:"Ellisys",779:"Magnitude Lighting Converters",780:"Hilti AG",781:"Devdata S.r.l.",782:"Deviceworx",783:"Shortcut Labs",784:"SGL Italia S.r.l.",785:"PEEQ DATA",786:"Ducere Technologies Pvt Ltd",787:"DiveNav, Inc.",788:"RIIG AI Sp. z o.o.",789:"Thermo Fisher Scientific",790:"AG Measurematics Pvt. Ltd.",791:"CHUO Electronics CO., LTD.",792:"Aspenta International",793:"Eugster Frismag AG",794:"Amber wireless GmbH",795:"HQ Inc",796:"Lab Sensor Solutions",797:"Enterlab ApS",798:"Eyefi, Inc.",799:"MetaSystem S.p.A.",800:"SONO ELECTRONICS. CO., LTD",801:"Jewelbots",802:"Compumedics Limited",803:"Rotor Bike Components",804:"Astro, Inc.",805:"Amotus Solutions",806:"Healthwear Technologies (Changzhou)Ltd",807:"Essex Electronics",808:"Grundfos A/S",809:"Eargo, Inc.",810:"Electronic Design Lab",811:"ESYLUX",812:"NIPPON SMT.CO.,Ltd",813:"BM innovations GmbH",814:"indoormap",815:"OttoQ Inc",816:"North Pole Engineering",817:"3flares Technologies Inc.",818:"Electrocompaniet A.S.",819:"Mul-T-Lock",820:"Corentium AS",821:"Enlighted Inc",822:"GISTIC",823:"AJP2 Holdings, LLC",824:"COBI GmbH",825:"Blue Sky Scientific, LLC",826:"Appception, Inc.",827:"Courtney Thorne Limited",828:"Virtuosys",829:"TPV Technology Limited",830:"Monitra SA",831:"Automation Components, Inc.",832:"Letsense s.r.l.",833:"Etesian Technologies LLC",834:"GERTEC BRASIL LTDA.",835:"Drekker Development Pty. Ltd.",836:"Whirl Inc",837:"Locus Positioning",838:"Acuity Brands Lighting, Inc",839:"Prevent Biometrics",840:"Arioneo",841:"VersaMe",842:"Vaddio",843:"Libratone A/S",844:"HM Electronics, Inc.",845:"TASER International, Inc.",846:"SafeTrust Inc.",847:"Heartland Payment Systems",848:"Bitstrata Systems Inc.",849:"Pieps GmbH",850:"iRiding(Xiamen)Technology Co.,Ltd.",851:"Alpha Audiotronics, Inc.",852:"TOPPAN FORMS CO.,LTD.",853:"Sigma Designs, Inc.",854:"Spectrum Brands, Inc.",855:"Polymap Wireless",856:"MagniWare Ltd.",857:"Novotec Medical GmbH",858:"Medicom Innovation Partner a/s",859:"Matrix Inc.",860:"Eaton Corporation",861:"KYS",862:"Naya Health, Inc.",863:"Acromag",864:"Insulet Corporation",865:"Wellinks Inc.",866:"ON Semiconductor",867:"FREELAP SA",868:"Favero Electronics Srl",869:"BioMech Sensor LLC",870:"BOLTT Sports technologies Private limited",871:"Saphe International",872:"Metormote AB",873:"littleBits",874:"SetPoint Medical",875:"BRControls Products BV",876:"Zipcar",877:"AirBolt Pty Ltd",878:"KeepTruckin Inc",879:"Motiv, Inc.",880:"Wazombi Labs O",881:"ORBCOMM",882:"Nixie Labs, Inc.",883:"AppNearMe Ltd",884:"Holman Industries",885:"Expain AS",886:"Electronic Temperature Instruments Ltd",887:"Plejd AB",888:"Propeller Health",889:"Shenzhen iMCO Electronic Technology Co.,Ltd",890:"Algoria",891:"Apption Labs Inc.",892:"Cronologics Corporation",893:"MICRODIA Ltd.",894:"lulabytes S.L.",895:"Nestec S.A.",896:"LLC MEGA - F service",897:"Sharp Corporation",898:"Precision Outcomes Ltd",899:"Kronos Incorporated",900:"OCOSMOS Co., Ltd.",901:"Embedded Electronic Solutions Ltd. dba e2Solutions",902:"Aterica Inc.",903:"BluStor PMC, Inc.",904:"Kapsch TrafficCom AB",905:"ActiveBlu Corporation",906:"Kohler Mira Limited",907:"Noke",908:"Appion Inc.",909:"Resmed Ltd",910:"Crownstone B.V.",911:"Xiaomi Inc.",912:"INFOTECH s.r.o.",913:"Thingsquare AB",914:"T&D",915:"LAVAZZA S.p.A.",916:"Netclearance Systems, Inc.",917:"SDATAWAY",918:"BLOKS GmbH",919:"LEGO System A/S",920:"Thetatronics Ltd",921:"Nikon Corporation",922:"NeST",923:"South Silicon Valley Microelectronics",924:"ALE International",925:"CareView Communications, Inc.",926:"SchoolBoard Limited",927:"Molex Corporation",928:"IVT Wireless Limited",929:"Alpine Labs LLC",930:"Candura Instruments",931:"SmartMovt Technology Co., Ltd",932:"Token Zero Ltd",933:"ACE CAD Enterprise Co., Ltd. (ACECAD)",934:"Medela, Inc",935:"AeroScout",936:"Esrille Inc.",937:"THINKERLY SRL",938:"Exon Sp. z o.o.",939:"Meizu Technology Co., Ltd.",940:"Smablo LTD",941:"XiQ",942:"Allswell Inc.",943:"Comm-N-Sense Corp DBA Verigo",944:"VIBRADORM GmbH",945:"Otodata Wireless Network Inc.",946:"Propagation Systems Limited",947:"Midwest Instruments & Controls",948:"Alpha Nodus, inc.",949:"petPOMM, Inc",950:"Mattel",951:"Airbly Inc.",952:"A-Safe Limited",953:"FREDERIQUE CONSTANT SA",954:"Maxscend Microelectronics Company Limited",955:"Abbott Diabetes Care",956:"ASB Bank Ltd",957:"amadas",958:"Applied Science, Inc.",959:"iLumi Solutions Inc.",960:"Arch Systems Inc.",961:"Ember Technologies, Inc.",962:"Snapchat Inc",963:"Casambi Technologies Oy",964:"Pico Technology Inc.",965:"St. Jude Medical, Inc.",966:"Intricon",967:"Structural Health Systems, Inc.",968:"Avvel International",969:"Gallagher Group",970:"In2things Automation Pvt. Ltd.",971:"SYSDEV Srl",972:"Vonkil Technologies Ltd",973:"Wynd Technologies, Inc.",974:"CONTRINEX S.A.",975:"MIRA, Inc.",976:"Watteam Ltd",977:"Density Inc.",978:"IOT Pot India Private Limited",979:"Sigma Connectivity AB",980:"PEG PEREGO SPA",981:"Wyzelink Systems Inc.",982:"Yota Devices LTD",983:"FINSECUR",984:"Zen-Me Labs Ltd",985:"3IWare Co., Ltd.",986:"EnOcean GmbH",987:"Instabeat, Inc",988:"Nima Labs",989:"Andreas Stihl AG & Co. KG",990:"Nathan Rhoades LLC",991:"Grob Technologies, LLC",992:"Actions (Zhuhai) Technology Co., Limited",993:"SPD Development Company Ltd",994:"Sensoan Oy",995:"Qualcomm Life Inc",996:"Chip-ing AG",997:"ffly4u",998:"IoT Instruments Oy",999:"TRUE Fitness Technology",1e3:"Reiner Kartengeraete GmbH & Co. KG.",1001:"SHENZHEN LEMONJOY TECHNOLOGY CO., LTD.",1002:"Hello Inc.",1003:"Evollve Inc.",1004:"Jigowatts Inc.",1005:"BASIC MICRO.COM,INC.",1006:"CUBE TECHNOLOGIES",1007:"foolography GmbH",1008:"CLINK",1009:"Hestan Smart Cooking Inc.",1010:"WindowMaster A/S",1011:"Flowscape AB",1012:"PAL Technologies Ltd",1013:"WHERE, Inc.",1014:"Iton Technology Corp.",1015:"Owl Labs Inc.",1016:"Rockford Corp.",1017:"Becon Technologies Co.,Ltd.",1018:"Vyassoft Technologies Inc",1019:"Nox Medical",1020:"Kimberly-Clark",1021:"Trimble Navigation Ltd.",1022:"Littelfuse",1023:"Withings",1024:"i-developer IT Beratung UG",1026:"Sears Holdings Corporation",1027:"Gantner Electronic GmbH",1028:"Authomate Inc",1029:"Vertex International, Inc.",1030:"Airtago",1031:"Swiss Audio SA",1032:"ToGetHome Inc.",1033:"AXIS",1034:"Openmatics",1035:"Jana Care Inc.",1036:"Senix Corporation",1037:"NorthStar Battery Company, LLC",1038:"SKF (U.K.) Limited",1039:"CO-AX Technology, Inc.",1040:"Fender Musical Instruments",1041:"Luidia Inc",1042:"SEFAM",1043:"Wireless Cables Inc",1044:"Lightning Protection International Pty Ltd",1045:"Uber Technologies Inc",1046:"SODA GmbH",1047:"Fatigue Science",1048:"Alpine Electronics Inc.",1049:"Novalogy LTD",1050:"Friday Labs Limited",1051:"OrthoAccel Technologies",1052:"WaterGuru, Inc.",1053:"Benning Elektrotechnik und Elektronik GmbH & Co. KG",1054:"Dell Computer Corporation",1055:"Kopin Corporation",1056:"TecBakery GmbH",1057:"Backbone Labs, Inc.",1058:"DELSEY SA",1059:"Chargifi Limited",1060:"Trainesense Ltd.",1061:"Unify Software and Solutions GmbH & Co. KG",1062:"Husqvarna AB",1063:"Focus fleet and fuel management inc",1064:"SmallLoop, LLC",1065:"Prolon Inc.",1066:"BD Medical",1067:"iMicroMed Incorporated",1068:"Ticto N.V.",1069:"Meshtech AS",1070:"MemCachier Inc.",1071:"Danfoss A/S",1072:"SnapStyk Inc.",1073:"Amyway Corporation",1074:"Silk Labs, Inc.",1075:"Pillsy Inc.",1076:"Hatch Baby, Inc.",1077:"Blocks Wearables Ltd.",1078:"Drayson Technologies (Europe) Limited",1079:"eBest IOT Inc.",1080:"Helvar Ltd",1081:"Radiance Technologies",1082:"Nuheara Limited",1083:"Appside co., ltd.",1084:"DeLaval",1085:"Coiler Corporation",1086:"Thermomedics, Inc.",1087:"Tentacle Sync GmbH",1088:"Valencell, Inc.",1089:"iProtoXi Oy",1090:"SECOM CO., LTD.",1091:"Tucker International LLC",1092:"Metanate Limited",1093:"Kobian Canada Inc.",1094:"NETGEAR, Inc.",1095:"Fabtronics Australia Pty Ltd",1096:"Grand Centrix GmbH",1097:"1UP USA.com llc",1098:"SHIMANO INC.",1099:"Nain Inc.",1100:"LifeStyle Lock, LLC",1101:"VEGA Grieshaber KG",1102:"Xtrava Inc.",1103:"TTS Tooltechnic Systems AG & Co. KG",1104:"Teenage Engineering AB",1105:"Tunstall Nordic AB",1106:"Svep Design Center AB",1107:"GreenPeak Technologies BV",1108:"Sphinx Electronics GmbH & Co KG",1109:"Atomation",1110:"Nemik Consulting Inc",1111:"RF INNOVATION",1112:"Mini Solution Co., Ltd.",1113:"Lumenetix, Inc",1114:"2048450 Ontario Inc",1115:"SPACEEK LTD",1116:"Delta T Corporation",1117:"Boston Scientific Corporation",1118:"Nuviz, Inc.",1119:"Real Time Automation, Inc.",1120:"Kolibree",1121:"vhf elektronik GmbH",1122:"Bonsai Systems GmbH",1123:"Fathom Systems Inc.",1124:"Bellman & Symfon",1125:"International Forte Group LLC",1126:"CycleLabs Solutions inc.",1127:"Codenex Oy",1128:"Kynesim Ltd",1129:"Palago AB",1130:"INSIGMA INC.",1131:"PMD Solutions",1132:"Qingdao Realtime Technology Co., Ltd.",1133:"BEGA Gantenbrink-Leuchten KG",1134:"Pambor Ltd.",65535:"SPECIAL USE/DEFAULT"};const vc=te.exec,Mc=te.execSync,Ac=Li,We=T,Ec=Pc,Tc=Be;let gt=process.platform;const Dc=gt==="linux"||gt==="android",Vc=gt==="darwin",bc=gt==="win32",Bc=gt==="freebsd",Nc=gt==="openbsd",kc=gt==="netbsd",Fc=gt==="sunos";function Hi(t){let n="";return t.indexOf("keyboard")>=0&&(n="Keyboard"),t.indexOf("mouse")>=0&&(n="Mouse"),t.indexOf("trackpad")>=0&&(n="Trackpad"),t.indexOf("speaker")>=0&&(n="Speaker"),t.indexOf("headset")>=0&&(n="Headset"),t.indexOf("phone")>=0&&(n="Phone"),t.indexOf("macbook")>=0&&(n="Computer"),t.indexOf("imac")>=0&&(n="Computer"),t.indexOf("ipad")>=0&&(n="Tablet"),t.indexOf("watch")>=0&&(n="Watch"),t.indexOf("headphone")>=0&&(n="Headset"),n}function Gc(t){let n=t.split(" ")[0];return t=t.toLowerCase(),t.indexOf("apple")>=0&&(n="Apple"),t.indexOf("ipad")>=0&&(n="Apple"),t.indexOf("imac")>=0&&(n="Apple"),t.indexOf("iphone")>=0&&(n="Apple"),t.indexOf("magic mouse")>=0&&(n="Apple"),t.indexOf("magic track")>=0&&(n="Apple"),t.indexOf("macbook")>=0&&(n="Apple"),n}function Wc(t){const n=parseInt(t);if(!isNaN(n))return Ec[n]}function Rc(t,n,e){const i={};return i.device=null,i.name=We.getValue(t,"name","="),i.manufacturer=null,i.macDevice=n,i.macHost=e,i.batteryPercent=null,i.type=Hi(i.name.toLowerCase()),i.connected=!1,i}function fi(t,n){const e={},i=((t.device_minorClassOfDevice_string||t.device_majorClassOfDevice_string||t.device_minorType||"")+(t.device_name||"")).toLowerCase();return e.device=t.device_services||"",e.name=t.device_name||"",e.manufacturer=t.device_manufacturer||Wc(t.device_vendorID)||Gc(t.device_name||"")||"",e.macDevice=(t.device_addr||t.device_address||"").toLowerCase().replace(/-/g,":"),e.macHost=n,e.batteryPercent=t.device_batteryPercent||null,e.type=Hi(i),e.connected=t.device_isconnected==="attrib_Yes"||!1,e}function zc(t){const n={};return n.device=null,n.name=We.getValue(t,"name",":"),n.manufacturer=We.getValue(t,"manufacturer",":"),n.macDevice=null,n.macHost=null,n.batteryPercent=null,n.type=Hi(n.name.toLowerCase()),n.connected=null,n}function Uc(t){return new Promise(n=>{process.nextTick(()=>{let e=[];if(Dc){We.getFilesInPath("/var/lib/bluetooth/").forEach(s=>{const r=Ac.basename(s),o=s.split("/"),a=o.length>=6?o[o.length-2]:null,l=o.length>=7?o[o.length-3]:null;if(r==="info"){const c=Tc.readFileSync(s,{encoding:"utf8"}).split(`
`);e.push(Rc(c,a,l))}});try{const s=Mc("hcitool con",We.execOptsLinux).toString().toLowerCase();for(let r=0;r<e.length;r++)e[r].macDevice&&e[r].macDevice.length>10&&s.indexOf(e[r].macDevice.toLowerCase())>=0&&(e[r].connected=!0)}catch{We.noop()}t&&t(e),n(e)}Vc&&vc("system_profiler SPBluetoothDataType -json",function(s,r){if(!s)try{const o=JSON.parse(r.toString());if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_title&&o.SPBluetoothDataType[0].device_title.length){let a=null;o.SPBluetoothDataType[0].local_device_title&&o.SPBluetoothDataType[0].local_device_title.general_address&&(a=o.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g,":")),o.SPBluetoothDataType[0].device_title.forEach(l=>{const c=l,u=Object.keys(c);if(u&&u.length===1){const f=c[u[0]];f.device_name=u[0];const p=fi(f,a);e.push(p)}})}if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_connected&&o.SPBluetoothDataType[0].device_connected.length){const a=o.SPBluetoothDataType[0].controller_properties&&o.SPBluetoothDataType[0].controller_properties.controller_address?o.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;o.SPBluetoothDataType[0].device_connected.forEach(l=>{const c=l,u=Object.keys(c);if(u&&u.length===1){const f=c[u[0]];f.device_name=u[0],f.device_isconnected="attrib_Yes";const p=fi(f,a);e.push(p)}})}if(o.SPBluetoothDataType&&o.SPBluetoothDataType.length&&o.SPBluetoothDataType[0]&&o.SPBluetoothDataType[0].device_not_connected&&o.SPBluetoothDataType[0].device_not_connected.length){const a=o.SPBluetoothDataType[0].controller_properties&&o.SPBluetoothDataType[0].controller_properties.controller_address?o.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;o.SPBluetoothDataType[0].device_not_connected.forEach(l=>{const c=l,u=Object.keys(c);if(u&&u.length===1){const f=c[u[0]];f.device_name=u[0],f.device_isconnected="attrib_No";const p=fi(f,a);e.push(p)}})}}catch{We.noop()}t&&t(e),n(e)}),bc&&We.powerShell("Get-CimInstance Win32_PNPEntity | select PNPClass, Name, Manufacturer | fl").then((i,s)=>{s||i.toString().split(/\n\s*\n/).forEach(o=>{We.getValue(o.split(`
`),"PNPClass",":")==="Bluetooth"&&e.push(zc(o.split(`
`)))}),t&&t(e),n(e)}),(Bc||kc||Nc||Fc)&&n(null)})})}ps.bluetoothDevices=Uc;(function(t){const n=Ls.version,e=T,i=hn,s=Et,r=ht,o=Ei,a=Yo,l=Jr,c=Tt,u=Dt,f=Yn,p=Jn,d=ss,m=Wi,g=xt,y=as,h=ls,x=cs,S=us,C=ps;let w=process.platform;const B=w==="win32",E=w==="freebsd",X=w==="openbsd",O=w==="netbsd",U=w==="sunos";B&&(e.getCodepage(),e.getPowershell());function k(){return n}function ne(H){return new Promise(Z=>{process.nextTick(()=>{let z={};z.version=k(),Promise.all([i.system(),i.bios(),i.baseboard(),i.chassis(),s.osInfo(),s.uuid(),s.versions(),r.cpu(),r.cpuFlags(),l.graphics(),u.networkInterfaces(),o.memLayout(),c.diskLayout(),S.audio(),C.bluetoothDevices(),x.usb(),h.printer()]).then(G=>{z.system=G[0],z.bios=G[1],z.baseboard=G[2],z.chassis=G[3],z.os=G[4],z.uuid=G[5],z.versions=G[6],z.cpu=G[7],z.cpu.flags=G[8],z.graphics=G[9],z.net=G[10],z.memLayout=G[11],z.diskLayout=G[12],z.audio=G[13],z.bluetooth=G[14],z.usb=G[15],z.printer=G[16],H&&H(z),Z(z)})})})}function se(H,Z,z){return e.isFunction(Z)&&(z=Z,Z=""),e.isFunction(H)&&(z=H,H=""),new Promise(G=>{process.nextTick(()=>{Z=Z||u.getDefaultNetworkInterface(),H=H||"";let V=function(){let R=15;return B&&(R=13),(E||X||O)&&(R=11),U&&(R=6),function(){--R===0&&(z&&z(j),G(j))}}(),j={};j.time=s.time(),j.node=process.versions.node,j.v8=process.versions.v8,r.cpuCurrentSpeed().then(R=>{j.cpuCurrentSpeed=R,V()}),d.users().then(R=>{j.users=R,V()}),p.processes().then(R=>{j.processes=R,V()}),r.currentLoad().then(R=>{j.currentLoad=R,V()}),U||r.cpuTemperature().then(R=>{j.temp=R,V()}),!X&&!E&&!O&&!U&&u.networkStats(Z).then(R=>{j.networkStats=R,V()}),U||u.networkConnections().then(R=>{j.networkConnections=R,V()}),o.mem().then(R=>{j.mem=R,V()}),U||a().then(R=>{j.battery=R,V()}),U||p.services(H).then(R=>{j.services=R,V()}),U||c.fsSize().then(R=>{j.fsSize=R,V()}),!B&&!X&&!E&&!O&&!U&&c.fsStats().then(R=>{j.fsStats=R,V()}),!B&&!X&&!E&&!O&&!U&&c.disksIO().then(R=>{j.disksIO=R,V()}),!X&&!E&&!O&&!U&&f.wifiNetworks().then(R=>{j.wifiNetworks=R,V()}),m.inetLatency().then(R=>{j.inetLatency=R,V()})})})}function le(H,Z,z){return new Promise(G=>{process.nextTick(()=>{let V={};Z&&e.isFunction(Z)&&!z&&(z=Z,Z=""),H&&e.isFunction(H)&&!Z&&!z&&(z=H,H="",Z=""),ne().then(j=>{V=j,se(H,Z).then(R=>{for(let Se in R)({}).hasOwnProperty.call(R,Se)&&(V[Se]=R[Se]);z&&z(V),G(V)})})})})}function q(H,Z){return new Promise(z=>{process.nextTick(()=>{const G=Object.keys(H).filter(V=>({}).hasOwnProperty.call(t,V)).map(V=>{const j=H[V].substring(H[V].lastIndexOf("(")+1,H[V].lastIndexOf(")"));let R=V.indexOf(")")>=0?V.split(")")[1].trim():V;return R=V.indexOf("|")>=0?V.split("|")[0].trim():R,j?t[R](j):t[R]("")});Promise.all(G).then(V=>{const j={};let R=0;for(let Se in H)if({}.hasOwnProperty.call(H,Se)&&{}.hasOwnProperty.call(t,Se)&&V.length>R){if(H[Se]==="*"||H[Se]==="all")j[Se]=V[R];else{let xe=H[Se],Qn="",Vt=[];if(xe.indexOf(")")>=0&&(xe=xe.split(")")[1].trim()),xe.indexOf("|")>=0&&(Qn=xe.split("|")[1].trim(),Vt=Qn.split(":"),xe=xe.split("|")[0].trim()),xe=xe.replace(/,/g," ").replace(/ +/g," ").split(" "),V[R])if(Array.isArray(V[R])){const St=[];V[R].forEach(Ct=>{let wt={};if(xe.length===1&&(xe[0]==="*"||xe[0]==="all")?wt=Ct:xe.forEach(He=>{({}).hasOwnProperty.call(Ct,He)&&(wt[He]=Ct[He])}),Qn&&Vt.length===2){if({}.hasOwnProperty.call(wt,Vt[0].trim())){const He=wt[Vt[0].trim()];typeof He=="number"?He===parseFloat(Vt[1].trim())&&St.push(wt):typeof He=="string"&&He.toLowerCase()===Vt[1].trim().toLowerCase()&&St.push(wt)}}else St.push(wt)}),j[Se]=St}else{const St={};xe.forEach(Ct=>{({}).hasOwnProperty.call(V[R],Ct)&&(St[Ct]=V[R][Ct])}),j[Se]=St}else j[Se]={}}R++}Z&&Z(j),z(j)})})})}function pe(H,Z,z){let G=null;return setInterval(()=>{q(H).then(j=>{JSON.stringify(G)!==JSON.stringify(j)&&(G=Object.assign({},j),z(j))})},Z)}t.version=k,t.system=i.system,t.bios=i.bios,t.baseboard=i.baseboard,t.chassis=i.chassis,t.time=s.time,t.osInfo=s.osInfo,t.versions=s.versions,t.shell=s.shell,t.uuid=s.uuid,t.cpu=r.cpu,t.cpuFlags=r.cpuFlags,t.cpuCache=r.cpuCache,t.cpuCurrentSpeed=r.cpuCurrentSpeed,t.cpuTemperature=r.cpuTemperature,t.currentLoad=r.currentLoad,t.fullLoad=r.fullLoad,t.mem=o.mem,t.memLayout=o.memLayout,t.battery=a,t.graphics=l.graphics,t.fsSize=c.fsSize,t.fsOpenFiles=c.fsOpenFiles,t.blockDevices=c.blockDevices,t.fsStats=c.fsStats,t.disksIO=c.disksIO,t.diskLayout=c.diskLayout,t.networkInterfaceDefault=u.networkInterfaceDefault,t.networkGatewayDefault=u.networkGatewayDefault,t.networkInterfaces=u.networkInterfaces,t.networkStats=u.networkStats,t.networkConnections=u.networkConnections,t.wifiNetworks=f.wifiNetworks,t.wifiInterfaces=f.wifiInterfaces,t.wifiConnections=f.wifiConnections,t.services=p.services,t.processes=p.processes,t.processLoad=p.processLoad,t.users=d.users,t.inetChecksite=m.inetChecksite,t.inetLatency=m.inetLatency,t.dockerInfo=g.dockerInfo,t.dockerImages=g.dockerImages,t.dockerContainers=g.dockerContainers,t.dockerContainerStats=g.dockerContainerStats,t.dockerContainerProcesses=g.dockerContainerProcesses,t.dockerVolumes=g.dockerVolumes,t.dockerAll=g.dockerAll,t.vboxInfo=y.vboxInfo,t.printer=h.printer,t.usb=x.usb,t.audio=S.audio,t.bluetoothDevices=C.bluetoothDevices,t.getStaticData=ne,t.getDynamicData=se,t.getAllData=le,t.get=q,t.observe=pe,t.powerShellStart=e.powerShellStart,t.powerShellRelease=e.powerShellRelease})(Or);const di=_r(Or);var fs=te,Cr=fs.spawn,Hc=fs.exec,$c=function(t,n,e){if(typeof n=="function"&&e===void 0&&(e=n,n=void 0),t=parseInt(t),Number.isNaN(t)){if(e)return e(new Error("pid must be a number"));throw new Error("pid must be a number")}var i={},s={};switch(i[t]=[],s[t]=1,process.platform){case"win32":Hc("taskkill /pid "+t+" /T /F",e);break;case"darwin":wi(t,i,s,function(r){return Cr("pgrep",["-P",r])},function(){wr(i,n,e)});break;default:wi(t,i,s,function(r){return Cr("ps",["-o","pid","--no-headers","--ppid",r])},function(){wr(i,n,e)});break}};function wr(t,n,e){var i={};try{Object.keys(t).forEach(function(s){t[s].forEach(function(r){i[r]||(Lr(r,n),i[r]=1)}),i[s]||(Lr(s,n),i[s]=1)})}catch(s){if(e)return e(s);throw s}if(e)return e()}function Lr(t,n){try{process.kill(parseInt(t,10),n)}catch(e){if(e.code!=="ESRCH")throw e}}function wi(t,n,e,i,s){var r=i(t),o="";r.stdout.on("data",function(c){var c=c.toString("ascii");o+=c});var a=function(l){if(delete e[t],l!=0){Object.keys(e).length==0&&s();return}o.match(/\d+/g).forEach(function(c){c=parseInt(c,10),n[t].push(c),n[c]=[],e[c]=1,wi(c,n,e,i,s)})};r.on("close",a)}const Ir=_r($c);me.app.isPackaged?global.geodatadir=Fe.join(process.resourcesPath,"data"):global.geodatadir=Fe.join(__dirname,"../node_modules/geoip-lite/data");const Xc=require("geoip-lite");process.env.DIST=Fe.join(__dirname,"../dist");process.env.VITE_PUBLIC=me.app.isPackaged?process.env.DIST:Fe.join(__dirname,"../public");let _t,qe=null;const Nn=process.env.VITE_DEV_SERVER_URL;function Kc(){qe=new me.BrowserWindow({width:250,height:120,frame:!1,transparent:!0,alwaysOnTop:!0,skipTaskbar:!0,resizable:!1,webPreferences:{preload:Fe.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0}}),qe.setIgnoreMouseEvents(!0,{forward:!0}),Nn?qe.loadURL(`${Nn}#/overlay`):qe.loadFile(Fe.join(process.env.DIST||"","index.html"),{hash:"overlay"}),qe.on("closed",()=>{qe=null})}function ds(){_t=new me.BrowserWindow({width:1e3,height:800,icon:Fe.join(process.env.VITE_PUBLIC||"","electron-vite.svg"),webPreferences:{preload:Fe.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0},title:"NetMonitor Pro",autoHideMenuBar:!0}),_t.webContents.on("did-finish-load",()=>{_t==null||_t.webContents.send("main-process-message",new Date().toLocaleString())}),Nn?_t.loadURL(Nn):_t.loadFile(Fe.join(process.env.DIST||"","index.html"))}me.app.on("window-all-closed",()=>{process.platform!=="darwin"&&me.app.quit()});me.app.on("activate",()=>{me.BrowserWindow.getAllWindows().length===0&&ds()});me.app.whenReady().then(()=>{ds(),me.ipcMain.handle("get-traffic-stats",async()=>{try{const t=await di.networkStats(),n=await di.networkInterfaceDefault();return t.find(i=>i.iface===n)||t[0]}catch(t){return console.error("Error fetching traffic stats:",t),null}}),me.ipcMain.handle("get-network-connections",async()=>{try{return await di.networkConnections()}catch(t){return console.error("Error fetching connections:",t),[]}}),me.ipcMain.handle("kill-process",async(t,n)=>new Promise(e=>{if(!n||n===-1){e(!1);return}Ir(n,"SIGKILL",i=>{i?(console.error(`Failed to kill process ${n}:`,i),e(!1)):e(!0)})})),me.ipcMain.handle("get-ip-locations",async(t,n)=>{try{const e=[...new Set(n)],i={};let s=null;const r=Fe.join(global.geodatadir,"GeoLite2-ASN.mmdb");if(Cs.existsSync(r))try{s=require("@maxmind/geoip2-node").Reader.open(r)}catch(o){console.warn("Failed to open ASN Database:",o)}for(const o of e){const a=Xc.lookup(o);let l=s?"Unknown ISP":"ISP Info Unavailable (No DB)",c="";if(s)try{const u=s.asn(o);l=u.autonomousSystemOrganization||"Unknown ISP",c=u.autonomousSystemNumber?`AS${u.autonomousSystemNumber}`:""}catch{}a?i[o]={lat:a.ll[0],lon:a.ll[1],country:a.country,city:a.city,isp:l,asn:c}:i[o]=null}return i}catch(e){return console.error("Failed to lookup IPs:",e),{}}}),me.ipcMain.handle("kill-process",async(t,n)=>{if(!Number.isInteger(n))return!1;if(n<1e3)return console.warn(`SECURITY BLOCKED: Attempt to kill low PID ${n}`),!1;try{return await new Promise((e,i)=>{Ir(n,"SIGKILL",s=>{s?i(s):e()})}),!0}catch(e){return console.error(`Failed to kill process ${n}:`,e),!1}}),me.ipcMain.handle("toggle-overlay",()=>qe?(qe.close(),!1):(Kc(),!0))});
